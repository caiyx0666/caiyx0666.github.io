<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>æ•´ç†H5ã€CSS3æ–°å¢ç‰¹æ€§</title>
      <link href="H5andC3/"/>
      <url>H5andC3/</url>
      
        <content type="html"><![CDATA[<h1 id="æ•´ç†H5ã€CSS3æ–°å¢ç‰¹æ€§"><a href="#æ•´ç†H5ã€CSS3æ–°å¢ç‰¹æ€§" class="headerlink" title="æ•´ç†H5ã€CSS3æ–°å¢ç‰¹æ€§"></a>æ•´ç†H5ã€CSS3æ–°å¢ç‰¹æ€§</h1><h2 id="H5"><a href="#H5" class="headerlink" title="H5"></a>H5</h2><h3 id="æ–°å¢è¯­ä¹‰åŒ–æ ‡ç­¾"><a href="#æ–°å¢è¯­ä¹‰åŒ–æ ‡ç­¾" class="headerlink" title="æ–°å¢è¯­ä¹‰åŒ–æ ‡ç­¾"></a>æ–°å¢è¯­ä¹‰åŒ–æ ‡ç­¾</h3><ul><li><code>&lt;header&gt;</code> æ ‡è®°å®šä¹‰ä¸€ä¸ªé¡µé¢æˆ–åŒºåŸŸçš„å¤´éƒ¨</li><li><code>&lt;nav&gt;</code> æ ‡è®°å®šä¹‰å¯¼èˆªé“¾æ¥</li><li><code>&lt;section&gt;</code> æ ‡è®°å®šä¹‰ä¸€ä¸ªåŒºåŸŸ</li><li><code>&lt;aside&gt;</code> æ ‡è®°å®šä¹‰é¡µé¢é¡µé¢å†…å®¹éƒ¨åˆ†çš„ä¾§è¾¹æ </li><li><code>&lt;article&gt;</code> æ ‡è®°å®šä¹‰ä¸€ç¯‡æ–‡ç« </li><li><code>&lt;hgroup&gt;</code> æ ‡è®°å®šä¹‰æ–‡ä»¶ä¸­çš„ä¸€ä¸ªåŒºå—çš„ç›¸å…³ä¿¡æ¯</li><li><code>&lt;figure&gt;</code> æ ‡è®°å®šä¹‰ä¸€ç»„åª’ä½“å†…å®¹</li><li><code>&lt;figcaption&gt;</code> æ ‡è®°å®šä¹‰ figure å…ƒç´ çš„æ ‡é¢˜</li><li><code>&lt;dialog&gt;</code> æ ‡è®°å®šä¹‰ä¸€ä¸ªå¯¹è¯æ¡†ï¼ˆä¼šè¯æ¡†ï¼‰ç±»ä¼¼å¾®ä¿¡</li><li><code>&lt;footer&gt;</code> æ ‡è®°å®šä¹‰ä¸€ä¸ªé¡µé¢æˆ–ä¸€ä¸ªåŒºåŸŸçš„åº•éƒ¨</li></ul><p>å€Ÿå›¾ä¸€ç”¨ğŸ™ˆ</p><p><img src="https://user-gold-cdn.xitu.io/2019/8/20/16caad4b1886450e?imageView2/0/w/1280/h/960/format/webp/ignore-error/1"></p><h3 id="ä»€ä¹ˆæ˜¯HTMLè¯­ä¹‰åŒ–ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯HTMLè¯­ä¹‰åŒ–ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯HTMLè¯­ä¹‰åŒ–ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯HTMLè¯­ä¹‰åŒ–ï¼Ÿ</h3><p>æ ¹æ®å†…å®¹çš„ç»“æ„åŒ–ï¼ˆå†…å®¹è¯­ä¹‰åŒ–ï¼‰ï¼Œé€‰æ‹©åˆé€‚çš„æ ‡ç­¾ï¼ˆä»£ç è¯­ä¹‰åŒ–ï¼‰ä¾¿äºå¼€å‘è€…é˜…è¯»å’Œå†™å‡ºæ›´ä¼˜é›…çš„ä»£ç çš„åŒæ—¶è®©æµè§ˆå™¨çš„çˆ¬è™«å’Œæœºå™¨å¾ˆå¥½çš„è§£æã€‚</p><h3 id="ä¸ºä»€ä¹ˆè¦è¯­ä¹‰åŒ–ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆè¦è¯­ä¹‰åŒ–ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆè¦è¯­ä¹‰åŒ–ï¼Ÿ"></a>ä¸ºä»€ä¹ˆè¦è¯­ä¹‰åŒ–ï¼Ÿ</h3><ul><li>ä¸ºäº†åœ¨æ²¡æœ‰CSSçš„æƒ…å†µä¸‹ï¼›é¡µé¢ä¹Ÿèƒ½å‘ˆç°å¾ˆå¥½çš„å†…å®¹ç»“æ„ã€ä»£ç ç»“æ„</li><li>æœ‰åˆ©äºSEOï¼šå’Œæœç´¢å¼•æ“å»ºç«‹è‰¯å¥½æ²Ÿé€šï¼Œæœ‰åŠ©äºçˆ¬è™«æŠ“å–æ›´å¤šçš„æœ‰æ•ˆä¿¡æ¯ï¼šçˆ¬è™«ä¾èµ–æ ‡ç­¾æ¥ç¡®å®šä¸Šä¸‹æ–‡å’Œå„ä¸ªå…³é”®å­—çš„æƒé‡ï¼›</li><li>æ–¹ä¾¿å…¶ä»–è®¾å¤‡è§£æï¼ˆå¦‚å±å¹•é˜…è¯»å™¨ã€ç›²äººé˜…è¯»å™¨ã€ç§»åŠ¨è®¾å¤‡ï¼‰ä»¥æ„ä¹‰çš„æ–¹å¼æ¥æ¸²æŸ“ç½‘é¡µï¼›</li><li>ä¾¿äºå›¢é˜Ÿå¼€å‘å’Œç»´æŠ¤ï¼Œè¯­ä¹‰åŒ–æ›´å…·æœ‰å¯è¯»æ€§ï¼Œéµå¾ªW3Cæ ‡å‡†çš„å›¢é˜Ÿéƒ½éµå¾ªè¿™ä¸ªæ ‡å‡†ï¼Œå¯ä»¥å‡å°‘å·®å¼‚åŒ–ã€‚</li></ul><h3 id="ä¹¦å†™HTMLä»£ç æ—¶åº”æ³¨æ„ä»€ä¹ˆï¼Ÿ"><a href="#ä¹¦å†™HTMLä»£ç æ—¶åº”æ³¨æ„ä»€ä¹ˆï¼Ÿ" class="headerlink" title="ä¹¦å†™HTMLä»£ç æ—¶åº”æ³¨æ„ä»€ä¹ˆï¼Ÿ"></a>ä¹¦å†™HTMLä»£ç æ—¶åº”æ³¨æ„ä»€ä¹ˆï¼Ÿ</h3><ul><li>å°½å¯èƒ½å°‘ä½¿ç”¨æ— è¯­ä¹‰çš„æ ‡ç­¾<code>div</code>å’Œ<code>span</code></li><li>åœ¨è¯­ä¹‰ä¸æ˜æ˜¾æ—¶ï¼Œå³å¯ä»¥ä½¿ç”¨<code>div</code>æ ‡ç­¾å’Œ<code>p</code>æ ‡ç­¾æ—¶ï¼Œå°½é‡ä½¿ç”¨<code>p</code>æ ‡ç­¾ï¼Œå› ä¸ºpæ ‡ç­¾åœ¨é»˜è®¤æƒ…å†µä¸‹æœ‰ä¸Šä¸‹é—´è·ï¼Œå¯¹å…¼å®¹ç‰¹æ®Šç»ˆç«¯æœ‰åˆ©ï¼›</li><li>ä¸è¦ä½¿ç”¨çº¯æ ·å¼æ ‡ç­¾ï¼Œä¾‹å¦‚ï¼š<code>b</code>ã€<code>font</code>ã€<code>u</code>ç­‰ï¼Œæ”¹ç”¨cssè®¾ç½®ã€‚</li><li>éœ€è¦å¼ºè°ƒçš„æ–‡æœ¬ï¼Œå¯ä»¥åŒ…å«åœ¨<code>strong</code>æˆ–è€…<code>em</code>æ ‡ç­¾ä¸­ï¼ˆæ›¿æ¢ b/iï¼‰</li><li>ä½¿ç”¨è¡¨æ ¼æ—¶ï¼Œæ ‡é¢˜è¦ç”¨<code>caption</code>ï¼Œè¡¨å¤´è¦ç”¨<code>thead</code>ï¼Œä¸»ä½“éƒ¨åˆ†ç”¨<code>tbody</code>åŒ…å›´ï¼Œå°¾éƒ¨ç”¨<code>tfoot</code>ã€‚è¡¨å¤´å’Œä¸€èˆ¬å•ä½æ ¼è¦åŒºåˆ†å¼€ï¼Œè¡¨å¤´ç”¨<code>th</code>ï¼Œå•å…ƒæ ¼ç”¨<code>td</code></li><li>è¡¨å•åŸŸè¦ç”¨<code>fieldset</code>æ ‡ç­¾åŒ…èµ·æ¥ï¼Œå¹¶ç”¨<code>legend</code>æ ‡ç­¾è¯´æ˜è¡¨å•çš„ç”¨é€”</li><li>æ¯ä¸ª<code>input</code>æ ‡ç­¾å¯¹åº”çš„è¯´æ˜æ–‡æœ¬éƒ½éœ€è¦ä½¿ç”¨<code>label</code>æ ‡ç­¾ï¼Œå¹¶ä¸”é€šè¿‡<code>input</code>è®¾ç½®idå±æ€§ï¼Œåœ¨lableæ ‡ç­¾ä¸­è®¾ç½®<code>for=someld</code>æ¥è®©è¯´æ˜æ–‡æœ¬å’Œç›¸å¯¹åº”çš„<code>input</code>å…³è”èµ·æ¥</li></ul><h3 id="inputæ–°å¢çš„type"><a href="#inputæ–°å¢çš„type" class="headerlink" title="inputæ–°å¢çš„type"></a>inputæ–°å¢çš„type</h3><ul><li>email</li><li>url</li><li>number</li><li>range</li><li>date â€”â€” é€‰å–å¹´ã€æœˆã€æ—¥</li><li>month â€”â€” é€‰å–å¹´ã€æœˆ</li><li>week â€”â€” é€‰å–å‘¨ã€å¹´</li><li>time â€”â€” é€‰å–æ—¶é—´ï¼ˆå°æ—¶å’Œåˆ†é’Ÿï¼‰</li><li>datetime â€”â€” é€‰å–æ—¶é—´ã€å¹´ã€æœˆã€æ—¥ï¼ˆUTCæ—¶é—´ï¼‰</li><li>datetime-local â€”â€” é€‰å–æ—¶é—´ã€å¹´ã€æœˆã€æ—¥ï¼ˆæœ¬åœ°æ—¶é—´ï¼‰</li></ul><h3 id="è¡¨å•å±æ€§"><a href="#è¡¨å•å±æ€§" class="headerlink" title="è¡¨å•å±æ€§"></a>è¡¨å•å±æ€§</h3><ul><li><code>autocomplete</code>ï¼šè‡ªåŠ¨å®Œæˆï¼Œé€‚ç”¨äº<code>&lt;form&gt;</code>æ ‡ç­¾ï¼Œä»¥åŠä»¥ä¸‹ç±»å‹çš„<code>&lt;input&gt;</code>æ ‡ç­¾ï¼štextï¼Œsearchï¼Œurlï¼Œemailï¼Œpasswordï¼Œdatepickersï¼Œrangeï¼Œcolorã€‚ç”¨æ³•ï¼š<code>&lt;form autocomplete=&quot;on&quot;&gt;&lt;/form&gt;</code>æˆ–è€…å•ç‹¬åœ¨inputä¸­ä½¿ç”¨off</li><li><code>autofocus</code>ï¼šè‡ªåŠ¨åœ°è·å–ç„¦ç‚¹ï¼Œé€‚ç”¨äºæ‰€æœ‰<code>&lt;input&gt;</code>æ ‡ç­¾çš„ç±»å‹ç”¨æ³•ï¼š<code>&lt;input autofocus=&quot;autofocus&quot; /&gt;</code></li><li><code>multiple</code>ï¼šå¯é€‰æ‹©å¤šä¸ªå€¼ï¼Œé€‚ç”¨äº<code>&lt;input&gt;</code>ä¸­çš„typeä¸º<code>email</code>å’Œ<code>file</code>ï¼Œç”¨æ³•ï¼š<code>&lt;input type=&quot;file&quot; multiple=&quot;multiple&quot; /&gt;</code></li><li><code>placeholder</code>ï¼šé€‚ç”¨äº<code>&lt;input&gt;</code>ä¸­çš„typeä¸ºï¼štextï¼Œsearchï¼Œurlï¼Œemailï¼Œpasword</li><li><code>required</code>ï¼šè§„å®šä¸èƒ½ä¸ºç©ºï¼Œé€‚ç”¨äº<code>&lt;input&gt;</code>æ ‡ç­¾ä¸­çš„typeä¸ºï¼štextï¼Œsearchï¼Œurlï¼Œemailï¼Œpasswordï¼Œdate pickersï¼Œnumberï¼Œcheckboxï¼Œradioï¼Œfileï¼Œç”¨æ³•ï¼š<code>&lt;input type=&quot;text&quot; required=&quot;required&quot; /&gt;</code></li></ul><h3 id="Web-Storage"><a href="#Web-Storage" class="headerlink" title="Web Storage"></a>Web Storage</h3><p>ä½¿ç”¨HTML5å¯ä»¥åœ¨æœ¬åœ°å­˜å‚¨ç”¨æˆ·çš„æµè§ˆæ•°æ®ã€‚æ—©äº›æ—¶å€™ï¼Œæœ¬åœ°å­˜å‚¨ä½¿ç”¨çš„æ˜¯<code>cookies</code>ã€‚ä½†æ˜¯Webå­˜å‚¨éœ€è¦æ›´åŠ çš„å®‰å…¨å’Œå¿«é€Ÿã€‚</p><p>è¿™äº›æ•°æ®ä¸ä¼šä¿å­˜åœ¨æœåŠ¡å™¨ä¸Šï¼Œä½†æ˜¯è¿™äº›æ•°æ®åªç”¨äºç”¨æˆ·è¯·æ±‚ç½‘ç«™æ•°æ®ä¸Šï¼Œå®ƒä¹Ÿå¯ä»¥å­˜å‚¨å¤§é‡çš„æ•°æ®ï¼Œè€Œä¸å½±å“ç½‘ç«™çš„æ€§èƒ½ã€‚æ•°æ®ä»¥ é”®å€¼å¯¹ å­˜åœ¨ï¼Œwebç½‘é¡µçš„æ•°æ®åªå…è®¸è¯¥ç½‘é¡µè®¿é—®ä½¿ç”¨ã€‚</p><p>å®¢æˆ·ç«¯å­˜å‚¨æ•°æ®çš„ä¸¤ä¸ªå¯¹è±¡ä¸ºï¼š</p><ul><li>localStorageï¼šæ²¡æœ‰æ—¶é—´é™åˆ¶çš„æ•°æ®å­˜å‚¨</li><li>sessionStorageï¼šé’ˆå¯¹ä¸€ä¸ªsessionçš„æ•°æ®å­˜å‚¨ï¼Œå½“ç”¨æˆ·å…³é—­æµè§ˆå™¨çª—å£åï¼Œæ•°æ®ä¼šè¢«åˆ é™¤ã€‚</li></ul><p>ä¸ç®¡æ˜¯ <code>localStorage</code>è¿˜æ˜¯<code>sessionStorage</code>ï¼Œå¯ä»¥ä½¿ç”¨çš„APIéƒ½ç›¸åŒï¼Œå¸¸ç”¨çš„å¦‚ä¸‹å‡ ä¸ªï¼ˆä»¥localStorageä¸ºä¾‹ï¼‰ï¼š</p><ul><li><p>å­˜å‚¨æ•°æ®ï¼šlocalStorage.setItem(key,value)ï¼›</p></li><li><p>è¯»å–æ•°æ®ï¼šlocalStorage.getItem(key)ï¼›</p></li><li><p>åˆ é™¤å•ä¸ªæ•°æ®ï¼šlocalStorage.removeItem(key)ï¼›</p></li><li><p>æ¸…ç©ºæ‰€æœ‰æ•°æ®ï¼šlocalStorage.clear()ï¼›</p></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> html </tag>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è¿™ä¸€æ¬¡ï¼Œå½»åº•å¼„æ‡‚pxã€emã€remã€%ã€vwã€vhã€vm</title>
      <link href="danwei/"/>
      <url>danwei/</url>
      
        <content type="html"><![CDATA[<h1 id="è¿™ä¸€æ¬¡ï¼Œå½»åº•å¼„æ‡‚emã€remã€vwã€vh"><a href="#è¿™ä¸€æ¬¡ï¼Œå½»åº•å¼„æ‡‚emã€remã€vwã€vh" class="headerlink" title="è¿™ä¸€æ¬¡ï¼Œå½»åº•å¼„æ‡‚emã€remã€vwã€vh"></a>è¿™ä¸€æ¬¡ï¼Œå½»åº•å¼„æ‡‚emã€remã€vwã€vh</h1><h2 id="èƒŒæ™¯ä»‹ç»"><a href="#èƒŒæ™¯ä»‹ç»" class="headerlink" title="èƒŒæ™¯ä»‹ç»"></a>èƒŒæ™¯ä»‹ç»</h2><p>éšç€Webçš„å‘å±•ï¼Œå¯¹é¡µé¢è¦æ±‚çš„æé«˜ï¼Œå¾ˆå¤šæ—¶å€™æˆ‘ä»¬éƒ½éœ€è¦å»é€‚é…å¤šä¸ªè®¾å¤‡ï¼Œè¿™å°±éœ€è¦æˆ‘ä»¬å¯¹ä¸åŒçš„å•ä½è¿›è¡Œæ·±å…¥çš„äº†è§£ï¼Œè®©æˆ‘ä»¬èƒ½å¤Ÿåšåˆ°åœ¨ä»€ä¹ˆåœ°æ–¹ï¼Œä½¿ç”¨ä»€ä¹ˆå•ä½è¿›è¡Œå¼€å‘æœ€ä¸ºåˆé€‚ï¼Œæœ¬ç¯‡æ–‡ç« éƒ½ä¼šæ¥å‘Šè¯‰ä½ ï¼Œè®©ä½ å½»åº•å¼„æ‡‚å„ä¸ªå•ä½çš„ä½¿ç”¨æ–¹æ³•ã€‚</p><h3 id="em"><a href="#em" class="headerlink" title="em"></a>em</h3><p>emæ˜¯ä¸€ä¸ªç›¸å¯¹å•ä½ï¼Œå‚è€ƒç‰©æ˜¯çˆ¶å…ƒç´ çš„ <code>font-size</code> ï¼Œå…·æœ‰ç»§æ‰¿çš„ç‰¹ç‚¹ã€‚å¦‚æœè‡ªèº«å®šä¹‰äº† <code>font-size</code>æŒ‰è‡ªèº«æ¥è®¡ç®—ï¼ˆæµè§ˆå™¨é»˜è®¤å­—ä½“æ˜¯16pxï¼‰ï¼Œæ•´ä¸ªé¡µé¢å†…1emä¸æ˜¯ä¸€ä¸ªå›ºå®šçš„å€¼ã€‚</p><p>ç‰¹ç‚¹ï¼š</p><ol><li>emä¼šç»§æ‰¿çˆ¶çº§å…ƒç´ çš„å­—ä½“å¤§å°</li><li>emçš„å€¼å¹¶ä¸æ˜¯å›ºå®šçš„</li></ol><h3 id="rem"><a href="#rem" class="headerlink" title="rem"></a>rem</h3><p>remä¹Ÿæ˜¯ä¸€ä¸ªç›¸å¯¹å•ä½ï¼Œä½†æ˜¯å®ƒæ˜¯ç›¸å¯¹äºæ ¹å…ƒç´ çš„ï¼Œè¿™æ ·å°±æ„ä¸ºè€…ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨æ ¹å…ƒç´ ç¡®å®šä¸€ä¸ªå‚è€ƒå€¼ï¼Œæ¯”å¦‚æˆ‘ä»¬è®¾ç½®<code>html</code>å­—ä½“ä¸ºå¤§å°ä¸º<code>10px</code>ï¼Œåœ¨é¡µé¢çš„å…¶ä»–åœ°æ–¹è®¾ç½®<code>2rem</code>å…¶å®å°±æ˜¯<code>20px</code>ï¼Œä»¥æ­¤ç±»æ¨ã€‚</p><h3 id="vw"><a href="#vw" class="headerlink" title="vw"></a>vw</h3><p>vwæ˜¯ç›¸å¯¹äºè§†å£çš„å®½åº¦ã€‚ä½ å¯ä»¥ç†è§£ä¸ºå®ƒæ˜¯ä¸€ä¸ªç™¾åˆ†æ¯”å•ä½ï¼Œåªæ˜¯å®ƒçš„å‚è€ƒç‰©æ°¸è¿œéƒ½æ˜¯è§†å£å®½åº¦</p><h3 id="vh"><a href="#vh" class="headerlink" title="vh"></a>vh</h3><p>vhæ˜¯ç›¸å¯¹äºè§†å£çš„é«˜åº¦ï¼ŒåŒæ ·çš„ï¼Œä½ ä¹Ÿå¯ä»¥ç†è§£ä¸ºæ˜¯ä¸€ä¸ªç™¾åˆ†æ¯”å•ä½ï¼Œåªæ˜¯å‚è€ƒç‰©æ°¸è¿œéƒ½æ˜¯è§†å£é«˜åº¦</p>]]></content>
      
      
      
        <tags>
            
            <tag> ç§»åŠ¨ç«¯ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ‰‹åŠ¨å®ç°call-apply-bind</title>
      <link href="call-apply-bind/"/>
      <url>call-apply-bind/</url>
      
        <content type="html"><![CDATA[<h1 id="å®ç°call-ã€apply-ã€bind"><a href="#å®ç°call-ã€apply-ã€bind" class="headerlink" title="å®ç°call()ã€apply()ã€bind()"></a>å®ç°call()ã€apply()ã€bind()</h1><p><code>call</code>ã€<code>apply</code>ã€<code>bind</code>çš„å®ç°ï¼Œä¸»è¦æ˜¯ä¿®æ”¹ <code>this</code> æŒ‡å‘ï¼Œåœ¨å®ç°çš„è¿‡ç¨‹ä¸­è¦ææ¸…æ¥š <code>this</code> çš„æŒ‡å‘</p><p>é¦–å…ˆæ¥çœ‹ä¸€ä¸‹ä»¥ä¸‹çš„åœºæ™¯</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">show</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>.name)</span><br><span class="line">&#125;</span><br><span class="line">person = &#123;</span><br><span class="line">    name: <span class="string">&#x27;caiyx&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>æ€è€ƒé—®é¢˜ï¼š</strong></p><p>å¦‚æœæˆ‘ä»¬ä¸ä½¿ç”¨ <code>call</code>ã€<code>apply</code>ã€<code>bind</code>ï¼Œæˆ‘ä»¬è¦æ€ä¹ˆæ ·è®© <code>show</code> æ–¹æ³•ä¸­çš„ <code>this</code>æŒ‡å‘<code>person</code> å‘¢ï¼Ÿ</p><p>æˆ‘ä»¬å¯ä»¥åƒä¸‹é¢è¿™æ ·ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">person = &#123;</span><br><span class="line">    name: <span class="string">&#x27;caiyx&#x27;</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">show</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>.name)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸Šé¢çš„åšæ³•å…¶å®å°±æ˜¯å°† <code>this</code>Â çš„é»˜è®¤ç»‘å®šæ”¹ä¸ºéšå¼ç»‘å®š</p><p>æˆ‘ä»¬æ‰‹å†™å®ç°çš„<code>call</code>ã€<code>apply</code>ã€<code>bind</code> å…¶å®ä¹Ÿæ˜¯è¿™ä¸ªæ€è·¯ </p><h2 id="call-çš„å®ç°"><a href="#call-çš„å®ç°" class="headerlink" title="call()çš„å®ç°"></a>call()çš„å®ç°</h2><p>æˆ‘ä»¬è¿˜æ˜¯åŸºäºä¸Šé¢çš„æ–¹å¼ï¼Œæ¥éªŒè¯å®ç°çš„ <code>call</code> æ–¹æ³•æ˜¯å¦æœ‰æ•ˆ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">show</span> (<span class="params">...args</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>.name)</span><br><span class="line">    <span class="built_in">console</span>.log(...args)</span><br><span class="line">&#125;</span><br><span class="line">person = &#123;</span><br><span class="line">    name: <span class="string">&#x27;caiyx&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">Function</span>.prototype.mycall(that,...args)&#123;</span><br><span class="line">    that.fn = <span class="built_in">this</span></span><br><span class="line">    <span class="keyword">const</span> result = that.fn(...args)</span><br><span class="line">    <span class="keyword">delete</span> that.fn</span><br><span class="line">    <span class="keyword">return</span> result</span><br><span class="line">&#125;</span><br><span class="line">show.mycall(person,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>) <span class="comment">// caiyx , 1 2 3</span></span><br></pre></td></tr></table></figure><p>å¯ä»¥ï¼ï¼Œè¯´æ˜æŒ‰ç…§ä¸Šé¢çš„æ–¹æ³•æ¥å®ç°æ˜¯å¯ä»¥çš„ï¼Œä½†æ˜¯å¦‚æœä¼ å…¥çš„ <code>that</code> å½¢å‚æ˜¯ <code>null</code>å‘¢ï¼Ÿæ‰€ä»¥è¿™é‡Œæˆ‘ä»¬è¿˜è¦åŠ ä¸€ä¸ªåˆ¤æ–­</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Function</span>.prototype.mycall = <span class="function"><span class="keyword">function</span>(<span class="params">that,...args</span>)</span>&#123;</span><br><span class="line">    that ? that : <span class="built_in">window</span></span><br><span class="line">    that.fn = <span class="built_in">this</span></span><br><span class="line">    <span class="keyword">const</span> result = that.fn(...args)</span><br><span class="line">    <span class="keyword">delete</span> that.fn</span><br><span class="line">    <span class="keyword">return</span> result</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ ·ï¼Œæˆ‘ä»¬çš„ <code>call</code> æ–¹æ³•æ‰æ˜¯ä¸€ä¸ªæˆç†Ÿçš„æ–¹æ³•</p><h2 id="apply-çš„å®ç°"><a href="#apply-çš„å®ç°" class="headerlink" title="apply()çš„å®ç°"></a>apply()çš„å®ç°</h2><p>applyè·Ÿcallçš„ç”¨æ³•éƒ½å·®ä¸å¤šï¼Œåªæ˜¯æ¥å—çš„å‚æ•°æ˜¯ä¸€ä¸ªæ•°ç»„ã€‚</p><p>é‚£æˆ‘ä»¬å…ˆæŒ‰ç…§ä¸Šé¢çš„æ€è·¯å†æ¥å®ç°ä¸€ä¸‹</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">show</span> (<span class="params">...args</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>.name)</span><br><span class="line">    <span class="built_in">console</span>.log(...args)</span><br><span class="line">&#125;</span><br><span class="line">person = &#123;</span><br><span class="line">    name: <span class="string">&#x27;caiyx&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">Function</span>.prototype.myapply = <span class="function"><span class="keyword">function</span>(<span class="params">that,args=[]</span>)</span>&#123;</span><br><span class="line">    that ? that : <span class="built_in">window</span></span><br><span class="line">    that.fn = <span class="built_in">this</span></span><br><span class="line">    <span class="keyword">const</span> result = that.fn(...args)</span><br><span class="line">    <span class="keyword">delete</span> that.fn</span><br><span class="line">    <span class="keyword">return</span> result</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½†æ˜¯ä¸Šé¢çš„ä»£ç æ²¡æœ‰å¯¹å‚æ•°è¿›è¡Œé™åˆ¶ï¼Œä½†ä½¿ç”¨è€…ä¼ é€’çš„ä¸æ˜¯æ•°ç»„çš„æ—¶å€™æˆ‘ä»¬åº”è¯¥ç»™äºˆæç¤ºï¼Œæ‰€ä»¥æˆ‘ä»¬æœ€ç»ˆçš„ä»£ç æ˜¯ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Function</span>.prototype.myapply = <span class="function"><span class="keyword">function</span>(<span class="params">that,args=[]</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!<span class="built_in">Array</span>.isArray(args))&#123;</span><br><span class="line">        <span class="keyword">throw</span> (<span class="string">&#x27;The argument you need to pass should be an array&#x27;</span>)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    that ? that : <span class="built_in">window</span></span><br><span class="line">    that.fn = <span class="built_in">this</span></span><br><span class="line">    <span class="keyword">const</span> result = that.fn(...args)</span><br><span class="line">    <span class="keyword">delete</span> that.fn</span><br><span class="line">    <span class="keyword">return</span> result</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ ·ï¼Œæˆ‘ä»¬çš„ <code>apply</code> æ–¹æ³•ä¹Ÿå®ç°äº†ğŸ˜</p><h2 id="bind-çš„å®ç°"><a href="#bind-çš„å®ç°" class="headerlink" title="bind()çš„å®ç°"></a>bind()çš„å®ç°</h2><p>é¦–å…ˆæˆ‘ä»¬è¦çŸ¥é“ï¼Œ<code>bind</code> æ–¹æ³•ä¼ å‚çš„æ–¹æ³•è·Ÿæˆ‘ä»¬çš„ <code>call</code> æ˜¯ä¸€æ ·çš„ï¼Œä¸åŒçš„æ˜¯ <code>bind</code> æ–¹æ³•ä¸ä¼šç›´æ¥è°ƒç”¨å‡½æ•°ï¼Œè€Œæ˜¯è¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å¤§èƒ†çš„æƒ³è±¡ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Function</span>.prototype.mybind = <span class="function"><span class="keyword">function</span>(<span class="params">that,...args</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="function">()=&gt;</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.apply(that,...args)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ ·å°±å®ç°äº†ä¸€ä¸ªç®€æ˜“ç‰ˆçš„ <code>bind</code> æ–¹æ³•ï¼Œä½†æ˜¯æˆ‘ä»¬åŸç”Ÿçš„ <code>bind</code> æ–¹æ³•å…·æœ‰æŸ¯é‡ŒåŒ–ç‰¹å¾</p><p>é‚£ä»€ä¹ˆæ˜¯æŸ¯é‡ŒåŒ–å‘¢ï¼Ÿ</p><p>å¤§æ¦‚å«ä¹‰å°±æ˜¯ç»™å‡½æ•°åˆ†å¸ƒä¼ é€’å‚æ•°ï¼Œæ¯æ¬¡ä¼ é€’éƒ¨åˆ†å‚æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ªæ›´å…·ä½“çš„å‡½æ•°æ¥å—å‰©ä¸‹çš„å‚æ•°ï¼Œè¿™ä¸­é—´å¯åµŒå¥—å¤šå±‚è¿™æ ·çš„æ¥æ”¶éƒ¨åˆ†å‚æ•°çš„å‡½æ•°ï¼Œç›´è‡³è¿”å›æœ€åç»“æœã€‚</p><p>emmmmï¼Œçœ‹ä¸æ‡‚çš„è¯ï¼Œå¤§æ¦‚å°±æ˜¯ä¸‹é¢çš„ä»£ç æ‰§è¡Œçš„ç»“æœéƒ½æ˜¯ä¸€æ ·çš„</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">show.bind(person, <span class="number">5</span>, <span class="number">6</span>)(<span class="number">2</span>, <span class="number">1</span>);  <span class="comment">// caiyx 5 6 2 1</span></span><br><span class="line">show.bind(person, <span class="number">5</span>, <span class="number">6</span>, <span class="number">2</span>, <span class="number">1</span>)(); <span class="comment">// caiyx 5 6 2 1</span></span><br><span class="line">show.bind(person)(<span class="number">5</span>, <span class="number">6</span>, <span class="number">2</span>, <span class="number">1</span>); <span class="comment">// caiyx 5 6 2 1</span></span><br></pre></td></tr></table></figure><p>æ‰€ä»¥æˆ‘ä»¬çš„ä»£ç éœ€è¦æ”¹ä¸º</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Function</span>.prototype.mybind = <span class="function"><span class="keyword">function</span>(<span class="params">that,...args</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="function">(<span class="params">...args2</span>)=&gt;</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.apply(that,[...args,...args2])</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ ·å°±æ»¡è¶³äº† <code>bind</code> æŸ¯é‡ŒåŒ–ç‰¹å¾çš„è¦æ±‚ã€‚ä½†æ˜¯åŸç”Ÿçš„ <code>bind</code> æ–¹æ³•è¿”å›çš„å‡½æ•°è¿˜å¯ä»¥é€šè¿‡ <code>new</code> å…³é”®å­—å»å®ä¾‹åŒ–å¯¹è±¡ã€‚</p><p>æ‰€ä»¥æˆ‘ä»¬è¿˜éœ€è¦åˆ¤æ–­è¿”å›çš„å‡½æ•°æœ‰æ²¡æœ‰ç”¨ <code>new</code> å…³é”®å­—æ¥å®ä¾‹åŒ–å¯¹è±¡ï¼Œå¦‚æœæœ‰çš„è¯ï¼Œè¿”å›çš„å‡½æ•°çš„<code>this</code> æŒ‡å‘å®ä¾‹åŒ–åçš„å¯¹è±¡ï¼Œå¦‚æœæ²¡æœ‰çš„è¯å°±ç”¨åŸæ¥çš„é€»è¾‘</p><p>è¿™é‡Œæˆ‘ä»¬ç»™ä¸Šé¢çš„ <code>show</code> æ–¹æ³•åŸå‹ä¸Šå¢åŠ ä¸€ä¸ªå±æ€§ï¼Œå¹¶ç”¨ <code>new</code> å…³é”®å­—æ¥å®ä¾‹åŒ–ä¸€ä¸ªå¯¹è±¡</p> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">show.prototype.info = <span class="string">&#x27;è¿™æ˜¯showæ–¹æ³•&#x27;</span></span><br><span class="line"><span class="built_in">Function</span>.prototype.mybind = <span class="function"><span class="keyword">function</span>(<span class="params">that,...args</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="function">(<span class="params">...args2</span>)=&gt;</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.apply(that,[...args,...args2])</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> newBind = show.mybind(person,<span class="number">1</span>,<span class="number">2</span>)</span><br><span class="line"><span class="keyword">const</span> newbind = <span class="keyword">new</span> newBind(<span class="number">2</span>,<span class="number">1</span>)</span><br><span class="line"><span class="built_in">console</span>.log(newBind.info)</span><br><span class="line"><span class="comment">// Uncaught TypeError: newBind is not a constructor</span></span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥æˆ‘ä»¬ä½¿ç”¨ <code>instanceof</code> æ¥åˆ¤æ–­åˆ›å»ºçš„å¯¹è±¡æ˜¯ä¸æ˜¯ç”¨ <code>new</code> å…³é”®å­—æ¥å®ä¾‹åŒ–çš„å¯¹è±¡</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Function</span>.prototype.mybind = <span class="function"><span class="keyword">function</span>(<span class="params">that,...args</span>)</span>&#123;</span><br><span class="line">    <span class="comment">// ç”¨ That æ¥ä¿å­˜mybindçš„è°ƒç”¨è€…</span></span><br><span class="line">    <span class="keyword">const</span> That = <span class="built_in">this</span></span><br><span class="line">    <span class="keyword">const</span> newFn = <span class="function"><span class="keyword">function</span>(<span class="params">...args1</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">const</span> args2 = [...args1,...args]</span><br><span class="line">        <span class="comment">// å¦‚æœä½¿ç”¨newå…³é”®å­—ï¼Œè¿™é‡Œçš„thisæŒ‡å‘çš„æ˜¯newFnå¯¹è±¡</span></span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">this</span> <span class="keyword">instanceof</span> newFn)&#123;</span><br><span class="line">            <span class="comment">// å°†mybindè°ƒç”¨è€…çš„thisæŒ‡å‘æ”¹ä¸ºnewFnå¯¹è±¡</span></span><br><span class="line">            That.apply(<span class="built_in">this</span>,args)</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            That.apply(that,args)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> newFn</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åˆ°è¿™é‡Œæˆ‘ä»¬å‘ç°ä»ç„¶è®¿é—®ä¸åˆ° <code>newbind.info</code>ï¼Œè¿™æ˜¯å› ä¸ºè¿˜æ²¡æœ‰å°† <code>newFn</code> å’Œ <code>mybind</code> çš„è°ƒç”¨è€…ï¼ˆ<code>show</code>å‡½æ•°ï¼‰å»ºç«‹è”ç³»ï¼Œæ‰€ä»¥æˆ‘ä»¬çš„ä»£ç ä¿®æ”¹ä¸ºï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Function</span>.prototype.mybind = <span class="function"><span class="keyword">function</span>(<span class="params">that,...args</span>)</span>&#123;</span><br><span class="line">    <span class="comment">// ç”¨ That æ¥ä¿å­˜mybindçš„è°ƒç”¨è€…</span></span><br><span class="line">    <span class="keyword">const</span> That = <span class="built_in">this</span></span><br><span class="line">    <span class="keyword">const</span> newFn = <span class="function"><span class="keyword">function</span>(<span class="params">...args1</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">const</span> args2 = [...args1,...args]</span><br><span class="line">        <span class="comment">// å¦‚æœä½¿ç”¨newå…³é”®å­—ï¼Œè¿™é‡Œçš„thisæŒ‡å‘çš„æ˜¯newFnå¯¹è±¡</span></span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">this</span> <span class="keyword">instanceof</span> newFn)&#123;</span><br><span class="line">            <span class="comment">// å°†mybindè°ƒç”¨è€…çš„thisæŒ‡å‘æ”¹ä¸ºnewFnå¯¹è±¡</span></span><br><span class="line">            That.apply(<span class="built_in">this</span>,args2)</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            That.apply(that,args2)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    newFn.prototype = That.prototype</span><br><span class="line">    <span class="keyword">return</span> newFn</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ ·ï¼Œ<code>bind</code> æ–¹æ³•çš„åŸºæœ¬åŠŸèƒ½å·²ç»åŸºæœ¬å®ç°ï¼Œä½†æ˜¯ä»£ç ä¸­æˆ‘ä»¬æ˜¯ç›´æ¥ä¿®æ”¹äº†åŸå‹å¯¹è±¡ï¼Œè¿™æ ·æ˜¯ä¸ç¬¦åˆè§„èŒƒçš„ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡åŸå‹ç»§æ‰¿æ¥è¿›è¡Œä¿®æ”¹æˆ‘ä»¬çš„ä»£ç ï¼Œæ‰€ä»¥æœ€ç»ˆ <code>bind</code> çš„ä»£ç ä¸ºï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Function</span>.prototype.mybind = <span class="function"><span class="keyword">function</span>(<span class="params">that,...args</span>)</span>&#123;</span><br><span class="line">    <span class="comment">// ç”¨ That æ¥ä¿å­˜mybindçš„è°ƒç”¨è€…</span></span><br><span class="line">    <span class="keyword">const</span> That = <span class="built_in">this</span></span><br><span class="line">    <span class="keyword">let</span> fnc = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line">    <span class="keyword">const</span> newFn = <span class="function"><span class="keyword">function</span>(<span class="params">...args1</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">const</span> args2 = [...args1,...args]</span><br><span class="line">        <span class="comment">// å¦‚æœä½¿ç”¨newå…³é”®å­—ï¼Œè¿™é‡Œçš„thisæŒ‡å‘çš„æ˜¯newFnå¯¹è±¡</span></span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">this</span> <span class="keyword">instanceof</span> newFn)&#123;</span><br><span class="line">            <span class="comment">// å°†mybindè°ƒç”¨è€…çš„thisæŒ‡å‘æ”¹ä¸ºnewFnå¯¹è±¡</span></span><br><span class="line">            That.apply(<span class="built_in">this</span>,args2)</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            That.apply(that,args2)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    fnc.prototype = That.prototype</span><br><span class="line">    newFn.prototype = <span class="keyword">new</span> fnc</span><br><span class="line">    <span class="keyword">return</span> newFn</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ ·ï¼Œæˆ‘ä»¬å°±å®ç°äº† <code>bind</code> æ–¹æ³•äº†ğŸ˜µ</p>]]></content>
      
      
      
        <tags>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å‰ç«¯éœ€è¦æŒæ¡çš„æ‰‹å†™ä»£ç èƒ½åŠ›</title>
      <link href="shouxie/"/>
      <url>shouxie/</url>
      
        <content type="html"><![CDATA[<h1 id="å‰ç«¯éœ€è¦æŒæ¡çš„æ‰‹å†™ä»£ç èƒ½åŠ›"><a href="#å‰ç«¯éœ€è¦æŒæ¡çš„æ‰‹å†™ä»£ç èƒ½åŠ›" class="headerlink" title="å‰ç«¯éœ€è¦æŒæ¡çš„æ‰‹å†™ä»£ç èƒ½åŠ›"></a>å‰ç«¯éœ€è¦æŒæ¡çš„æ‰‹å†™ä»£ç èƒ½åŠ›</h1><h2 id="è¯ä¸å¤šè¯´ï¼Œå…ˆä¸Šä¸ªç›®å½•"><a href="#è¯ä¸å¤šè¯´ï¼Œå…ˆä¸Šä¸ªç›®å½•" class="headerlink" title="è¯ä¸å¤šè¯´ï¼Œå…ˆä¸Šä¸ªç›®å½•"></a>è¯ä¸å¤šè¯´ï¼Œå…ˆä¸Šä¸ªç›®å½•</h2><ol><li><a href="#%E6%89%8B%E5%8A%A8%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AAinstanceof">æ‰‹åŠ¨å®ç°ä¸€ä¸ªinstanceof</a></li><li><a href="#%E6%89%8B%E5%8A%A8%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AAnew%E6%93%8D%E4%BD%9C%E7%AC%A6">æ‰‹åŠ¨å®ç°ä¸€ä¸ªnewæ“ä½œç¬¦</a></li><li><a href="#%E5%A4%9A%E7%A7%8D%E6%96%B9%E5%BC%8F%E5%AE%9E%E7%8E%B0%E6%B7%B1%E6%8B%B7%E8%B4%9D%E3%80%81%E5%AF%B9%E6%AF%94%E4%BC%98%E7%BC%BA%E7%82%B9">å¤šç§æ–¹å¼å®ç°æ·±æ‹·è´ã€å¯¹æ¯”ä¼˜ç¼ºç‚¹</a></li><li><a href="#%E6%89%8B%E5%86%99%E9%98%B2%E6%8A%96%E5%92%8C%E8%8A%82%E6%B5%81%E5%B7%A5%E5%85%B7%E5%87%BD%E6%95%B0%E3%80%81%E5%B9%B6%E7%90%86%E8%A7%A3%E5%85%B6%E5%86%85%E9%83%A8%E5%8E%9F%E7%90%86%E5%92%8C%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF">æ‰‹å†™é˜²æŠ–å’ŒèŠ‚æµå·¥å…·å‡½æ•°ã€å¹¶ç†è§£å…¶å†…éƒ¨åŸç†å’Œåº”ç”¨åœºæ™¯ </a></li><li><a href="#%E6%89%8B%E5%8A%A8%E5%AE%9E%E7%8E%B0call%E3%80%81apply%E3%80%81bind">æ‰‹åŠ¨å®ç°callã€applyã€bind</a></li><li><a href="#%E5%AE%9E%E7%8E%B0Promise%E3%80%81async%E3%80%81await">å®ç°Promiseã€asyncã€await</a></li><li><a href="#%E6%89%8B%E5%86%99JSON.stringify%E3%80%81JSON.parse">æ‰‹å†™JSON.stringifyã€JSON.parse</a></li><li><a href="#%E5%AF%84%E7%94%9F%E7%BB%84%E5%90%88%E7%BB%A7%E6%89%BF">å¯„ç”Ÿç»„åˆç»§æ‰¿</a></li><li><a href="#%E6%95%B0%E7%BB%84%E5%8E%BB%E9%87%8D">æ•°ç»„å»é‡</a></li><li><a href="#%E6%95%B0%E7%BB%84%E6%89%81%E5%B9%B3%E5%8C%96">æ•°ç»„æ‰å¹³åŒ–</a></li><li><a href="#%E5%8F%91%E5%B8%83%E8%AE%A2%E9%98%85%E6%A8%A1%E5%BC%8F">å‘å¸ƒè®¢é˜…æ¨¡å¼</a></li></ol><h3 id="æ‰‹åŠ¨å®ç°ä¸€ä¸ªinstanceof"><a href="#æ‰‹åŠ¨å®ç°ä¸€ä¸ªinstanceof" class="headerlink" title="æ‰‹åŠ¨å®ç°ä¸€ä¸ªinstanceof"></a>æ‰‹åŠ¨å®ç°ä¸€ä¸ªinstanceof</h3><p>è¯ä¸å¤šè¯´ï¼Œç›´æ¥ä¸Šä»£ç </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">_instanceof</span>(<span class="params">L,R</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> Lproto = L.__proto__</span><br><span class="line">    <span class="keyword">let</span> Rproto = R.prototype</span><br><span class="line">    <span class="comment">// ä½¿ç”¨while(true) æ­»å¾ªç¯ï¼Œä¿è¯èƒ½è¾“å‡ºä¸€ä¸ªå€¼</span></span><br><span class="line">    <span class="keyword">while</span>(<span class="literal">true</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(Lproto === <span class="literal">null</span>) <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">        <span class="keyword">if</span>(Lproto === Rproto) <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">        <span class="comment">// ä¸€ç›´å¾€åŸå‹é“¾ä¸Šæ‰¾</span></span><br><span class="line">        Lproto = Lproto.__proto__</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ‰‹åŠ¨å®ç°ä¸€ä¸ªnewæ“ä½œç¬¦"><a href="#æ‰‹åŠ¨å®ç°ä¸€ä¸ªnewæ“ä½œç¬¦" class="headerlink" title="æ‰‹åŠ¨å®ç°ä¸€ä¸ªnewæ“ä½œç¬¦"></a>æ‰‹åŠ¨å®ç°ä¸€ä¸ªnewæ“ä½œç¬¦</h3><p>é¦–å…ˆæˆ‘ä»¬éœ€è¦çŸ¥é“newæ“ä½œç¬¦åšçš„å››ä»¶äº‹ï¼š</p><ol><li>åˆ›å»ºä¸€ä¸ªç©ºçš„ç®€å•javascriptå¯¹è±¡</li><li>å°†è¯¥å¯¹è±¡çš„åŸå‹ç»‘å®šåˆ°å¯¹åº”çš„åŸå‹é“¾ä¸Š</li><li>ä¿®æ”¹è¯¥å¯¹è±¡çš„thisæŒ‡å‘åˆ›å»ºçš„å®ä¾‹ï¼Œå¹¶ç»§æ‰¿æ„é€ å‡½æ•°çš„å±æ€§</li><li>è¿”å›è¯¥å¯¹è±¡</li></ol><p>çŸ¥é“è¿™å››ä»¶äº‹ï¼Œæˆ‘ä»¬å°±å¯ä»¥æ¥åŠ¨æ‰‹å®ç°äº†æ˜‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">newFunc</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="comment">// åˆ›å»ºä¸€ä¸ªç©ºå¯¹è±¡</span></span><br><span class="line">    <span class="keyword">var</span> obj = <span class="built_in">Object</span>.create(<span class="literal">null</span>)</span><br><span class="line">    <span class="comment">// æ‹é™¤ç¬¬ä¸€ä¸ªæ„é€ å‡½æ•°å‚æ•°ï¼Œå¹¶å°†æ’é™¤çš„æ„é€ å‡½æ•°èµ‹å€¼ç»™construct</span></span><br><span class="line">    <span class="keyword">var</span> construct = <span class="built_in">Array</span>.prototype.shift.call(<span class="built_in">arguments</span>)</span><br><span class="line">    <span class="comment">// å°†å¯¹è±¡çš„åŸå‹ç»‘å®šåˆ°æ„é€ å‡½æ•°çš„åŸå‹é“¾ä¸Š</span></span><br><span class="line">    obj.__proto__ = construct.prototype;</span><br><span class="line">    <span class="comment">// ä½¿ç”¨applyä¿®æ”¹thisæŒ‡å‘ï¼Œå¹¶å°†æ„é€ å‡½æ•°çš„å±æ€§æŒ‚è½½åœ¨objä¸Š</span></span><br><span class="line">    <span class="keyword">var</span> conRes = construct.apply(obj,<span class="built_in">arguments</span>)</span><br><span class="line">    <span class="comment">// åˆ¤æ–­æ‰§è¡Œæ„é€ å‡½æ•°çš„æ–¹å¼ï¼Œè¿”å›å¯¹åº”ç»“æœ</span></span><br><span class="line">    <span class="keyword">return</span> conRes <span class="keyword">instanceof</span> <span class="built_in">Object</span> ? conRes : obj;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å®ç°æ·±æ‹·è´"><a href="#å®ç°æ·±æ‹·è´" class="headerlink" title="å®ç°æ·±æ‹·è´"></a>å®ç°æ·±æ‹·è´</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">clone</span>(<span class="params">target, map = new Map()</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> target === <span class="string">&#x27;object&#x27;</span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> cloneTarget = <span class="built_in">Array</span>.isArray(target) ? [] : &#123;&#125;</span><br><span class="line">        <span class="comment">// åˆ¤æ–­æ˜¯å¦å­˜åœ¨</span></span><br><span class="line">        <span class="keyword">if</span> (map.get(target)) &#123;</span><br><span class="line">            <span class="keyword">return</span> map.get(target)</span><br><span class="line">        &#125;</span><br><span class="line">        map.set(target, cloneTarget)</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">const</span> key <span class="keyword">in</span> target) &#123;</span><br><span class="line">            cloneTarget[key] = clone(target[key], map)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> cloneTarget</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> target</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ‰‹å†™é˜²æŠ–å’ŒèŠ‚æµå·¥å…·å‡½æ•°ã€å¹¶ç†è§£å…¶å†…éƒ¨åŸç†å’Œåº”ç”¨åœºæ™¯"><a href="#æ‰‹å†™é˜²æŠ–å’ŒèŠ‚æµå·¥å…·å‡½æ•°ã€å¹¶ç†è§£å…¶å†…éƒ¨åŸç†å’Œåº”ç”¨åœºæ™¯" class="headerlink" title="æ‰‹å†™é˜²æŠ–å’ŒèŠ‚æµå·¥å…·å‡½æ•°ã€å¹¶ç†è§£å…¶å†…éƒ¨åŸç†å’Œåº”ç”¨åœºæ™¯"></a>æ‰‹å†™é˜²æŠ–å’ŒèŠ‚æµå·¥å…·å‡½æ•°ã€å¹¶ç†è§£å…¶å†…éƒ¨åŸç†å’Œåº”ç”¨åœºæ™¯</h3><p><strong>é˜²æŠ–ï¼š</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">debounce</span>(<span class="params">func,time</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> timer</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">let</span> that = <span class="built_in">this</span></span><br><span class="line">        <span class="keyword">let</span> args = <span class="built_in">arguments</span></span><br><span class="line">   <span class="keyword">if</span>(timer) <span class="built_in">clearTimeout</span>(timer)</span><br><span class="line">        timer = <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">            func.apply(that,args)</span><br><span class="line">        &#125;,time)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>èŠ‚æµï¼ˆæ—¶é—´æˆ³ç‰ˆï¼‰ï¼š</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">throttle</span>(<span class="params">fn,time</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> lastTime = <span class="number">0</span></span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="comment">// è·å–å½“å‰çš„æ—¶é—´æˆ³</span></span><br><span class="line">        <span class="keyword">let</span> currentTime = <span class="keyword">new</span> <span class="built_in">Date</span>().getTime()</span><br><span class="line">        <span class="keyword">if</span>(currentTime - lastTime &gt;= time)&#123;</span><br><span class="line">            fn()</span><br><span class="line">            <span class="comment">// å°†å½“å‰çš„æ—¶é—´æˆ³èµ‹å€¼ç»™lastTimeï¼Œä½œä¸ºä¸‹æ¬¡è§¦å‘äº‹ä»¶çš„å‚è€ƒæ—¶é—´</span></span><br><span class="line">            lastTime = currentTime</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ‰‹åŠ¨å®ç°callã€applyã€bind"><a href="#æ‰‹åŠ¨å®ç°callã€applyã€bind" class="headerlink" title="æ‰‹åŠ¨å®ç°callã€applyã€bind"></a>æ‰‹åŠ¨å®ç°callã€applyã€bind</h3><h4 id="call"><a href="#call" class="headerlink" title="call"></a>call</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Function</span>.prototype.mycall = <span class="function"><span class="keyword">function</span>(<span class="params">that,...args</span>)</span>&#123;</span><br><span class="line">    that ? that : <span class="built_in">window</span></span><br><span class="line">    that.fn = <span class="built_in">this</span></span><br><span class="line">    <span class="keyword">const</span> result = that.fn(...args)</span><br><span class="line">    <span class="keyword">delete</span> that.fn</span><br><span class="line">    <span class="keyword">return</span> result</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="apply"><a href="#apply" class="headerlink" title="apply"></a>apply</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Function</span>.prototype.myapply = <span class="function"><span class="keyword">function</span>(<span class="params">that,args=[]</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!<span class="built_in">Array</span>.isArray(args))&#123;</span><br><span class="line">        <span class="keyword">throw</span> (<span class="string">&#x27;The argument you need to pass should be an array&#x27;</span>)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    that ? that : <span class="built_in">window</span></span><br><span class="line">    that.fn = <span class="built_in">this</span></span><br><span class="line">    <span class="keyword">const</span> result = that.fn(...args)</span><br><span class="line">    <span class="keyword">delete</span> that.fn</span><br><span class="line">    <span class="keyword">return</span> result</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="bind"><a href="#bind" class="headerlink" title="bind"></a>bind</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Function</span>.prototype.mybind = <span class="function"><span class="keyword">function</span>(<span class="params">that,...args</span>)</span>&#123;</span><br><span class="line">    <span class="comment">// ç”¨ That æ¥ä¿å­˜mybindçš„è°ƒç”¨è€…</span></span><br><span class="line">    <span class="keyword">const</span> That = <span class="built_in">this</span></span><br><span class="line">    <span class="keyword">let</span> fnc = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line">    <span class="keyword">const</span> newFn = <span class="function"><span class="keyword">function</span>(<span class="params">...args1</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">const</span> args2 = [...args1,...args]</span><br><span class="line">        <span class="comment">// å¦‚æœä½¿ç”¨newå…³é”®å­—ï¼Œè¿™é‡Œçš„thisæŒ‡å‘çš„æ˜¯newFnå¯¹è±¡</span></span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">this</span> <span class="keyword">instanceof</span> newFn)&#123;</span><br><span class="line">            <span class="comment">// å°†mybindè°ƒç”¨è€…çš„thisæŒ‡å‘æ”¹ä¸ºnewFnå¯¹è±¡</span></span><br><span class="line">            That.apply(<span class="built_in">this</span>,args2)</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            That.apply(that,args2)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    fnc.prototype = That.prototype</span><br><span class="line">    newFn.prototype = <span class="keyword">new</span> fnc</span><br><span class="line">    <span class="keyword">return</span> newFn</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å®ç°Promiseã€asyncã€await"><a href="#å®ç°Promiseã€asyncã€await" class="headerlink" title="å®ç°Promiseã€asyncã€await"></a>å®ç°Promiseã€asyncã€await</h3><h3 id="æ‰‹å†™JSON-stringifyã€JSON-parse"><a href="#æ‰‹å†™JSON-stringifyã€JSON-parse" class="headerlink" title="æ‰‹å†™JSON.stringifyã€JSON.parse"></a>æ‰‹å†™JSON.stringifyã€JSON.parse</h3><h3 id="å¯„ç”Ÿç»„åˆç»§æ‰¿"><a href="#å¯„ç”Ÿç»„åˆç»§æ‰¿" class="headerlink" title="å¯„ç”Ÿç»„åˆç»§æ‰¿"></a>å¯„ç”Ÿç»„åˆç»§æ‰¿</h3><h3 id="æ•°ç»„å»é‡"><a href="#æ•°ç»„å»é‡" class="headerlink" title="æ•°ç»„å»é‡"></a>æ•°ç»„å»é‡</h3><h3 id="æ•°ç»„æ‰å¹³åŒ–"><a href="#æ•°ç»„æ‰å¹³åŒ–" class="headerlink" title="æ•°ç»„æ‰å¹³åŒ–"></a>æ•°ç»„æ‰å¹³åŒ–</h3><h3 id="å‘å¸ƒè®¢é˜…æ¨¡å¼"><a href="#å‘å¸ƒè®¢é˜…æ¨¡å¼" class="headerlink" title="å‘å¸ƒè®¢é˜…æ¨¡å¼"></a>å‘å¸ƒè®¢é˜…æ¨¡å¼</h3>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>TCPä¸‰æ¬¡æ¡æ‰‹å››æ¬¡æŒ¥æ‰‹</title>
      <link href="tcp/"/>
      <url>tcp/</url>
      
        <content type="html"><![CDATA[<h1 id="TCPä¸‰æ¬¡æ¡æ‰‹å››æ¬¡æŒ¥æ‰‹"><a href="#TCPä¸‰æ¬¡æ¡æ‰‹å››æ¬¡æŒ¥æ‰‹" class="headerlink" title="TCPä¸‰æ¬¡æ¡æ‰‹å››æ¬¡æŒ¥æ‰‹"></a>TCPä¸‰æ¬¡æ¡æ‰‹å››æ¬¡æŒ¥æ‰‹</h1><p><strong>å¤‡æ³¨ï¼šï¼ˆä¸‹æ–‡ä¸­æåˆ°çš„ä¸“ä¸šæœ¯è¯­ï¼‰</strong></p><blockquote><p>ack â€”â€” ç¡®è®¤å·ç </p></blockquote><blockquote><p>seq â€”â€” é¡ºåºå·ç </p></blockquote><blockquote><p>ISN â€”â€” åˆå§‹åŒ–åºåˆ—å·</p></blockquote><blockquote><p>ACK â€”â€” ç¡®è®¤ï¼Œä½¿å¾—ç¡®è®¤å·æœ‰æ•ˆï¼ˆæ¡æ‰‹ä½¿ç”¨ï¼‰</p></blockquote><blockquote><p>SYN â€”â€” ç”¨äºåˆå§‹åŒ–ä¸€ä¸ªè¿æ¥çš„åºåˆ—å·ï¼Œå»ºç«‹è”æœº</p></blockquote><blockquote><p>FIN â€”â€” è¯¥æŠ¥æ–‡çš„å‘é€æ–¹å·²ç»ç»“æŸå‘å¯¹æ–¹å‘é€æ•°æ®</p></blockquote><h2 id="ä»€ä¹ˆæ˜¯TCPï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯TCPï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯TCPï¼Ÿ"></a>ä»€ä¹ˆæ˜¯TCPï¼Ÿ</h2><p>é¦–å…ˆæˆ‘ä»¬éœ€è¦çŸ¥é“TCPå…¶å®æ˜¯ä¸€ç§é¢å‘è¿æ¥çš„å•æ’­åè®®ã€‚é‚£ä»€ä¹ˆæ˜¯å•æ’­åè®®å‘¢ï¼Ÿ</p><blockquote><p>å•æ’­åè®®ä¸€èˆ¬æŒ‡å•æ’­è·¯ç”±åè®®ï¼Œå•æ’­è·¯ç”±åè®®æ˜¯é€šè¿‡è·¯ç”±å™¨å°†ç½‘é™…ç½‘ç»œä¸ŠæŸä¸€ä½ç½®çš„é€šä¿¡ä»æºä¸»æœºè½¬å‘åˆ°ç›®æ ‡ä¸»æœºã€‚ç½‘é™…ç½‘ç»œè‡³å°‘æœ‰ä¸¤ä¸ªé€šè¿‡è·¯ç”±å™¨è¿æ¥çš„ç½‘ç»œã€‚è·¯ç”±å™¨æ˜¯ç½‘ç»œå±‚ä¸­ä»‹ç³»ç»Ÿï¼Œç”¨äºæ ¹æ®å…¬å…±ç½‘ç»œå±‚åè®®ï¼ˆå¦‚TCP / IPï¼‰å°†å¤šä¸ªç½‘ç»œè¿æ¥åœ¨ä¸€èµ·ã€‚ç½‘ç»œæ˜¯é€šè¿‡è·¯ç”±å™¨è¿æ¥ï¼Œå¹¶ä¸ç§°ä¸ºç½‘ç»œåœ°å€æˆ–ç½‘ç»œ ID çš„åŒä¸€ç½‘ç»œå±‚åœ°å€ç›¸å…³è”çš„è”ç½‘åŸºç¡€ç»“æ„ï¼ˆåŒ…æ‹¬ä¸­ç»§å™¨ã€é›†çº¿å™¨å’Œæ¡¥/ 2å±‚äº¤æ¢æœºï¼‰çš„ä¸€éƒ¨åˆ†</p></blockquote><p>TCPå¯ä»¥çœ‹æˆæ˜¯ä¸€ç§å­—èŠ‚æµï¼Œå®ƒä¼šå¤„ç† IP å±‚æˆ–ä¸€ä¸‹å±‚çš„ä¸¢åŒ…ã€é‡å¤ä»¥åŠé”™è¯¯é—®é¢˜ã€‚åœ¨è¿æ¥çš„å»ºç«‹è¿‡ç¨‹ï¼ŒåŒæ–¹éœ€è¦äº¤æ¢ä¸€äº›è¿æ¥çš„å‚æ•°ï¼Œè¿™äº›å‚æ•°å¯ä»¥æ”¾åœ¨TCPå¤´éƒ¨</p><p>æ‰€ä»¥TCPæä¾›äº†ä¸€ç§å¯é ã€é¢å‘è¿æ¥ã€å­—èŠ‚æµã€ä¼ è¾“å±‚çš„æœåŠ¡ï¼Œé‡‡ç”¨ä¸‰æ¬¡æ¡æ‰‹å»ºç«‹ä¸€æ¬¡è¿æ¥ã€‚é‡‡ç”¨4æ¬¡æŒ¥æ‰‹æ¥å…³é—­ä¸€ä¸ªè¿æ¥ã€‚</p><h2 id="ä¸‰æ¬¡æ¡æ‰‹çš„è¿‡ç¨‹"><a href="#ä¸‰æ¬¡æ¡æ‰‹çš„è¿‡ç¨‹" class="headerlink" title="ä¸‰æ¬¡æ¡æ‰‹çš„è¿‡ç¨‹"></a>ä¸‰æ¬¡æ¡æ‰‹çš„è¿‡ç¨‹</h2><p>ä¸‰æ¬¡æ¡æ‰‹å…¶å®å°±æ˜¯ å®¢æœç«¯å’ŒæœåŠ¡ç«¯å»ºç«‹ ç¨³å®šTCPè¿æ¥çš„å‘é€ä¸‰ä¸ªåŒ…çš„è¿‡ç¨‹ã€‚</p><p>æ‰“ä¸ªæ¯”æ–¹å°±æ˜¯ï¼šAå¯¹Bè¯´æˆ‘è¦ç»™ä½ å‘ä¸€äº›åŒ…è£¹ï¼Bé—®Aè¯´ä½ çœŸçš„è¦ç»™æˆ‘å‘åŒ…è£¹å—ï¼ç„¶åAå›ç­”æˆ‘çœŸçš„è¦ç»™ä½ å‘åŒ…è£¹ï¼Œè‡³æ­¤Aå’ŒBçš„åè®®è¾¾æˆï¼ŒAå°±å¯ä»¥Bå‘åŒ…è£¹å•¦ã€‚</p><p>çœŸæ­£è¡¨ç°ä¸ºï¼š</p><p><img src="https://user-gold-cdn.xitu.io/2019/8/18/16ca31b2b22d223a?imageslim"></p><ol><li><p><strong>ç¬¬ä¸€æ¬¡æ¡æ‰‹ï¼šï¼ˆSYN=1ï¼ŒACK=0ï¼Œseq=xï¼‰</strong></p><p>å®¢æœç«¯å‘é€synåŒ…ï¼ˆsyn = 1ï¼‰åˆ°æœåŠ¡å™¨ï¼Œä»¥åŠåˆå§‹åŒ–åºå·xï¼ˆä¿å­˜åœ¨åŒ…å¤´çš„åºåˆ—å·seqå­—æ®µï¼Œç®€ç§° ISNï¼‰ï¼Œå’ŒACKæ ‡è®°ä¸º0ï¼Œå¹¶è¿›å…¥SYN_SENDï¼Œç­‰å¾…æœåŠ¡å™¨ç¡®è®¤ã€‚</p></li><li><p><strong>ç¬¬äºŒæ¬¡æ¡æ‰‹ï¼šï¼ˆSYN=1ï¼ŒACK=1ï¼Œseq=yï¼Œack=x+1ï¼‰</strong></p><p>æœåŠ¡å™¨æ”¶åˆ°synåŒ…ï¼Œå‘å›ç¡®è®¤åŒ…ACKåº”ç­”ï¼ˆsyn=1ï¼Œack=1ï¼‰ï¼ŒæœåŠ¡å™¨ç¡®è®¤ ISN åºåˆ—å·ï¼Œæ”¾åˆ° seq åŸŸé‡Œï¼ŒåŒæ—¶å°†ç¡®è®¤åºå·ï¼ˆackï¼‰è®¾ç½®ä¸º å®¢æœç«¯çš„ISN+1ï¼Œå³ x+1ï¼Œå‘é€å®Œæ¯•åï¼Œæ­¤æ—¶æœåŠ¡å™¨è¿›å…¥SYN_RECVçŠ¶æ€</p></li><li><p><strong>ç¬¬ä¸‰æ¬¡æ¡æ‰‹ï¼šï¼ˆACK=1ï¼Œseq=x+1ï¼Œack=y+1ï¼‰</strong></p><p>å®¢æœç«¯æ”¶åˆ°æœåŠ¡å™¨çš„SYN + ACKåŒ…ï¼Œå‘æœåŠ¡å™¨å‘é€ç¡®è®¤åŒ…ACKï¼ˆACK=1ï¼‰ï¼Œå¹¶ä¸”æŠŠæœåŠ¡å™¨å‘æ¥çš„ISNå­—æ®µ+1ï¼Œæ”¾åœ¨ç¡®å®šå­—æ®µä¸­å‘ç»™å¯¹æ–¹ã€‚</p></li></ol><p>å‘é€å®Œæ¯•åï¼Œå®¢æœç«¯å’ŒæœåŠ¡å™¨å»ºç«‹è¿æ¥ï¼ŒTCPæ¡æ‰‹ç»“æŸã€‚</p><h2 id="TCPå››æ¬¡æŒ¥æ‰‹"><a href="#TCPå››æ¬¡æŒ¥æ‰‹" class="headerlink" title="TCPå››æ¬¡æŒ¥æ‰‹"></a>TCPå››æ¬¡æŒ¥æ‰‹</h2><p>æ‰“ä¸ªæ¯”æ–¹ï¼šAå¯¹Bè¯´ï¼šæˆ‘è¦å’Œä½ æ–­å¼€è¿æ¥ï¼Bè¯´ï¼šå¥½çš„ï¼Œæ–­å§ï¼Bå¯¹Aè¯´æˆ‘ä¹Ÿè¦å’Œä½ æ–­å¼€è¿æ¥ï¼Aè¯´ï¼šå¥½çš„ï¼Œæ–­å§</p><p>å››æ¬¡æŒ¥æ‰‹å…¶å®å°±æ˜¯å®¢æœç«¯å’ŒæœåŠ¡å™¨å…³é—­TCPè¿æ¥çš„æ—¶å€™å‘é€å››ä¸ªåŒ…çš„è¿‡ç¨‹</p><p>çœŸå®è¿‡ç¨‹æ˜¯ï¼š</p><p><img src="https://user-gold-cdn.xitu.io/2019/8/18/16ca31b33e22d6dd?imageslim"></p><ol><li><p><strong>ç¬¬ä¸€æ¬¡æŒ¥æ‰‹ï¼ˆFIN = 1ï¼Œseq = uï¼‰</strong></p><p>å®¢æˆ·ç«¯å‘é€ä¸€ä¸ªFINæ ‡è®°ä¸º1ï¼Œå½“å‰åºåˆ—å·ä¸ºuçš„åŒ…ï¼Œè¡¨ç¤ºéœ€è¦å…³é—­è¿æ¥ã€‚å®¢æœç«¯è¿›å…¥FIN_WAIT_1çŠ¶æ€</p></li><li><p><strong>ç¬¬äºŒæ¬¡æŒ¥æ‰‹ï¼ˆACK = 1ï¼Œseq = vï¼Œack = u + 1ï¼‰</strong></p><p>æœåŠ¡å™¨æ”¶åˆ°å®¢æœç«¯çš„FINåŒ…ä¹‹åï¼Œä¼šå‘é€ä¸€ä¸ªç¡®è®¤åºå·ä¸ºæ”¶åˆ°çš„åºåˆ—å·u+1çš„åŒ…ï¼Œè¡¨æ˜è‡ªå·±æ¥æ”¶åˆ°äº†å®¢æœç«¯å…³é—­è¿æ¥çš„è¯·æ±‚ï¼Œä½†æ˜¯è¿˜æœªå‡†å¤‡å¥½å…³é—­ã€‚æœåŠ¡å™¨è¿›å…¥CLOSE_WAITçŠ¶æ€ï¼Œå®¢æœç«¯è¿›å…¥FIN_WAIT_2çŠ¶æ€</p></li><li><p><strong>ç¬¬ä¸‰æ¬¡æŒ¥æ‰‹ï¼ˆFIN = 1ï¼ŒACK = 1ï¼Œseq = wï¼Œack = u + 1ï¼‰</strong></p><p>å½“æœåŠ¡å™¨å°†å‰©ä½™æ•°æ®å‘é€å®Œä¹‹åï¼Œä¼šå‘é€ä¸€ä¸ªè‡ªå·±çš„FINåŒ…ï¼Œåºåˆ—å·ä¸ºu+1ã€‚æœåŠ¡å™¨LAST_ACKçŠ¶æ€ï¼Œç­‰å¾…æ¥è‡ªå®¢æœç«¯çš„æœ€åä¸€ä¸ªACKã€‚</p></li><li><p><strong>ç¬¬å››æ¬¡æŒ¥æ‰‹ï¼ˆACK = 1ï¼Œseq = u + 1ï¼Œack = w + 1ï¼‰</strong></p><p>å®¢æœç«¯æ¥æ”¶åˆ°æ¥è‡ªæœåŠ¡ç«¯çš„å…³é—­è¯·æ±‚ä¹‹åï¼Œå‘é€æœ€åä¸€ä¸ªACKç¡®è®¤åŒ…ï¼Œç¡®è®¤åºå·è®¾ç½®ä¸ºæ”¶åˆ°åºå·+1ã€‚å®¢æœç«¯è¿›å…¥TIME_WAITçŠ¶æ€ï¼Œç­‰å¾…å¯èƒ½å‡ºç°çš„è¦æ±‚é‡ä¼ çš„ACKåŒ…ã€‚æœåŠ¡ç«¯æ¥æ”¶åˆ°è¿™ä¸ªç¡®è®¤åŒ…ä¹‹åï¼Œå…³é—­è¿æ¥ï¼Œè¿›å…¥CLOSEDçŠ¶æ€ã€‚ï¼ˆå®¢æˆ·ç«¯ä¼šç­‰å¾…2mslï¼Œæ²¡æœ‰æ”¶åˆ°æœåŠ¡ç«¯çš„ACKï¼Œå°±ç¡®è®¤æœåŠ¡å™¨è¿›å…¥CLOSEDçŠ¶æ€ï¼Œè‡ªå·±ä¹Ÿå…³é—­ï¼Œè¿›å…¥CLOSEDçŠ¶æ€ï¼‰</p></li></ol><p>å‘é€å®Œæ¯•åï¼Œå®¢æœç«¯å’ŒæœåŠ¡ç«¯æ–­å¼€è¿æ¥ï¼ŒTCPæŒ¥æ‰‹ç»“æŸã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> ç½‘ç»œåè®® </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å…³äºHTTPçš„é‚£äº›äº‹</title>
      <link href="http/"/>
      <url>http/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€æ¬¡å®Œæ•´çš„Httpè¯·æ±‚è¿‡ç¨‹"><a href="#ä¸€æ¬¡å®Œæ•´çš„Httpè¯·æ±‚è¿‡ç¨‹" class="headerlink" title="ä¸€æ¬¡å®Œæ•´çš„Httpè¯·æ±‚è¿‡ç¨‹"></a>ä¸€æ¬¡å®Œæ•´çš„Httpè¯·æ±‚è¿‡ç¨‹</h2><p>å…¶å®è¿™å¥è¯çš„æ„æ€å¯ä»¥ç†è§£ä¸º</p><blockquote><p>å½“æˆ‘ä»¬åœ¨webæµè§ˆå™¨åœ°å€æ ä¸­è¾“å…¥ä¸€ä¸ªåŸŸåï¼ˆ<code>www.baidu.com</code>ï¼‰ï¼Œå…·ä½“ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ</p></blockquote><p>å¤§æ¦‚è¿‡ç¨‹å°±æ˜¯ï¼š</p><ol><li>å¯¹ <code>www.baidu.com</code> è¿™ä¸ªç½‘å€è¿›è¡ŒNDSåŸŸåè§£æï¼Œå¾—åˆ°å¯¹åº”çš„IPåœ°å€ï¼ˆä¾‹å¦‚ï¼š192.168.1.0ï¼‰</li><li>æ ¹æ®è¿™ä¸ªIPï¼Œæ‰¾åˆ°å¯¹åº”çš„æœåŠ¡å™¨ï¼Œå‘èµ·TCPçš„ä¸‰æ¬¡æ¡æ‰‹</li><li>å»ºç«‹TCPè¿æ¥åå‘èµ·HTTPè¯·æ±‚</li><li>æœåŠ¡å™¨å“åº”HTTPè¯·æ±‚ï¼Œæµè§ˆå™¨å¾—åˆ°htmlä»£ç </li><li>æµè§ˆå™¨è§£æhtmlä»£ç ï¼Œå¹¶è¯·æ±‚htmlä¸­çš„èµ„æºï¼ˆå¦‚jsã€cssã€å›¾ç‰‡ç­‰ï¼‰ï¼ˆå…ˆå¾—åˆ°htmlä»£ç ï¼Œæ‰èƒ½å»æ‰¾è¿™äº›èµ„æºï¼‰</li><li>æµè§ˆå™¨å¯¹é¡µé¢è¿›è¡Œæ¸²æŸ“å‘ˆç°ç»™ç”¨æˆ·</li><li>æœåŠ¡å™¨å…³é—­æ–­å¼€TCPè¿æ¥</li></ol><h3 id="å…·ä½“è¿‡ç¨‹ï¼š"><a href="#å…·ä½“è¿‡ç¨‹ï¼š" class="headerlink" title="å…·ä½“è¿‡ç¨‹ï¼š"></a>å…·ä½“è¿‡ç¨‹ï¼š</h3><h4 id="DNSæ€ä¹ˆæ‰¾åˆ°åŸŸåçš„ï¼Ÿ"><a href="#DNSæ€ä¹ˆæ‰¾åˆ°åŸŸåçš„ï¼Ÿ" class="headerlink" title="DNSæ€ä¹ˆæ‰¾åˆ°åŸŸåçš„ï¼Ÿ"></a>DNSæ€ä¹ˆæ‰¾åˆ°åŸŸåçš„ï¼Ÿ</h4><blockquote><p>DNSåŸŸåè§£æé‡‡ç”¨çš„æ˜¯é€’å½’æŸ¥è¯¢çš„æ–¹å¼ï¼Œè¿‡ç¨‹æ˜¯å…ˆå»æ‰¾DNSç¼“å­˜ï¼Œç¼“å­˜æ‰¾ä¸åˆ°å°±å»æ‰¾æ ¹åŸŸåæœåŠ¡å™¨ï¼Œç„¶åå°±ä¼šä¸€ç›´å¾€ä¸‹ä¸€çº§å»æ‰¾ï¼Œè¿™æ ·é€’å½’æŸ¥æ‰¾ä¹‹åï¼Œæ‰¾åˆ°äº†ï¼Œç»™æˆ‘ä»¬çš„webæµè§ˆå™¨</p></blockquote><p>DNSè§£æè¿‡ç¨‹ï¼ˆåŸŸåè§£ææœåŠ¡å™¨ï¼‰ï¼š</p><ol><li>é¦–å…ˆä¼šæœç´¢æµè§ˆå™¨è‡ªèº«çš„DNSç¼“å­˜ï¼ˆç¼“å­˜æ—¶é—´æ¯”è¾ƒçŸ­ï¼Œå¤§æ¦‚åªæœ‰1åˆ†é’Ÿï¼Œä¸”åªèƒ½å®¹çº³1000æ¡ç¼“å­˜ï¼‰</li><li>å¦‚æœæµè§ˆå™¨è‡ªèº«çš„ç¼“å­˜é‡Œé¢æ²¡æœ‰æ‰¾åˆ°ï¼Œé‚£ä¹ˆæµè§ˆå™¨ä¼šæœç´¢ç³»ç»Ÿè‡ªèº«çš„DNSç¼“å­˜</li><li>å¦‚æœè¿˜æ˜¯æ‰¾ä¸åˆ°ï¼Œé‚£ä¹ˆå°è¯•ä»æœ¬åœ°çš„ hosts æ–‡ä»¶é‡Œé¢å»æ‰¾</li><li>åœ¨å‰é¢çš„ä¸‰ä¸ªè¿‡ç¨‹éƒ½æ²¡æœ‰è·å–åˆ°çš„æƒ…å†µä¸‹ï¼Œå°±é€’å½’åœ°å»åŸŸåæœåŠ¡å™¨å»æŸ¥æ‰¾ï¼ˆå…ˆæŸ¥æ‰¾æˆ‘ä»¬çš„æ ¹æœåŠ¡å™¨ï¼Œåœ¨åˆ°æˆ‘ä»¬çš„é¡¶çº§æœåŠ¡å™¨ï¼Œæœ€ååˆ°æˆ‘ä»¬çš„åŸŸåæœåŠ¡å™¨ï¼Œè¿™æ ·å°±æ‰¾åˆ°äº†ï¼‰</li></ol><p><img src="https://images2015.cnblogs.com/blog/464291/201707/464291-20170703113844956-354755333.jpg"></p><h4 id="ä¸ºä»€ä¹ˆHTTPåè®®è¦åŸºäºTCPæ¥å®ç°"><a href="#ä¸ºä»€ä¹ˆHTTPåè®®è¦åŸºäºTCPæ¥å®ç°" class="headerlink" title="ä¸ºä»€ä¹ˆHTTPåè®®è¦åŸºäºTCPæ¥å®ç°"></a>ä¸ºä»€ä¹ˆHTTPåè®®è¦åŸºäºTCPæ¥å®ç°</h4><blockquote><p>TCPæ˜¯ä¸€ä¸ªç«¯åˆ°ç«¯çš„å¯é çš„é¢ç›¸è¿æ¥çš„åè®®ï¼ŒHTTPåŸºäºä¼ è¾“å±‚TCPåè®®ä¸ç”¨æ‹…å¿ƒæ•°æ®ä¼ è¾“çš„å„ç§é—®é¢˜ï¼ˆå½“å‘ç”Ÿé”™è¯¯æ—¶ï¼Œä¼šé‡æ–°ä¼ é€ï¼‰</p></blockquote><h4 id="æµè§ˆå™¨æ˜¯å¦‚ä½•å¯¹é¡µé¢è¿›è¡Œæ¸²æŸ“çš„ï¼Ÿ"><a href="#æµè§ˆå™¨æ˜¯å¦‚ä½•å¯¹é¡µé¢è¿›è¡Œæ¸²æŸ“çš„ï¼Ÿ" class="headerlink" title="æµè§ˆå™¨æ˜¯å¦‚ä½•å¯¹é¡µé¢è¿›è¡Œæ¸²æŸ“çš„ï¼Ÿ"></a>æµè§ˆå™¨æ˜¯å¦‚ä½•å¯¹é¡µé¢è¿›è¡Œæ¸²æŸ“çš„ï¼Ÿ</h4><blockquote><ol><li>å¤„ç†htmlæ ‡è®°å¹¶æ„å»ºDOMæ ‘</li><li>å¤„ç†cssæ ‡è®°å¹¶æ„å»ºCSSOMæ ‘</li><li>å°†DOMä¸CSSOMåˆå¹¶æˆä¸€ä¸ªæ¸²æŸ“æ ‘</li><li>æ ¹æ®æ¸²æŸ“æ ‘æ¥å¸ƒå±€ï¼Œä»¥è®¡ç®—æ¯ä¸ªèŠ‚ç‚¹çš„å‡ ä½•ä¿¡æ¯</li><li>å°†å„ä¸ªèŠ‚ç‚¹ç»˜åˆ¶åˆ°å±å¹•ä¸Š</li></ol></blockquote><p> <img src="https://user-gold-cdn.xitu.io/2018/2/22/161bb3c9b220f8cb?imageslim"></p><h5 id="æµè§ˆå™¨è§£æhtmlä»£ç ï¼Œå¹¶è¯·æ±‚htmlä»£ç ä¸­çš„èµ„æº"><a href="#æµè§ˆå™¨è§£æhtmlä»£ç ï¼Œå¹¶è¯·æ±‚htmlä»£ç ä¸­çš„èµ„æº" class="headerlink" title="æµè§ˆå™¨è§£æhtmlä»£ç ï¼Œå¹¶è¯·æ±‚htmlä»£ç ä¸­çš„èµ„æº"></a>æµè§ˆå™¨è§£æhtmlä»£ç ï¼Œå¹¶è¯·æ±‚htmlä»£ç ä¸­çš„èµ„æº</h5><p>htmlæ‹¿åˆ°æ–‡ä»¶åï¼Œå°±å¼€å§‹è§£æå…¶ä¸­çš„htmlä»£ç ï¼Œéœ€è¦js/css/imgç­‰é™æ€èµ„æºæ—¶ï¼Œä¼šå‘æœåŠ¡å™¨å‘é€è¯·æ±‚ä¸‹è½½ï¼ˆä¼šä½¿ç”¨å¤šçº¿ç¨‹ä¸‹è½½ï¼Œæ¯ä¸ªæµè§ˆå™¨çš„çº¿ç¨‹æ•°ä¸ä¸€æ ·ï¼‰ï¼Œè¿™ä¸ªæ—¶å€™å°±ç”¨ä¸Šäº† <code>keep-alive</code> ç‰¹æ€§äº†ï¼Œå»ºç«‹ä¸€æ¬¡HTTPè¿æ¥ï¼Œå¯ä»¥è¯·æ±‚å¤šä¸ªèµ„æºï¼Œä¸‹è½½èµ„æºçš„é¡ºåºå°±æ˜¯æŒ‰ç…§ä»£ç çš„é¡ºåºï¼Œä½†æ˜¯ç”±äºæ¯ä¸ªèµ„æºå¤§å°ä¸ä¸€æ ·ï¼Œè€Œæµè§ˆå™¨åˆæ˜¯å¤šçº¿ç¨‹è¯·æ±‚èµ„æºï¼Œæ‰€ä»¥è¿™é‡Œæ˜¾ç¤ºçš„é¡ºåºå¹¶ä¸ä¸€å®šæ—¶ä»£ç é‡Œé¢çš„é¡ºåº</p><h5 id="æµè§ˆå™¨å¯¹é¡µé¢è¿›è¡Œæ¸²æŸ“å‘ˆç°ç»™ç”¨æˆ·"><a href="#æµè§ˆå™¨å¯¹é¡µé¢è¿›è¡Œæ¸²æŸ“å‘ˆç°ç»™ç”¨æˆ·" class="headerlink" title="æµè§ˆå™¨å¯¹é¡µé¢è¿›è¡Œæ¸²æŸ“å‘ˆç°ç»™ç”¨æˆ·"></a>æµè§ˆå™¨å¯¹é¡µé¢è¿›è¡Œæ¸²æŸ“å‘ˆç°ç»™ç”¨æˆ·</h5><p>æœ€åï¼Œæµè§ˆå™¨åˆ©ç”¨è‡ªå·±å†…éƒ¨çš„å·¥ä½œæœºåˆ¶ï¼ŒæŠŠè¯·æ±‚çš„é™æ€èµ„æºå’Œhtmlä»£ç è¿›è¡Œæ¸²æŸ“ï¼Œæ¸²æŸ“ä¹‹åå‘ˆç°ç»™ç”¨æˆ·ï¼Œæµè§ˆå™¨æ˜¯ä¸€è¾¹è§£æä¸€éæ¸²æŸ“çš„ã€‚</p><p>é¦–å…ˆæµè§ˆå™¨è§£æHTMLæ–‡ä»¶æ„å»ºDOMæ ‘ï¼Œç„¶åè§£æCSSæ–‡ä»¶æ¸²æŸ“æ ‘ï¼Œåœ¨åˆå¹¶æˆæˆ‘ä»¬ä¸€ä¸ªæ¸²æŸ“æ ‘ï¼Œç­‰åˆ°æ¸²æŸ“æ ‘æ„å»ºå®Œæˆä»¥åï¼Œéå†æ¸²æŸ“æ ‘å¼€å§‹å¸ƒå±€ï¼Œè®¡ç®—æ¯ä¸ªèŠ‚ç‚¹çš„ä½ç½®å¤§å°ä¿¡æ¯ ï¼Œç„¶åå°†æ¸²æŸ“æ ‘æ¯ä¸ªèŠ‚ç‚¹ç»˜åˆ¶åˆ°å±å¹• ä¸Šã€‚</p><p>å…¶ä¸­æ„å»ºå®Œæˆæ¸²æŸ“æ ‘å¼€å§‹å¸ƒå±€ï¼Œè®¡ç®—æ¯ä¸ªèŠ‚ç‚¹çš„ä½ç½®å¤§å°ä¿¡æ¯ï¼Œä¹Ÿå«åš <code>reflowï¼ˆå›æµï¼‰</code>å°†æ¸²æŸ“æ ‘æ¯ä¸ªèŠ‚ç‚¹ç»˜åˆ¶åˆ°å±å¹•ä¸Šçš„è¿‡ç¨‹å« <code>repainï¼ˆé‡ç»˜ï¼‰</code>ã€‚</p><p>é¡µé¢é¦–æ¬¡åŠ è½½å¿…ç„¶ç»å† <code>reflow</code> å’Œ <code>repain</code></p><p><code>reflow</code> å’Œ <code>repain</code> çš„è¿‡ç¨‹éƒ½ç‰¹åˆ«æ¶ˆè€—æ€§èƒ½ï¼Œå°¤å…¶æ˜¯ç§»åŠ¨è®¾å¤‡ä¸Šï¼Œä»–ä¼šç ´åç”¨æˆ·ä½“éªŒï¼Œæœ‰æ—¶ä¼šé€ æˆé¡µé¢å¡é¡¿ã€‚æ‰€ä»¥æˆ‘ä»¬åº”è¯¥å°½å¯èƒ½çš„å‡å°‘ reflow å’Œ repain</p><h2 id="HTTPç¼“å­˜æ§åˆ¶"><a href="#HTTPç¼“å­˜æ§åˆ¶" class="headerlink" title="HTTPç¼“å­˜æ§åˆ¶"></a>HTTPç¼“å­˜æ§åˆ¶</h2><p>Webç¼“å­˜å¤§è‡´å¯ä»¥åˆ†ä¸ºï¼šæ•°æ®åº“ç¼“å­˜ã€æœåŠ¡å™¨ç¼“å­˜ã€ï¼ˆä»£ç†æœåŠ¡å™¨ç¼“å­˜ã€CDNç¼“å­˜ï¼‰ã€æµè§ˆå™¨ç¼“å­˜ã€‚</p><p>æµè§ˆå™¨ç¼“å­˜ä¹ŸåŒ…å«å¾ˆå¤šå†…å®¹ï¼šHTTPç¼“å­˜ã€indexDBã€cookieã€localstorageç­‰ç­‰ã€‚è¿™é‡Œæˆ‘ä»¬åªè®¨è®ºHTTPç¼“å­˜ç›¸å…³å†…å®¹ã€‚</p><p><strong>å¤‡æ³¨ä¸€ä¸‹ä¸‹é¢ä¼šç”¨åˆ°çš„å‡ ä¸ªä¸“ä¸šæœ¯è¯­ï¼š</strong></p><ul><li>ç¼“å­˜å‘½ä¸­ç‡ï¼šä»ç¼“å­˜ä¸­å¾—åˆ°æ•°æ®çš„è¯·æ±‚æ•°ä¸æ‰€æœ‰è¯·æ±‚æ•°çš„æ¯”ä¾‹ã€‚ç†æƒ³çŠ¶æ€æ˜¯è¶Šé«˜è¶Šå¥½ã€‚</li><li>è¿‡æœŸæ—¶é—´ï¼šè¶…è¿‡è®¾ç½®çš„æœ‰æ•ˆæ—¶é—´ï¼Œè¢«æ ‡è®°ä¸º â€œé™ˆæ—§â€ çš„å†…å®¹ã€‚é€šå¸¸è¿‡æœŸå†…å®¹ä¸èƒ½ç”¨äºå›å¤å®¢æˆ·ç«¯çš„è¯·æ±‚ï¼Œå¿…é¡»é‡æ–°å‘æºæœåŠ¡å™¨è¯·æ±‚æ–°çš„å†…å®¹æˆ–è€…éªŒè¯ç¼“å­˜çš„å†…å®¹æ˜¯å¦ä»ç„¶å‡†å¤‡ã€‚</li><li>éªŒè¯ï¼šéªŒè¯ç¼“å­˜ä¸­çš„è¿‡æœŸå†…å®¹æ˜¯å¦ä»ç„¶æœ‰æ•ˆï¼ŒéªŒè¯é€šè¿‡çš„è¯åˆ·æ–°è¿‡æœŸæ—¶é—´ã€‚</li><li>å¤±æ•ˆï¼šå¤±æ•ˆå°±æ˜¯å†…å®¹ä»ç¼“å­˜ä¸­ç§»é™¤ã€‚å½“å†…å®¹å‘ç”Ÿæ”¹å˜æ—¶å°±å¿…é¡»ç§»é™¤å¤±æ•ˆå†…å®¹ã€‚</li></ul><h3 id="æµè§ˆå™¨ç¼“å­˜åˆ†ç±»"><a href="#æµè§ˆå™¨ç¼“å­˜åˆ†ç±»" class="headerlink" title="æµè§ˆå™¨ç¼“å­˜åˆ†ç±»"></a>æµè§ˆå™¨ç¼“å­˜åˆ†ç±»</h3><p>æµè§ˆå™¨ç¼“å­˜åˆ†ä¸ºå¼ºç¼“å­˜å’Œåå•†ç¼“å­˜ï¼Œæµè§ˆå™¨åŠ è½½ä¸€ä¸ªé¡µé¢çš„ç®€å•æµç¨‹å¦‚ä¸‹ï¼š</p><ol><li>æµè§ˆå™¨å…ˆæ ¹æ®è¿™ä¸ªèµ„æºçš„httpå¤´ä¿¡æ¯æ¥åˆ¤æ–­æ˜¯å¦å‘½ä¸­å¼ºç¼“å­˜ã€‚å¦‚æœå‘½ä¸­å¼ºç¼“å­˜åˆ™ç›´æ¥åŠ è½½ç¼“å­˜ä¸­çš„èµ„æºï¼Œå¹¶ä¸ä¼šå‘é€è¯·æ±‚åˆ°æœåŠ¡å™¨ã€‚ï¼ˆå¼ºç¼“å­˜ï¼‰</li><li>å¦‚æœæœªå‘½ä¸­å¼ºç¼“å­˜ï¼Œåˆ™æµè§ˆå™¨ä¼šå°†åŠ è½½èµ„æºçš„è¯·æ±‚å‘é€åˆ°æœåŠ¡å™¨ã€‚æœåŠ¡å™¨æ¥åˆ¤æ–­æµè§ˆå™¨æœ¬åœ°ç¼“å­˜æ˜¯å¦å¤±æ•ˆã€‚è‹¥æ˜¯å¯ä»¥ä½¿ç”¨ï¼Œåˆ™æœåŠ¡å™¨å¹¶ä¸ä¼šè¿”å›èµ„æºä¿¡æ¯ï¼Œæµè§ˆå™¨ç»§ç»­ä»ç¼“å­˜ä¸­åŠ è½½èµ„æºã€‚ï¼ˆåå•†ç¼“å­˜ï¼‰</li><li>å¦‚æœæœªå‘½ä¸­åå•†ç¼“å­˜ï¼Œåˆ™æœåŠ¡å™¨ä¼šå°†å®Œæ•´çš„èµ„æºè¿”å›ç»™æµè§ˆå™¨ï¼Œæµè§ˆå™¨åŠ è½½æ–°èµ„æºï¼Œå¹¶æ›´æ–°ç¼“å­˜ã€‚</li></ol><h4 id="å¼ºç¼“å­˜"><a href="#å¼ºç¼“å­˜" class="headerlink" title="å¼ºç¼“å­˜"></a>å¼ºç¼“å­˜</h4><p>å‘½ä¸­å¼ºç¼“å­˜æ—¶ï¼Œæµè§ˆå™¨å¹¶ä¸ä¼šå°†è¯·æ±‚å‘é€åˆ°æœåŠ¡å™¨ã€‚åœ¨Chromeçš„å¼€å‘è€…å·¥å…·ä¸­çœ‹åˆ°httpçš„è¿”å›ç æ˜¯200ï¼ŒSizeåˆ—ä¼šæ˜¾ç¤ºä¸º <code>from cache</code></p><p><img src="https://pic.downk.cc/item/5fc48802d590d4788a20b13d.jpg"></p><p>å¼ºç¼“å­˜æ˜¯åˆ©ç”¨httpçš„è¿”å›å¤´ä¸­çš„<code>Expires</code>æˆ–è€…<code>Cache-Ccontrol</code>ä¸¤ä¸ªå­—æ®µæ¥æ§åˆ¶çš„ï¼Œç”¨æ¥è¡¨ç¤ºèµ„æºçš„ç¼“å­˜æ—¶é—´ã€‚</p><h5 id="Expires"><a href="#Expires" class="headerlink" title="Expires"></a>Expires</h5><p>ç¼“å­˜è¿‡æœŸæ—¶é—´ï¼Œç”¨æ¥æŒ‡å®šèµ„æºåˆ°æœŸçš„æ—¶é—´ï¼Œæ˜¯æœåŠ¡ç«¯çš„å…·ä½“æ—¶é—´ç‚¹ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒExpires=max-age + è¯·æ±‚æ—¶é—´ï¼Œéœ€è¦å’ŒLast-modeified ç»“åˆä½¿ç”¨ã€‚Expiresæ˜¯WebæœåŠ¡å™¨å“åº”æ¶ˆæ¯å¤´å­—æ®µï¼Œåœ¨å“åº”httpè¯·æ±‚æ—¶å‘Šè¯‰æµè§ˆå™¨åœ¨è¿‡æœŸæ—¶é—´å‰æµè§ˆå™¨å¯ä»¥ç›´æ¥ä»æµè§ˆå™¨ç¼“å­˜å–æ•°æ®ï¼Œè€Œæ— éœ€å†æ¬¡è¯·æ±‚ã€‚</p><p><img src="https://pic.downk.cc/item/5fc48c4bd590d4788a223e80.jpg"></p><p>è¯¥å­—æ®µä¼šè¿”å›ä¸€ä¸ªæ—¶é—´ï¼Œæ¯”å¦‚ä¸Šå›¾çš„Expireså­—æ®µçš„æ„æ€ï¼šåœ¨2021å¹´11æœˆ19å·03ç‚¹ï¼š50åˆ†ï¼š13ç§’ä¹‹å‰éƒ½æ˜¯æœ‰æ•ˆçš„ï¼Œå³å‘½ä¸­ç¼“å­˜ã€‚ä½†æ˜¯è¿™ä¸ªæ–¹å¼æœ‰ä¸€ä¸ªæ˜æ˜¾çš„ç¼ºç‚¹ï¼Œç”±äºå¤±æ•ˆæ—¶é—´æ˜¯ä¸€ä¸ªç»å¯¹æ—¶é—´ï¼Œæ‰€ä»¥å½“å®¢æˆ·ç«¯æœ¬åœ°æ—¶é—´è¢«ä¿®æ”¹ä¹‹åï¼Œå¯èƒ½ä¼šå¯¼è‡´ç¼“å­˜æ··ä¹±ã€‚äºæ˜¯å‘å±•å‡ºäº†Cache-Controlã€‚</p><h5 id="Cache-Control"><a href="#Cache-Control" class="headerlink" title="Cache-Control"></a>Cache-Control</h5><p>Cache-Controlæ˜¯ä¸€ä¸ªç›¸å¯¹æ—¶é—´ï¼Œä¾‹å¦‚Cache-Control:3600ï¼Œä»£è¡¨èµ„æºçš„æœ‰æ•ˆæœŸæ˜¯3600ç§’ã€‚ç”±äºæ˜¯ç›¸å¯¹æ—¶é—´ï¼Œå¹¶ä¸”éƒ½æ˜¯ä¸å®¢æˆ·ç«¯æ—¶é—´ç›¸æ¯”è¾ƒï¼Œæ‰€ä»¥æœåŠ¡å™¨ä¸å®¢æˆ·ç«¯æ—¶é—´åå·®ä¹Ÿä¸ä¼šå¯¼è‡´é—®é¢˜ã€‚</p><p>å› ä¸ºæˆ‘ä»¬çš„Cache-Controlæ˜¯ä¸ºäº†å¼¥è¡¥Expiresçš„ç¼ºç‚¹çš„ï¼Œæ‰€ä»¥å½“æˆ‘ä»¬åœ¨æœåŠ¡ç«¯é…ç½®åŒæ—¶å¯ç”¨çš„æ—¶å€™ï¼ŒCache-Controlä¼˜å…ˆçº§ä¼šæ›´é«˜ã€‚</p><p><strong>Cache-Controlå¯ä»¥ç”±å¤šä¸ªå­—æ®µç»„æˆï¼Œä¸»è¦æœ‰ä»¥ä¸‹å‡ ä¸ªå–å€¼ï¼š</strong></p><ol><li><p>max-age æŒ‡å®šä¸€ä¸ªæ—¶é—´é•¿åº¦ï¼Œåœ¨è¿™ä¸ªæ—¶é—´æ®µå†…ç¼“å­˜æ˜¯æœ‰æ•ˆçš„ï¼Œå•ä½æ˜¯sï¼Œä¾‹å¦‚è®¾ç½®Cache-Control:max-age=31536000ï¼Œä¹Ÿå°±æ˜¯è¯´ç¼“å­˜æœ‰æ•ˆæœŸä¸ºï¼ˆ31536000 / 24 / 60 / 60ï¼‰å¤©ï¼Œç¬¬ä¸€æ¬¡è®¿é—®è¿™ä¸ªèµ„æºçš„æ—¶å€™ï¼ŒæœåŠ¡å™¨ç«¯ä¹Ÿè¿”å›äº†Expireså­—æ®µï¼Œå¹¶ä¸”è¿‡æœŸæ—¶é—´æ˜¯ä¸€å¹´åã€‚</p><p><img src="https://pic.downk.cc/item/5fc497f9d590d4788a26aaac.jpg"></p><p>åœ¨æ²¡æœ‰ç¦ç”¨ç¼“å­˜å¹¶ä¸”æ²¡æœ‰è¶…è¿‡æœ‰æ•ˆæ—¶é—´çš„æƒ…å†µä¸‹ï¼Œå†æ¬¡è®¿é—®è¿™ä¸ªèµ„æºå°±å‘½ä¸­äº†ç¼“å­˜ï¼Œä¸ä¼šå‘æœåŠ¡å™¨è¯·æ±‚èµ„æºï¼Œè€Œæ˜¯ç›´æ¥ä»æµè§ˆå™¨ç¼“å­˜ä¸­å–ã€‚</p></li><li><p><code>s-maxage</code> åŒ <code>max-age</code>ï¼Œè¦†ç›–max-ageã€Expiresï¼Œä½†ä»…é€‚ç”¨äºå…±äº«ç¼“å­˜ï¼Œåœ¨ç§æœ‰ç¼“å­˜ä¸­è¢«å¿½ç•¥ã€‚</p></li><li><p><code>public</code>è¡¨æ˜å“åº”å¯ä»¥è¢«ä»»ä½•å¯¹è±¡ï¼ˆå‘é€è¯·æ±‚çš„å®¢æˆ·ç«¯ã€ä»£ç†æœåŠ¡å™¨ç­‰ç­‰ï¼‰ç¼“å­˜ã€‚</p></li><li><p><code>private</code>è¡¨æ˜å“åº”åªèƒ½è¢«å•ä¸ªç”¨æˆ·ï¼ˆå¯èƒ½æ˜¯æ“ä½œç³»ç»Ÿç”¨æˆ·ã€æµè§ˆå™¨ç”¨æˆ·ï¼‰ç¼“å­˜ï¼Œæ˜¯éå…±äº«çš„ï¼Œä¸èƒ½è¢«ä»£ç†æœåŠ¡å™¨ç¼“å­˜ã€‚</p></li><li><p><code>no-cache</code>å¼ºåˆ¶æ‰€æœ‰ç¼“å­˜äº†è¯¥å“åº”çš„ç”¨æˆ·ï¼Œåœ¨ä½¿ç”¨å·²ç¼“å­˜çš„æ•°æ®å‰ï¼Œå‘é€å¸¦éªŒè¯å™¨çš„è¯·æ±‚åˆ°æœåŠ¡å™¨ã€‚ä¸æ˜¯å­—é¢æ„æ€ä¸Šçš„ä¸ç¼“å­˜ã€‚</p></li><li><p><code>no-store</code>ç¦æ­¢ç¼“å­˜ï¼Œæ¯æ¬¡éƒ½è¦å‘æœåŠ¡å™¨å‘é€è¯·æ±‚é‡æ–°è·å–æ•°æ®ã€‚</p></li><li><p><code>must-revalidate</code>æŒ‡å®šå¦‚æœé¡µé¢æ˜¯è¿‡æœŸçš„ï¼Œåˆ™å»æœåŠ¡å™¨è¿›è¡Œè·å–ã€‚ï¼ˆä¸å¸¸ç”¨ï¼Œè¿™é‡Œå°±ä¸æ·±ç©¶äº†ï¼‰</p></li></ol><h4 id="åå•†ç¼“å­˜"><a href="#åå•†ç¼“å­˜" class="headerlink" title="åå•†ç¼“å­˜"></a>åå•†ç¼“å­˜</h4><p>è‹¥æœªå‘½ä¸­å¼ºç¼“å­˜ï¼Œåˆ™æµè§ˆå™¨ä¼šå°†è¯·æ±‚å‘é€è‡³æœåŠ¡å™¨ã€‚æœåŠ¡å™¨æ ¹æ®httpå¤´ä¿¡æ¯ä¸­çš„<code>Last-Modify/If-Modify-Since</code>æˆ–<code>Etag/If-None-Match</code>æ¥åˆ¤æ–­æ˜¯å¦å‘½ä¸­åå•†ç¼“å­˜ã€‚å¦‚æœå‘½ä¸­ï¼Œåˆ™httpè¿”å›ç ä¸º304ï¼Œæµè§ˆå™¨ä»ç¼“å­˜ä¸­åŠ è½½èµ„æºã€‚</p><p>å€Ÿå›¾ä¸€ç”¨</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c819577cba3746ddaa2e25a58bed84a4~tplv-k3u1fbpfcp-zoom-1.image?imageslim"></p><h5 id="Last-Modifed-If-Modify-Since"><a href="#Last-Modifed-If-Modify-Since" class="headerlink" title="Last-Modifed/If-Modify-Since"></a>Last-Modifed/If-Modify-Since</h5><p>æµè§ˆå™¨ç¬¬ä¸€æ¬¡è¯·æ±‚ä¸€ä¸ªèµ„æºçš„æ—¶å€™ï¼ŒæœåŠ¡å™¨è¿”å›çš„headerä¸­ä¼šåŠ ä¸ŠLast-Modifyã€‚Last-Modifyæ˜¯ä¸€ä¸ªæ—¶é—´æ ‡è¯†è¯¥èµ„æºçš„æœ€åä¿®æ”¹æ—¶é—´ï¼Œä¾‹å¦‚ <code>last-modified: Mon, 04 May 2020 16:11:48 GMT</code>ã€‚</p><p><img src="https://pic.downk.cc/item/5fc4a837d590d4788a2d6107.jpg"></p><p>å½“æµè§ˆå™¨å†æ¬¡è¯·æ±‚èµ„æºæ—¶ï¼Œå‘é€çš„è¯·æ±‚å¤´ä¸­ä¼šåŒ…å« <code>If-Modified-Since</code>ï¼Œè¯¥å€¼ä¸ºç¼“å­˜ä¹‹å‰è¿”å›çš„ <code>Last-Modified</code>ã€‚æœåŠ¡å™¨æ”¶åˆ° <code>If-Modified-Since</code>åï¼Œæ ¹æ®èµ„æºçš„æœ€åä¿®æ”¹æ—¶é—´åˆ¤æ–­æ˜¯å¦å‘½ä¸­ç¼“å­˜ã€‚</p><p><img src="https://pic.downk.cc/item/5fc4aaadd590d4788a2e4770.jpg"></p><p>å¦‚æœå‘½ä¸­ç¼“å­˜ï¼Œåˆ™è¿”å›çŠ¶æ€ç 304ï¼Œå¹¶ä¸”ä¸ä¼šè¿”å›èµ„æºå†…å®¹ï¼Œä¹Ÿä¸ä¼šè¿”å› <code>Last-Modified</code>ï¼Œç”±äºå¯¹æ¯”çš„æœåŠ¡ç«¯æ—¶é—´ï¼Œæ‰€ä»¥å®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯æ—¶é—´å·®è·ä¸ä¼šå¯¼è‡´é—®é¢˜ã€‚ä½†æ˜¯æœ‰æ—¶å€™é€šè¿‡æœ€åä¿®æ”¹æ—¶é—´æ¥åˆ¤æ–­èµ„æºæ˜¯å¦ä¿®æ”¹è¿˜æ˜¯ä¸å¤ªå‡†ç¡®ï¼ˆèµ„æºå˜åŒ–äº†æœ€åä¿®æ”¹æ—¶é—´ä¹Ÿå¯ä»¥ä¸€è‡´ï¼‰ã€‚äºæ˜¯å‡ºç°äº†<code>ETag/If-None-Match</code>ã€‚</p><h5 id="ETag-If-None-Match"><a href="#ETag-If-None-Match" class="headerlink" title="ETag/If-None-Match"></a>ETag/If-None-Match</h5><p>ä¸Last-Modified/If-Modified-Sinceä¸åŒçš„æ˜¯ï¼ŒETag/If-None-Matchè¿”å›çš„æ˜¯ä¸€ä¸ªæ ¡éªŒç ï¼ˆETag: entity tagï¼‰ã€‚ETagå¯ä»¥ä¿è¯æ¯ä¸€ä¸ªèµ„æºæ˜¯å”¯ä¸€çš„ï¼Œèµ„æºå˜åŒ–éƒ½ä¼šå¯¼è‡´ETagå˜åŒ–ã€‚ETagå€¼çš„å˜æ›´åˆ™è¯´æ˜èµ„æºçŠ¶æ€å·²ç»è¢«ä¿®æ”¹ã€‚æœåŠ¡å™¨æ ¹æ®æµè§ˆå™¨å‘é€çš„è¯·æ±‚å¤´ä¸­If-None-Matchå€¼æ¥åˆ¤æ–­æ˜¯å¦å‘½ä¸­ç¼“å­˜ã€‚</p><p><img src="https://pic.downk.cc/item/5fc4af42d590d4788a2fa78c.jpg"></p><p><img src="https://pic.downk.cc/item/5fc4af76d590d4788a2fb525.jpg"></p><h5 id="æ—¢ç„¶å·²ç»æœ‰äº†Last-Modifiedä¸ºä»€ä¹ˆè¿˜è¦ä½¿ç”¨ETagï¼Ÿ"><a href="#æ—¢ç„¶å·²ç»æœ‰äº†Last-Modifiedä¸ºä»€ä¹ˆè¿˜è¦ä½¿ç”¨ETagï¼Ÿ" class="headerlink" title="æ—¢ç„¶å·²ç»æœ‰äº†Last-Modifiedä¸ºä»€ä¹ˆè¿˜è¦ä½¿ç”¨ETagï¼Ÿ"></a>æ—¢ç„¶å·²ç»æœ‰äº†Last-Modifiedä¸ºä»€ä¹ˆè¿˜è¦ä½¿ç”¨ETagï¼Ÿ</h5><p>ä½ å¯èƒ½è§‰å¾—ä½¿ç”¨<code>Last-Modified</code>å·²ç»è¶³ä»¥è®©æµè§ˆå™¨çŸ¥é“æœ¬åœ°çš„ç¼“å­˜å‰¯æœ¬æ˜¯å¦å¤Ÿæ–°ï¼Œä¸ºä»€ä¹ˆè¿˜è¦ä½¿ç”¨ETagï¼ˆå®ä½“æ ‡è¯†ï¼‰å‘¢ï¼ŸHTTP1.1ä¸­ETagçš„å‡ºç°ä¸»è¦æ˜¯è§£å†³å‡ ä¸ªLast-Modifiedæ¯”è¾ƒéš¾è§£å†³çš„é—®é¢˜ï¼š</p><ol><li>Last-Modifiedæ ‡æ³¨çš„æœ€åä¿®æ”¹æ—¶é—´åªèƒ½ç²¾ç¡®åˆ°ç§’çº§ï¼Œå¦‚æœæŸäº›æ–‡ä»¶åœ¨1ç§’é’Ÿä»¥å†…ï¼Œè¢«ä¿®æ”¹å¤šæ¬¡çš„è¯ï¼Œå®ƒå°†ä¸èƒ½å‡†ç¡®æ ‡æ³¨æ–‡ä»¶çš„ä¿®æ”¹æ—¶é—´</li><li>å¦‚æœæŸäº›æ–‡ä»¶ä¼šè¢«å®šæœŸç”Ÿæˆï¼Œä½†æ˜¯å†…å®¹å¹¶æ²¡æœ‰ä»»ä½•å˜åŒ–ï¼Œä½†æ˜¯Last-Modifiedå´æ”¹å˜äº†ï¼Œå¯¼è‡´æ–‡ä»¶æ²¡æ³•ä½¿ç”¨ç¼“å­˜</li><li>æœ‰å¯èƒ½å­˜åœ¨æœåŠ¡å™¨æ²¡æœ‰å‡†ç¡®è·å–æ–‡ä»¶ä¿®æ”¹æ—¶é—´ï¼Œæˆ–è€…ä¸ä»£ç†æœåŠ¡æ—¶é—´ä¸ä¸€è‡´ç­‰æƒ…å½¢</li></ol><p>ETagæ˜¯æœåŠ¡å™¨è‡ªåŠ¨ç”Ÿæˆæˆ–è€…ç”±å¼€å‘è€…ç”Ÿæˆçš„å¯¹åº”èµ„æºåœ¨æœåŠ¡ç«¯çš„å”¯ä¸€æ ‡è¯†ç¬¦ï¼Œèƒ½å¤Ÿæ›´åŠ å‡†ç¡®çš„æ§åˆ¶ç¼“å­˜ã€‚Last-Modeifiedä¸ETagæ˜¯å¯ä»¥ä¸€èµ·ä½¿ç”¨çš„ï¼ŒæœåŠ¡å™¨ä¼šä¼˜å…ˆéªŒè¯ETagï¼Œä¸€è‡´çš„æƒ…å†µä¸‹ï¼Œæ‰ä¼šç»§ç»­å¯¹æ¯”Last-Modifiedï¼Œæœ€åæ‰å†³å®šæ˜¯å¦è¿”å›304</p>]]></content>
      
      
      
        <tags>
            
            <tag> ç½‘ç»œåè®® </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å‰ç«¯è·¨åŸŸé—®é¢˜è¯¦è§£</title>
      <link href="kuayu/"/>
      <url>kuayu/</url>
      
        <content type="html"><![CDATA[<h1 id="å‰ç«¯è·¨åŸŸé—®é¢˜è¯¦è§£"><a href="#å‰ç«¯è·¨åŸŸé—®é¢˜è¯¦è§£" class="headerlink" title="å‰ç«¯è·¨åŸŸé—®é¢˜è¯¦è§£"></a>å‰ç«¯è·¨åŸŸé—®é¢˜è¯¦è§£</h1><p>ä½œä¸ºä¸€åå‰ç«¯å·¥ç¨‹å¸ˆï¼Œåœ¨é¢è¯•çš„æ—¶å€™ä½ æ˜¯å¦ç»å¸¸è¢«é—®åˆ°ï¼šä»€ä¹ˆæ˜¯è·¨åŸŸï¼Ÿæ€ä¹ˆè§£å†³è·¨åŸŸï¼Ÿ</p><p>è¿™æ˜¯ä¸¤ä¸ªé«˜é¢‘é¢è¯•é¢˜ï¼Œä»Šå¤©è¿™ç¯‡æ–‡ç« å°†ä¸ºä½ å¸¦æ¥è¯¦ç»†çš„ä»‹ç»ä»€ä¹ˆæ˜¯è·¨åŸŸï¼Œå¦‚ä½•è§£å†³è·¨åŸŸçš„é—®é¢˜</p><h2 id="ä»€ä¹ˆæ˜¯è·¨åŸŸ"><a href="#ä»€ä¹ˆæ˜¯è·¨åŸŸ" class="headerlink" title="ä»€ä¹ˆæ˜¯è·¨åŸŸ"></a>ä»€ä¹ˆæ˜¯è·¨åŸŸ</h2><p>è·¨åŸŸå…¶å®ä¹Ÿå«åšéåŒæºç­–ç•¥è¯·æ±‚ã€‚è°ˆåˆ°è·¨åŸŸé—®é¢˜ï¼Œæˆ‘ä»¬å¿…é¡»å…ˆäº†è§£ä¸€ä¸ªä»€ä¹ˆæ˜¯åŒæºç­–ç•¥</p><blockquote><p>åŒæºç­–ç•¥ï¼šå®ƒæ˜¯ç”±Netscapeæå‡ºçš„ä¸€ä¸ªè‘—åçš„å®‰å…¨ç­–ç•¥ã€‚ç°åœ¨æ‰€æœ‰æ”¯æŒJavaScriptçš„æµè§ˆå™¨éƒ½ä¼šä½¿ç”¨è¿™ä¸ªç­–ç•¥ã€‚æ‰€è°“åŒæºæŒ‡çš„æ˜¯ï¼ŒåŸŸåã€åè®®ã€ç«¯å£ç›¸åŒã€‚å…¶ä¸­æœ‰ä¸€ä¸ªä¸ç›¸åŒå°±æ˜¯<strong>è·¨åŸŸ</strong></p></blockquote><p>ä¸€ä¸ªåŸŸåçš„ç»„æˆå¦‚ä¸‹</p><p><img src="https://pic.downk.cc/item/5fba78a5b18d627113af0cfb.jpg"></p><h2 id="è·¨åŸŸçš„å‡ ç§è§£å†³æ–¹æ¡ˆ"><a href="#è·¨åŸŸçš„å‡ ç§è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è·¨åŸŸçš„å‡ ç§è§£å†³æ–¹æ¡ˆ"></a>è·¨åŸŸçš„å‡ ç§è§£å†³æ–¹æ¡ˆ</h2><h3 id="JSONPå®ç°è·¨åŸŸ"><a href="#JSONPå®ç°è·¨åŸŸ" class="headerlink" title="JSONPå®ç°è·¨åŸŸ"></a>JSONPå®ç°è·¨åŸŸ</h3><p>jsonpçš„åŸç†å°±æ˜¯åˆ©ç”¨ <code>&lt;script&gt;</code> æ ‡ç­¾æ²¡æœ‰è·¨åŸŸé™åˆ¶ï¼Œé€šè¿‡ <code>script</code> æ ‡ç­¾ <code>src</code> å±æ€§ï¼Œå‘é€å¸¦æœ‰callbackå›è°ƒå‡½æ•°çš„GETè¯·æ±‚ï¼ŒæœåŠ¡ç«¯å°†æ¥å£è¿”å›æ•°æ®æ‹¼å‡‘åˆ°callbackå‡½æ•°ä¸­ï¼Œè¿”å›ç»™æµè§ˆå™¨ï¼Œæµè§ˆå™¨è§£ææ‰§è¡Œï¼Œä»è€Œè®©å‰ç«¯æ‹¿åˆ°callbackå‡½æ•°è¿”å›çš„æ•°æ®</p><h4 id="jsonpå’Œajaxå¯¹æ¯”"><a href="#jsonpå’Œajaxå¯¹æ¯”" class="headerlink" title="jsonpå’Œajaxå¯¹æ¯”"></a>jsonpå’Œajaxå¯¹æ¯”</h4><p>jsonpå’Œajaxç›¸åŒï¼Œéƒ½æ˜¯å®¢æˆ·ç«¯å‘æœåŠ¡å™¨ç«¯å‘é€è¯·æ±‚ï¼Œä»æœåŠ¡ç«¯è·å–æ•°æ®çš„æ–¹å¼ã€‚ä½†æ˜¯ajaxå±äºåŒæºç­–ç•¥ï¼Œjsonpå±äºéåŒæºç­–ç•¥ï¼ˆè·¨åŸŸè¯·æ±‚ï¼‰</p><h4 id="jsonpä¼˜ç¼ºç‚¹"><a href="#jsonpä¼˜ç¼ºç‚¹" class="headerlink" title="jsonpä¼˜ç¼ºç‚¹"></a>jsonpä¼˜ç¼ºç‚¹</h4><p>ä¼˜ç‚¹ï¼šç®€å•å…¼å®¹æ€§å¥½ï¼Œå¯ç”¨äºè§£å†³ä¸»æµæµè§ˆå™¨çš„è·¨åŸŸæ•°æ®è®¿é—®çš„é—®é¢˜</p><p>ç¼ºç‚¹ï¼šä»…æ”¯æŒå‘é€GETè¯·æ±‚ï¼Œä¸”ä¸å®‰å…¨ï¼Œå®¹æ˜“é­å—XSSæ”»å‡»</p><h4 id="jsonpçš„å®ç°æµç¨‹"><a href="#jsonpçš„å®ç°æµç¨‹" class="headerlink" title="jsonpçš„å®ç°æµç¨‹"></a>jsonpçš„å®ç°æµç¨‹</h4><ol><li>å£°æ˜ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼ˆå¦‚getDateï¼‰ï¼Œå‡½æ•°åå½“ä½œå‚æ•°ï¼Œä¼ é€’ç»™è·¨åŸŸè¯·æ±‚æ•°æ®çš„æœåŠ¡å™¨ï¼Œå‡½æ•°å½¢å‚ä¸ºè¦è·å–çš„ç›®æ ‡æ•°æ®ï¼ˆæœåŠ¡å™¨è¿”å›çš„dataï¼‰</li><li>åˆ›å»ºä¸€ä¸ª <code>&lt;script&gt;</code> æ ‡ç­¾ï¼ŒæŠŠé‚£ä¸ªè·¨åŸŸçš„APIæ•°æ®æ¥å£åœ°å€ï¼Œèµ‹å€¼ç»™<code>&lt;script&gt;</code>çš„<code>src</code>å±æ€§,è¿˜è¦åœ¨è¿™ä¸ªåœ°å€ä¸­å‘æœåŠ¡å™¨ä¼ é€’è¯¥å‡½æ•°åï¼ˆå¯ä»¥é€šè¿‡é—®å·ä¼ å‚?callback = getDataï¼‰</li><li>æœåŠ¡å™¨æ¥æ”¶åˆ°è¯·æ±‚åï¼Œéœ€è¦è¿›è¡Œç‰¹æ®Šçš„å¤„ç†ï¼šæŠŠä¼ é€’è¿‡æ¥çš„å‡½æ•°åå’Œå®ƒéœ€è¦ç»™ä½ è¿”å›çš„æ•°æ®æ‹¼æ¥æˆä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œä¾‹å¦‚ï¼šä¼ é€’è¿›å»çš„å‡½æ•°åæ˜¯getDataï¼Œå®ƒå‡†å¤‡å¥½çš„æ•°æ®æ˜¯getData(â€˜è¿”å›çš„æ•°æ®â€™)</li><li>æœ€åæœåŠ¡å™¨æŠŠå‡†å¤‡çš„æ•°æ®é€šè¿‡HTTPåè®®è¿”å›ç»™å®¢æˆ·ç«¯ï¼Œå®¢æˆ·ç«¯è§£ææ‰§è¡Œï¼Œå°±èƒ½å¤Ÿå¯¹åº”è¿”å›çš„æ•°æ®è¿›è¡Œæ“ä½œã€‚</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">jsonp</span>(<span class="params">&#123;url,params,callback&#125;</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> script = <span class="built_in">document</span>.createElement(<span class="string">&#x27;script&#x27;</span>)</span><br><span class="line">        <span class="comment">// æœåŠ¡ç«¯è°ƒç”¨callbackæ–¹æ³•,å¹¶è¿”å›æ•°æ®</span></span><br><span class="line">        <span class="built_in">window</span>[callback] = <span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</span><br><span class="line">            <span class="comment">// ç§»é™¤scriptæ ‡ç­¾</span></span><br><span class="line">            <span class="built_in">document</span>.body.removeChild(script)</span><br><span class="line">            resolve(data)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// å°†å‚æ•°å’Œå›è°ƒå‡½æ•°è¿›è¡Œç»“æ„ï¼Œå­˜æ”¾åˆ°ä¸€ä¸ªå¯¹è±¡ä¸­</span></span><br><span class="line">        params = &#123;...params,callback&#125;</span><br><span class="line">        <span class="keyword">let</span> arr = []</span><br><span class="line">        <span class="comment">// å°†å¯¹è±¡ä¸­æ•°æ®æ”¹é€ æˆ key=value çš„å½¢å¼å­˜æ”¾åˆ°æ•°ç»„ä¸­</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">let</span> key <span class="keyword">in</span> params)&#123;</span><br><span class="line">            arr.push(<span class="string">`<span class="subst">$&#123;key&#125;</span>=<span class="subst">$&#123;params[key]&#125;</span>`</span>)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// console.log(arr); // abc=a&amp;callback=getData</span></span><br><span class="line">        <span class="comment">// åˆ©ç”¨jsonæ–¹æ³•å°†æ•°ç»„æ”¹é€ æˆå­—ç¬¦ä¸²çš„å½¢å¼ï¼Œè®¾ç½®srcå±æ€§</span></span><br><span class="line">        script.src = <span class="string">`<span class="subst">$&#123;url&#125;</span>?<span class="subst">$&#123;arr.join(<span class="string">&#x27;&amp;&#x27;</span>)&#125;</span>`</span></span><br><span class="line">        <span class="comment">// æ·»åŠ åˆ°é¡µé¢</span></span><br><span class="line">        <span class="built_in">document</span>.body.appendChild(script)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">jsonp(&#123;</span><br><span class="line">    url: <span class="string">&#x27;http://localhost:3000/say&#x27;</span>,</span><br><span class="line">    params:&#123;<span class="attr">wd</span>: <span class="string">&#x27;123&#x27;</span>&#125;,</span><br><span class="line">    callback: <span class="string">&#x27;getData&#x27;</span></span><br><span class="line">&#125;).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(res);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>åç«¯ä»£ç ï¼Œè¿™é‡Œæˆ‘ä¸ºäº†æ–¹ä¾¿ï¼Œç”¨åˆ°äº†expressï¼Œåœ¨ä½¿ç”¨çš„æ—¶å€™ï¼Œæ³¨æ„ä¸‹è½½ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"><span class="keyword">let</span> app = express()</span><br><span class="line">app.listen(<span class="number">3000</span>,<span class="function"><span class="params">_</span> =&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;is OK!&#x27;</span>);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">app.get(<span class="string">&#x27;/say&#x27;</span>,<span class="function">(<span class="params">req,res</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> &#123;wd,callback&#125; = req.query</span><br><span class="line">    <span class="comment">// console.log(wd);</span></span><br><span class="line">    <span class="comment">// console.log(callback);</span></span><br><span class="line">    <span class="keyword">let</span> obj = &#123;</span><br><span class="line">        code: <span class="number">200</span>,</span><br><span class="line">        message: <span class="string">&#x27;hello&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">    res.send(<span class="string">`<span class="subst">$&#123;callback&#125;</span>(<span class="subst">$&#123;<span class="built_in">JSON</span>.stringify(obj)&#125;</span>)`</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬çš„ajaxä¸€æ ·æ˜¯æ”¯æŒJSONPçš„ï¼Œä½†æ˜¯åŒæ ·éœ€è¦æœåŠ¡ç«¯é…åˆï¼ŒæœåŠ¡ç«¯ä»£ç åŒä¸Šå³å¯ï¼Œåªè¦æ˜¯è°ƒç”¨callbackå‡½æ•°ï¼Œå¹¶è¿”å›ç›¸åº”çš„æ•°æ®å°±å³å¯</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$.ajax(&#123;</span><br><span class="line">    url:<span class="string">&#x27;http://localhost:3000/say&#x27;</span>,</span><br><span class="line">    method: <span class="string">&#x27;get&#x27;</span>,</span><br><span class="line">    dataType: <span class="string">&#x27;jsonp&#x27;</span>,</span><br><span class="line">    success: <span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(res);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="CORSå®ç°è·¨åŸŸ"><a href="#CORSå®ç°è·¨åŸŸ" class="headerlink" title="CORSå®ç°è·¨åŸŸ"></a>CORSå®ç°è·¨åŸŸ</h3><p>CROSï¼ˆCross-Origin Resource Sharingï¼‰è·¨æºèµ„æºåˆ†äº«ã€‚ </p><p>CORSå®ç°è·¨åŸŸæ˜¯ç°åœ¨æ¯”è¾ƒå¸¸ç”¨çš„è·¨åŸŸè§£å†³æ–¹æ¡ˆã€‚CROSå…è®¸æµè§ˆå™¨å‘è·¨æºæœåŠ¡å™¨å‘å‡ºXMLHttpRequestè¯·æ±‚ï¼Œå…‹æœäº†ajaxä¸èƒ½è·¨æºè¯·æ±‚çš„é™åˆ¶ã€‚</p><p>CORSå®ç°è·¨åŸŸä¸»è¦åœ¨äºæœåŠ¡å™¨ï¼Œåªè¦æœåŠ¡å™¨å®ç°CROSæ¥å£ï¼Œå°±å¯ä»¥å®ç°è·¨åŸŸè¯·æ±‚ã€‚å®¢æˆ·ç«¯åªéœ€è¦æ­£å¸¸å‘é€å°±å¯ä»¥äº†ï¼Œæ•ˆæœè·Ÿå‘é€åŒæºè¯·æ±‚æ˜¯ä¸€æ ·çš„ã€‚</p><blockquote><p>æµè§ˆå™¨åœ¨å¤´ä¿¡æ¯ä¸­å¢åŠ ä¸€ä¸ªOriginå­—æ®µï¼Œä»è€Œå‘å‡ºCROSè¯·æ±‚ è¦æ”¯æŒCORSè®¿é—®éœ€è¦æœåŠ¡å™¨åœ¨å“åº”å¤´ä¸­æ·»åŠ Access-Control-Allow-Originï¼Œå¯ä»¥ä½¿ç”¨*æ¥è¡¨ç¤ºå…è®¸æ‰€æœ‰åŸŸè·¨åŸŸè®¿é—®ã€‚ </p></blockquote><p>è¯¦ç»†çš„ä»‹ç»å¯ä»¥å‚è€ƒé˜®ä¸€å³°è€å¸ˆçš„è¿™ç¯‡æ–‡ç«  <a href="http://www.ruanyifeng.com/blog/2016/04/cors.html">è·¨åŸŸèµ„æºå…±äº« CORS è¯¦è§£</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å‰ç«¯å¿…é¡»çŸ¥é“çš„æ€§èƒ½ä¼˜åŒ–</title>
      <link href="xinneng/"/>
      <url>xinneng/</url>
      
        <content type="html"><![CDATA[<h1 id="å‰ç«¯å¿…é¡»çŸ¥é“çš„æ€§èƒ½ä¼˜åŒ–"><a href="#å‰ç«¯å¿…é¡»çŸ¥é“çš„æ€§èƒ½ä¼˜åŒ–" class="headerlink" title="å‰ç«¯å¿…é¡»çŸ¥é“çš„æ€§èƒ½ä¼˜åŒ–"></a>å‰ç«¯å¿…é¡»çŸ¥é“çš„æ€§èƒ½ä¼˜åŒ–</h1><h2 id="ä¸€ã€HTMLä¼˜åŒ–"><a href="#ä¸€ã€HTMLä¼˜åŒ–" class="headerlink" title="ä¸€ã€HTMLä¼˜åŒ–"></a>ä¸€ã€HTMLä¼˜åŒ–</h2><h3 id="æ¸²æŸ“é¡ºåº"><a href="#æ¸²æŸ“é¡ºåº" class="headerlink" title="æ¸²æŸ“é¡ºåº"></a>æ¸²æŸ“é¡ºåº</h3><ul><li>CSSæ ·å¼è¡¨ç½®äºå¤´éƒ¨ï¼ˆheadï¼‰ï¼Œcssä¼šä¸€è¾¹åŠ è½½ä¸€è¾¹æ¸²æŸ“</li><li>JSæ”¾bodyå ï¼ŒJSåœ¨æœªåŠ è½½å®Œæˆä¹‹å‰ï¼Œä¼šé˜»å¡æ¸²æŸ“</li><li>ä½¿ç”¨å¤–éƒ¨çš„æ ·å¼è¡¨å’Œè„šæœ¬ï¼Œä¼˜å…ˆåŠ è½½å‡ºHTMLç»“æ„</li><li>å…³é”®JSã€CSSä»£ç å¯ä»¥å†…åµŒåœ¨HTMLä¸­</li><li>é¿å…ä½¿ç”¨iFrameï¼ˆwindow çš„ onload äº‹ä»¶éœ€è¦åœ¨æ‰€æœ‰çš„iFrameåŠ è½½å®Œæ¯•åï¼ˆåŒ…å«é‡Œé¢çš„å…ƒç´ ï¼‰æ‰ä¼šè§¦å‘ï¼‰</li><li>ä½¿ç”¨éª¨æ¶å±ï¼ˆéª¨æ¶å±å°±æ˜¯åœ¨é¡µé¢æ•°æ®å°šæœªåŠ è½½å‰å…ˆç»™ç”¨æˆ·å±•ç¤ºå‡ºé¡µé¢çš„å¤§è‡´ç»“æ„ï¼Œç›´åˆ°è¯·æ±‚æ•°æ®è¿”å›åå†æ¸²æŸ“é¡µé¢ï¼Œè¡¥å……è¿›éœ€è¦æ˜¾ç¤ºçš„æ•°æ®å†…å®¹ï¼‰</li></ul><h2 id="äºŒã€CSSä¼˜åŒ–"><a href="#äºŒã€CSSä¼˜åŒ–" class="headerlink" title="äºŒã€CSSä¼˜åŒ–"></a>äºŒã€CSSä¼˜åŒ–</h2><h3 id="åŠ è½½ä¼˜åŒ–"><a href="#åŠ è½½ä¼˜åŒ–" class="headerlink" title="åŠ è½½ä¼˜åŒ–"></a>åŠ è½½ä¼˜åŒ–</h3><ul><li>é¿å…ä½¿ç”¨CSSçš„<code>@import</code>ï¼ˆä½¿ç”¨@importå¼•å…¥CSSä¼šå½±å“æµè§ˆå™¨çš„å¹¶è¡Œä¸‹è½½ï¼Œå¤šä¸ª<code>@import</code>ä¼šå¯¼è‡´ä¸‹è½½é¡ºåºçµ®ä¹±ï¼Œæ¨èä½¿ç”¨linkæ ‡ç­¾æ¥å¼•å…¥CSSï¼‰</li><li>é¿å…ä½¿ç”¨é€šé…ç¬¦<code>*</code></li><li>é¿å…ä½¿ç”¨<code>!impotant</code></li><li>ä¼˜åŒ–<code>css reset</code>ï¼ˆcss resetå°±æ˜¯é‡ç½®cssé»˜è®¤æ ·å¼ï¼‰</li><li>é¿å…ä½¿ç”¨cssè¡¨è¾¾å¼ï¼ˆä¸ºäº†ç¡®ä¿æœ‰æ•ˆæ€§ï¼ŒCSSÂ è¡¨è¾¾å¼ä¼šè¿›è¡Œé¢‘ç¹çš„æ±‚å€¼ï¼Œè¿™æ ·ä¼šç‰¹åˆ«æ¶ˆè€—æ€§èƒ½ ï¼‰</li></ul><h3 id="åŠ¨ç”»ä¼˜åŒ–"><a href="#åŠ¨ç”»ä¼˜åŒ–" class="headerlink" title="åŠ¨ç”»ä¼˜åŒ–"></a>åŠ¨ç”»ä¼˜åŒ–</h3><ul><li>å¯ä»¥ä½¿ç”¨<code>transform</code>å¼€å¯å›¾å½¢åŠ é€Ÿï¼ˆä½¿ç”¨transformå¯ä»¥é¿å…é‡ç»˜ï¼‰</li><li>ç”¨<code>translate</code>å–ä»£leftï¼Œå¯ä»¥é¿å…é¡µé¢é‡æ’</li></ul><h3 id="é€‰æ‹©å™¨ä¼˜åŒ–"><a href="#é€‰æ‹©å™¨ä¼˜åŒ–" class="headerlink" title="é€‰æ‹©å™¨ä¼˜åŒ–"></a>é€‰æ‹©å™¨ä¼˜åŒ–</h3><ul><li>é€‰æ‹©å™¨åµŒå¥—å°½é‡ä¸è¦è¶…è¿‡ä¸‰å±‚</li><li>idé€‰æ‹©å™¨å°½é‡ä¸è¦åµŒå¥—</li><li>ä½¿ç”¨ç»§æ‰¿</li></ul><h3 id="ä½“ç§¯ä¼˜åŒ–"><a href="#ä½“ç§¯ä¼˜åŒ–" class="headerlink" title="ä½“ç§¯ä¼˜åŒ–"></a>ä½“ç§¯ä¼˜åŒ–</h3><ul><li>æå–å…¬å…±CSS</li></ul><h2 id="ä¸‰ã€JSä¼˜åŒ–"><a href="#ä¸‰ã€JSä¼˜åŒ–" class="headerlink" title="ä¸‰ã€JSä¼˜åŒ–"></a>ä¸‰ã€JSä¼˜åŒ–</h2><h3 id="è¿è¡Œé€Ÿåº¦"><a href="#è¿è¡Œé€Ÿåº¦" class="headerlink" title="è¿è¡Œé€Ÿåº¦"></a>è¿è¡Œé€Ÿåº¦</h3><ul><li>å¦‚æœæ²¡æœ‰å…¼å®¹é—®é¢˜ï¼Œå°½é‡ä½¿ç”¨åŸç”Ÿæ–¹æ³•</li><li>å¦‚æœ if å’Œ else if åˆ†æ”¯è¶…è¿‡3ä¸ªçš„æ—¶å€™å°½é‡å†™æˆ <code>switch</code></li><li>å·§ç”¨ || å’Œ &amp;&amp;ï¼Œå¯ä»¥å‡å°‘ä¸å¿…è¦æ‰§è¡Œçš„ä»£ç </li></ul><h3 id="å˜é‡ä¼˜åŒ–"><a href="#å˜é‡ä¼˜åŒ–" class="headerlink" title="å˜é‡ä¼˜åŒ–"></a>å˜é‡ä¼˜åŒ–</h3><ul><li>é¿å…å…¨å±€æŸ¥æ‰¾ï¼Œå¯ä»¥å°†éœ€è¦é‡å¤è®¿é—®çš„å±æ€§ç”¨å˜é‡ä¿å­˜</li><li>é˜²æ­¢é€ æˆå†…å­˜æ³„æ¼ï¼Œå¯ä»¥å°†æ— ç”¨çš„å˜é‡èµ‹å€¼ä¸º <code>null</code></li></ul><h3 id="å‡å°‘æ— ç”¨æ“ä½œ"><a href="#å‡å°‘æ— ç”¨æ“ä½œ" class="headerlink" title="å‡å°‘æ— ç”¨æ“ä½œ"></a>å‡å°‘æ— ç”¨æ“ä½œ</h3><ul><li>ä½¿ç”¨é˜²æŠ–èŠ‚æµ</li><li>ä½¿ç”¨äº‹ä»¶å§”æ‰˜å–ä»£å¤§é‡äº‹ä»¶çš„ç»‘å®š</li></ul><h2 id="ç½‘ç»œä¼˜åŒ–"><a href="#ç½‘ç»œä¼˜åŒ–" class="headerlink" title="ç½‘ç»œä¼˜åŒ–"></a>ç½‘ç»œä¼˜åŒ–</h2><ul><li>å°½é‡å°†å¤šä¸ªèµ„æºåˆå¹¶ï¼Œå‡å°‘è¯·æ±‚æ¬¡æ•°</li><li>ä½¿ç”¨CDNï¼ŒåŠ é€Ÿèµ„æºè¯·æ±‚é€Ÿåº¦</li><li>æ ¸å¿ƒèµ„æºé¢„åŠ è½½</li><li>å¤§ä½“ç§¯èµ„æºæŒ‰éœ€åŠ è½½</li><li>å‹ç¼©æ–‡ä»¶å¤§å°</li><li>åˆ¶ä½œç²¾çµå›¾</li><li>ä½¿ç”¨æµè§ˆå™¨ç¼“å­˜</li><li>ä½¿ç”¨å‰ç«¯ç¼“å­˜ï¼Œå¦‚ LoaclStorageã€Cookieã€SessionStorage</li></ul>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> æ€§èƒ½ä¼˜åŒ– </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Setã€Mapã€WeakSet å’Œ WeakMap çš„åŒºåˆ«</title>
      <link href="set-map-weakxet-weakmap/"/>
      <url>set-map-weakxet-weakmap/</url>
      
        <content type="html"><![CDATA[<h1 id="ç†è§£Setã€Mapã€WeakSet-å’Œ-WeakMap"><a href="#ç†è§£Setã€Mapã€WeakSet-å’Œ-WeakMap" class="headerlink" title="ç†è§£Setã€Mapã€WeakSet å’Œ WeakMap"></a>ç†è§£Setã€Mapã€WeakSet å’Œ WeakMap</h1><p>Set å’Œ Map ä¸»è¦çš„åº”ç”¨åœºæ™¯åœ¨äº <strong>æ•°æ®é‡ç»„</strong> å’Œ <strong>æ•°æ®å‚¨å­˜</strong></p><p>Set æ˜¯ä¸€ç§å«åš<strong>é›†åˆ</strong>çš„æ•°æ®ç»“æ„ï¼ŒMap æ˜¯ä¸€ç§å«åš<strong>å­—å…¸</strong>çš„æ•°æ®ç»“æ„</p><h2 id="é›†åˆï¼ˆSetï¼‰"><a href="#é›†åˆï¼ˆSetï¼‰" class="headerlink" title="é›†åˆï¼ˆSetï¼‰"></a>é›†åˆï¼ˆSetï¼‰</h2><p>ES6 æ–°å¢çš„ä¸€ç§æ–°çš„æ•°æ®ç»“æ„ï¼Œç±»ä¼¼äºæ•°ç»„ï¼Œä½†æˆå‘˜æ˜¯å”¯ä¸€ä¸”æ— åºçš„ï¼Œæ²¡æœ‰é‡å¤çš„å€¼ã€‚</p><p><strong>Set æœ¬èº«æ˜¯ä¸€ç§æ„é€ å‡½æ•°ï¼Œç”¨æ¥ç”Ÿæˆ Set æ•°æ®ç»“æ„ã€‚</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">3</span>,<span class="number">3</span>])</span><br><span class="line"><span class="built_in">console</span>.log(arr) <span class="comment">// &#123;1,2,3&#125;</span></span><br></pre></td></tr></table></figure><p>æ•°ç»„å»é‡</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">3</span>,<span class="number">3</span>]</span><br><span class="line">[...new <span class="built_in">Set</span>(arr)] <span class="comment">// [1,2,3]</span></span><br></pre></td></tr></table></figure><p>å»é™¤å­—ç¬¦ä¸²é‡å¤å­—ç¬¦</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">&#x27;abcabc&#x27;</span></span><br><span class="line">[...new <span class="built_in">Set</span>(str)].join(<span class="string">&#x27;&#x27;</span>) <span class="comment">// &#x27;abc&#x27;</span></span><br></pre></td></tr></table></figure><p>å‘ Set åŠ å…¥å€¼çš„æ—¶å€™ï¼Œä¸ä¼šå‘ç”Ÿç±»å‹è½¬æ¢ï¼Œæ‰€ä»¥<code>5</code>å’Œ<code>&quot;5&quot;</code>æ˜¯ä¸¤ä¸ªä¸åŒçš„å€¼ã€‚Set å†…éƒ¨åˆ¤æ–­ä¸¤ä¸ªå€¼æ˜¯å¦ä¸åŒï¼Œä½¿ç”¨çš„ç®—æ³•å«åšâ€œSame-value-zero equalityâ€ï¼Œå®ƒç±»ä¼¼äºç²¾ç¡®ç›¸ç­‰è¿ç®—ç¬¦ï¼ˆ<code>===</code>ï¼‰ï¼Œä¸»è¦çš„åŒºåˆ«æ˜¯å‘ Set åŠ å…¥å€¼æ—¶è®¤ä¸º<code>NaN</code>ç­‰äºè‡ªèº«ï¼Œè€Œç²¾ç¡®ç›¸ç­‰è¿ç®—ç¬¦è®¤ä¸º<code>NaN</code>ä¸ç­‰äºè‡ªèº«ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = <span class="keyword">new</span> <span class="built_in">Set</span>()</span><br><span class="line">arr.add(<span class="literal">NaN</span>)</span><br><span class="line">arr.add(<span class="literal">NaN</span>)</span><br><span class="line"><span class="built_in">console</span>.log(arr) <span class="comment">// &#123;NaN&#125;</span></span><br></pre></td></tr></table></figure><h4 id="å¸¸ç”¨æ“ä½œæ–¹æ³•-å±æ€§"><a href="#å¸¸ç”¨æ“ä½œæ–¹æ³•-å±æ€§" class="headerlink" title="å¸¸ç”¨æ“ä½œæ–¹æ³• / å±æ€§"></a>å¸¸ç”¨æ“ä½œæ–¹æ³• / å±æ€§</h4><ul><li><code>add(value)</code>ï¼šæ–°å¢ï¼Œç›¸å½“äº arrayé‡Œçš„push</li><li><code>delete(value)</code>ï¼šå­˜åœ¨å³åˆ é™¤é›†åˆä¸­value</li><li><code>has(value)</code>ï¼šåˆ¤æ–­é›†åˆä¸­æ˜¯å¦å­˜åœ¨ value</li><li><code>clear()</code>ï¼šæ¸…ç©ºé›†åˆ</li><li><code>size</code>ï¼šè¿”å›<code>Set</code>å®ä¾‹çš„æˆå‘˜æ€»æ•°ã€‚ </li></ul><h4 id="éå†æ“ä½œ"><a href="#éå†æ“ä½œ" class="headerlink" title="éå†æ“ä½œ"></a>éå†æ“ä½œ</h4><p>Set ç»“æ„çš„å®ä¾‹æœ‰å››ä¸ªéå†æ–¹æ³•ï¼Œå¯ä»¥ç”¨äºéå†å¯¹è±¡ã€‚</p><ul><li><code>keys()</code>ï¼šè¿”å›é”®åçš„éå†å™¨</li><li><code>values</code>ï¼šè¿”å›é”®å€¼çš„éå†å™¨</li><li><code>entries</code>ï¼šè¿”å›é”®å€¼å¯¹çš„éå†å™¨</li><li><code>forEach</code>ï¼šä½¿ç”¨å›è°ƒå‡½æ•°éå†æ¯ä¸ªæˆå‘˜</li></ul><p><strong>æ³¨æ„ç‚¹</strong></p><p>ç”±äº Set ç»“æ„æ²¡æœ‰é”®åï¼Œåªæœ‰é”®å€¼ï¼ˆæˆ–è€…è¯´é”®åå’Œé”®å€¼æ˜¯åŒä¸€ä¸ªå€¼ï¼‰ï¼Œæ‰€ä»¥<code>keys</code>æ–¹æ³•å’Œ<code>values</code>æ–¹æ³•çš„è¡Œä¸ºå®Œå…¨ä¸€è‡´ã€‚<code>entries</code>æ–¹æ³•è¿”å›çš„éå†å™¨ï¼ŒåŒæ—¶åŒ…æ‹¬é”®åå’Œé”®å€¼ï¼Œæ‰€ä»¥æ¯æ¬¡è¾“å‡ºä¸€ä¸ªæ•°ç»„ï¼Œå®ƒçš„ä¸¤ä¸ªæˆå‘˜å®Œå…¨ç›¸ç­‰ã€‚ </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> set = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="string">&#x27;red&#x27;</span>, <span class="string">&#x27;green&#x27;</span>, <span class="string">&#x27;blue&#x27;</span>]);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> item <span class="keyword">of</span> set.keys()) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(item);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// red</span></span><br><span class="line"><span class="comment">// green</span></span><br><span class="line"><span class="comment">// blue</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> item <span class="keyword">of</span> set.values()) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(item);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// red</span></span><br><span class="line"><span class="comment">// green</span></span><br><span class="line"><span class="comment">// blue</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> item <span class="keyword">of</span> set.entries()) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(item);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// [&quot;red&quot;, &quot;red&quot;]</span></span><br><span class="line"><span class="comment">// [&quot;green&quot;, &quot;green&quot;]</span></span><br><span class="line"><span class="comment">// [&quot;blue&quot;, &quot;blue&quot;]</span></span><br></pre></td></tr></table></figure><p> <code>forEach</code>æ–¹æ³•çš„å‚æ•°å°±æ˜¯ä¸€ä¸ªå¤„ç†å‡½æ•°ã€‚è¯¥å‡½æ•°çš„å‚æ•°ä¸æ•°ç»„çš„<code>forEach</code>ä¸€è‡´ï¼Œä¾æ¬¡ä¸ºé”®å€¼ã€é”®åã€é›†åˆæœ¬èº«ï¼ˆä¸Šä¾‹çœç•¥äº†è¯¥å‚æ•°ï¼‰ã€‚è¿™é‡Œéœ€è¦æ³¨æ„ï¼ŒSet ç»“æ„çš„é”®åå°±æ˜¯é”®å€¼ï¼ˆä¸¤è€…æ˜¯åŒä¸€ä¸ªå€¼ï¼‰ï¼Œå› æ­¤ç¬¬ä¸€ä¸ªå‚æ•°ä¸ç¬¬äºŒä¸ªå‚æ•°çš„å€¼æ°¸è¿œéƒ½æ˜¯ä¸€æ ·çš„ã€‚</p><p>å¦å¤–ï¼Œ<code>forEach</code>æ–¹æ³•è¿˜å¯ä»¥æœ‰ç¬¬äºŒä¸ªå‚æ•°ï¼Œè¡¨ç¤ºç»‘å®šå¤„ç†å‡½æ•°å†…éƒ¨çš„<code>this</code>å¯¹è±¡ã€‚</p><h2 id="WeakSet"><a href="#WeakSet" class="headerlink" title="WeakSet"></a>WeakSet</h2><h4 id="å«ä¹‰"><a href="#å«ä¹‰" class="headerlink" title="å«ä¹‰"></a>å«ä¹‰</h4><p> WeakSet ç»“æ„ä¸ Set ç±»ä¼¼ï¼Œä¹Ÿæ˜¯ä¸é‡å¤çš„å€¼çš„é›†åˆã€‚ä½†æ˜¯ï¼Œå®ƒä¸ Set æœ‰ä¸¤ä¸ªåŒºåˆ«ã€‚</p><p>é¦–å…ˆï¼ŒWeakSet çš„æˆå‘˜åªèƒ½æ˜¯å¯¹è±¡ï¼Œè€Œä¸èƒ½æ˜¯å…¶ä»–ç±»å‹çš„å€¼ã€‚</p><p>å…¶æ¬¡ï¼ŒWeakSet ä¸­çš„å¯¹è±¡éƒ½æ˜¯å¼±å¼•ç”¨ï¼Œå³åƒåœ¾å›æ”¶æœºåˆ¶ä¸è€ƒè™‘ WeakSet å¯¹è¯¥å¯¹è±¡çš„å¼•ç”¨ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœå…¶ä»–å¯¹è±¡éƒ½ä¸å†å¼•ç”¨è¯¥å¯¹è±¡ï¼Œé‚£ä¹ˆåƒåœ¾å›æ”¶æœºåˆ¶ä¼šè‡ªåŠ¨å›æ”¶è¯¥å¯¹è±¡æ‰€å ç”¨çš„å†…å­˜ï¼Œä¸è€ƒè™‘è¯¥å¯¹è±¡è¿˜å­˜åœ¨äº WeakSet ä¹‹ä¸­ã€‚</p><p>å› æ­¤ï¼ŒWeakSet é€‚åˆä¸´æ—¶å­˜æ”¾ä¸€ç»„å¯¹è±¡ï¼Œä»¥åŠå­˜æ”¾è·Ÿå¯¹è±¡ç»‘å®šçš„ä¿¡æ¯ã€‚åªè¦è¿™äº›å¯¹è±¡åœ¨å¤–éƒ¨æ¶ˆå¤±ï¼Œå®ƒåœ¨ WeakSet é‡Œé¢çš„å¼•ç”¨å°±ä¼šè‡ªåŠ¨æ¶ˆå¤±ã€‚ </p><p>ç”±äºä¸Šé¢è¿™ä¸ªç‰¹ç‚¹ï¼ŒWeakSet çš„æˆå‘˜æ˜¯ä¸é€‚åˆå¼•ç”¨çš„ï¼Œå› ä¸ºå®ƒä¼šéšæ—¶æ¶ˆå¤±ã€‚å¦å¤–ï¼Œç”±äº WeakSet å†…éƒ¨æœ‰å¤šå°‘ä¸ªæˆå‘˜ï¼Œå–å†³äºåƒåœ¾å›æ”¶æœºåˆ¶æœ‰æ²¡æœ‰è¿è¡Œï¼Œè¿è¡Œå‰åå¾ˆå¯èƒ½æˆå‘˜ä¸ªæ•°æ˜¯ä¸ä¸€æ ·çš„ï¼Œè€Œåƒåœ¾å›æ”¶æœºåˆ¶ä½•æ—¶è¿è¡Œæ˜¯ä¸å¯é¢„æµ‹çš„ï¼Œå› æ­¤ ES6 è§„å®š WeakSet ä¸å¯éå†ã€‚</p><h4 id="è¯­æ³•"><a href="#è¯­æ³•" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h4><p>WeakSet æ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œå¯ä»¥ä½¿ç”¨<code>new</code>å‘½ä»¤ï¼Œåˆ›å»º WeakSet æ•°æ®ç»“æ„ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> ws = <span class="keyword">new</span> <span class="built_in">WeakSet</span>()</span><br></pre></td></tr></table></figure><p>ä½œä¸ºæ„é€ å‡½æ•°ï¼ŒWeakSet å¯ä»¥æ¥å—ä¸€ä¸ªæ•°ç»„æˆ–ç±»ä¼¼æ•°ç»„çš„å¯¹è±¡ä½œä¸ºå‚æ•°ã€‚ï¼ˆå®é™…ä¸Šï¼Œä»»ä½•å…·æœ‰ Iterable æ¥å£çš„å¯¹è±¡ï¼Œéƒ½å¯ä»¥ä½œä¸º WeakSet çš„å‚æ•°ã€‚ï¼‰è¯¥æ•°ç»„çš„æ‰€æœ‰æˆå‘˜ï¼Œéƒ½ä¼šè‡ªåŠ¨æˆä¸º WeakSet å®ä¾‹å¯¹è±¡çš„æˆå‘˜ã€‚</p> <!-- éå†`Array`å¯ä»¥é‡‡ç”¨ä¸‹æ ‡å¾ªç¯ï¼Œéå†`Map`å’Œ`Set`å°±æ— æ³•ä½¿ç”¨ä¸‹æ ‡ã€‚ä¸ºäº†ç»Ÿä¸€é›†åˆç±»å‹ï¼ŒES6æ ‡å‡†å¼•å…¥äº†æ–°çš„`iterable`ç±»å‹ï¼Œ`Array`ã€`Map`å’Œ`Set`éƒ½å±äº`iterable`ç±»å‹ã€‚--><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [[<span class="number">1</span>,<span class="number">2</span>],[<span class="number">3</span>,<span class="number">4</span>]]</span><br><span class="line"><span class="keyword">let</span> ws = <span class="keyword">new</span> <span class="built_in">WeakSet</span>(arr)</span><br><span class="line">conlose.log(ws) <span class="comment">// &#123;[1,2],[3,4]&#125;</span></span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„ç‚¹ï¼š</strong></p><p> <code>arr</code> æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œä½œä¸º <code>WeakSet</code> æ„é€ å‡½æ•°çš„å‚æ•°ï¼Œ<code>arr</code> çš„æˆå‘˜ä¼šè‡ªåŠ¨æˆä¸ºWeakSet çš„æˆå‘˜ï¼Œå¹¶ä¸” <code>WeakSet</code> çš„æˆå‘˜åªèƒ½æ˜¯å¯¹è±¡ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line"><span class="keyword">new</span> <span class="built_in">WeakSet</span>(arr)</span><br><span class="line"><span class="comment">// TypeError: Invalid value used in weak set</span></span><br></pre></td></tr></table></figure><p>ä¸Šè¿°ä»£ç ä¸­çš„æ•°ç»„arrçš„æˆå‘˜ä¸æ˜¯å¯¹è±¡ï¼Œæ‰€ä»¥ä¼šæŠ¥é”™</p><h4 id="å¸¸ç”¨æ“ä½œæ–¹æ³•ã€‚"><a href="#å¸¸ç”¨æ“ä½œæ–¹æ³•ã€‚" class="headerlink" title="å¸¸ç”¨æ“ä½œæ–¹æ³•ã€‚"></a>å¸¸ç”¨æ“ä½œæ–¹æ³•ã€‚</h4><ul><li><code>add(value)</code>ï¼šå‘WeakSet å®ä¾‹ä¸­æ·»åŠ ä¸€ä¸ªæ–°æˆå‘˜</li><li><code>delete(value)</code>ï¼šæ¸…é™¤ WeakSet å®ä¾‹çš„æŒ‡å®šæˆå‘˜</li><li><code>has(value)</code>ï¼šè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæŸä¸ªå€¼æ˜¯å¦åœ¨ WeakSet å®ä¾‹ä¸­</li></ul><p>WeakSet æ²¡æœ‰<code>size</code> å’Œ <code>forEach</code> å±æ€§ã€‚</p><p>WeakSet ä¸èƒ½éå†ï¼Œæ˜¯å› ä¸ºæˆå‘˜éƒ½æ˜¯å¼±å¼•ç”¨ï¼Œéšæ—¶å¯èƒ½æ¶ˆå¤±ï¼Œéå†æœºåˆ¶æ— æ³•ä¿è¯æˆå‘˜çš„å­˜åœ¨ï¼Œå¾ˆå¯èƒ½åˆšéå†ç»“æŸï¼Œæˆå‘˜å°±å–ä¸åˆ°äº†ã€‚<code>WeakSet</code> çš„ä¸€ä¸ªç”¨å¤„ï¼Œæ˜¯å‚¨å­˜ DOMèŠ‚ç‚¹ï¼Œè€Œä¸ç”¨æ‹…å¿ƒè¿™äº›èŠ‚ç‚¹ä»èŠ‚ç‚¹ä»æ–‡æ¡£ç§»é™¤æ—¶ï¼Œä¼šå¼•å‘å†…å­˜æ³„æ¼ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> ws = <span class="keyword">new</span> <span class="built_in">WeakSet</span>()</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>() &#123;</span><br><span class="line">    ws.add(<span class="built_in">this</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  method () &#123;</span><br><span class="line">    <span class="keyword">if</span> (!ws.has(<span class="built_in">this</span>)) &#123;</span><br><span class="line">      <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">TypeError</span>(<span class="string">&#x27;Foo.prototype.method åªèƒ½åœ¨Fooçš„å®ä¾‹ä¸Šè°ƒç”¨ï¼&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸Šé¢ä»£ç ä¿è¯äº†<code>Foo</code>çš„å®ä¾‹æ–¹æ³•ï¼Œåªèƒ½åœ¨<code>Foo</code>çš„å®ä¾‹ä¸Šè°ƒç”¨ã€‚è¿™é‡Œä½¿ç”¨ WeakSet çš„å¥½å¤„æ˜¯ï¼Œ<code>ws</code>å¯¹å®ä¾‹çš„å¼•ç”¨ï¼Œä¸ä¼šè¢«è®¡å…¥å†…å­˜å›æ”¶æœºåˆ¶ï¼Œæ‰€ä»¥åˆ é™¤å®ä¾‹çš„æ—¶å€™ï¼Œä¸ç”¨è€ƒè™‘<code>ws</code>çš„å¼•ç”¨ï¼Œå°±ä¸ä¼šå‡ºç°å†…å­˜æ³„æ¼çš„é—®é¢˜ã€‚ </p><h2 id="Map"><a href="#Map" class="headerlink" title="Map"></a>Map</h2><h4 id="å«ä¹‰å’Œç”¨æ³•ï¼š"><a href="#å«ä¹‰å’Œç”¨æ³•ï¼š" class="headerlink" title="å«ä¹‰å’Œç”¨æ³•ï¼š"></a>å«ä¹‰å’Œç”¨æ³•ï¼š</h4><p>javascriptä¸­çš„å¯¹è±¡ï¼ˆObjectï¼‰ï¼Œæœ¬è´¨ä¸Šæ˜¯é”®å€¼å¯¹çš„é›†åˆï¼Œå…¶ä¸­åªèƒ½ç”¨å­—ç¬¦ä¸²å½“ä½œé”®ã€‚è¿™å°±ç»™å®ƒçš„ä½¿ç”¨å¸¦æ¥äº†å¾ˆå¤§çš„é™åˆ¶</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> name = <span class="string">&#x27;ç‹äº”&#x27;</span></span><br><span class="line"><span class="keyword">let</span> obj &#123;</span><br><span class="line">    name: <span class="string">&#x27;å¼ ä¸‰&#x27;</span>,</span><br><span class="line">   <span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;æå››&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line">obj <span class="comment">// &#123;name: &#x27;æå››&#x27;&#125;</span></span><br></pre></td></tr></table></figure><p>ä¸Šé¢çš„ä»£ç ï¼Œæˆ‘æ˜¯æƒ³å°†å˜é‡ <code>name</code> å’Œå­—ç¬¦ä¸² <code>name</code> åŒæ—¶ä½œä¸ºé”®ï¼Œä½†æ˜¯å› ä¸ºå¯¹è±¡ä¸­çš„é”®åªèƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œæ‰€ä»¥å‰é¢æœ¬è¯¥æ˜¯å˜é‡çš„nameè¢«è¦†ç›–äº†</p><p> ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œes6æä¾›äº†<code>Map</code>æ•°æ®ç»“æ„ã€‚å®ƒç±»ä¼¼äºå¯¹è±¡ï¼Œä¹Ÿæ˜¯é”®å€¼å¯¹çš„é›†åˆï¼Œä½†æ˜¯é”®çš„ä¸ä»…é™äºå­—ç¬¦ä¸²ã€‚å„ç§ç±»å‹çš„å€¼ï¼ˆåŒ…æ‹¬å¯¹è±¡ï¼‰éƒ½å¯ä»¥å½“ä½œé”®ã€‚</p> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> map = <span class="keyword">new</span> <span class="built_in">Map</span>()</span><br><span class="line">map.set([<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;2&#x27;</span>],<span class="string">&#x27;æˆ‘æ˜¯ä¸€ä¸ªæ•°ç»„&#x27;</span>)</span><br><span class="line">map.set(<span class="function">()=&gt;</span>&#123;&#125;,<span class="string">&#x27;æˆ‘æ˜¯ä¸€ä¸ªå‡½æ•°&#x27;</span>)</span><br></pre></td></tr></table></figure><p><img src="https://pic.downk.cc/item/5fb514e4b18d627113654465.jpg"></p><h4 id="å¸¸ç”¨æ“ä½œæ–¹æ³•-å±æ€§-1"><a href="#å¸¸ç”¨æ“ä½œæ–¹æ³•-å±æ€§-1" class="headerlink" title="å¸¸ç”¨æ“ä½œæ–¹æ³• / å±æ€§"></a>å¸¸ç”¨æ“ä½œæ–¹æ³• / å±æ€§</h4><ul><li><code>set(key)</code>ï¼šå‘Mapä¸­æ·»åŠ æ–°å…ƒç´ </li><li><code>get(key)</code>ï¼šé€šè¿‡é”®å€¼æŸ¥æ‰¾ç‰¹å®šçš„å€¼</li><li><code>delete(key)</code>ï¼šé€šè¿‡é”®å€¼ä»Mapä¸­ç§»é™¤å¯¹åº”çš„æ•°æ®</li><li><code>has(key)</code>ï¼šåˆ¤æ–­Mapå¯¹è±¡ä¸­æ˜¯å¦å­˜åœ¨keyï¼Œè‹¥æ˜¯æœ‰ï¼Œåˆ™è¿”å›trueï¼Œåä¹‹ï¼Œåˆ™ä¸ºfalse</li><li><code>clear()</code>ï¼šå°†è¿™ä¸ªMapä¸­çš„æ‰€æœ‰å…ƒç´ åˆ é™¤</li><li><code>size</code>ï¼šè¿”å›Mapå¯¹è±¡ä¸­æ‰€åŒ…å«çš„é”®å€¼å¯¹ä¸ªæ•° </li></ul><h4 id="éå†æ“ä½œ-1"><a href="#éå†æ“ä½œ-1" class="headerlink" title="éå†æ“ä½œ"></a>éå†æ“ä½œ</h4><p>Map ç»“æ„çš„å®ä¾‹æœ‰å››ä¸ªéå†æ–¹æ³•ï¼Œå¯ä»¥ç”¨äºéå†å¯¹è±¡ã€‚</p><ul><li><code>keys()</code>ï¼šè¿”å›é”®åçš„éå†å™¨</li><li><code>values()</code>ï¼šè¿”å›é”®å€¼çš„éå†å™¨</li><li><code>entries()</code>ï¼šè¿”å›é”®å€¼å¯¹çš„éå†å™¨</li><li><code>forEach()</code>ï¼šä½¿ç”¨å›è°ƒå‡½æ•°éå†æ¯ä¸ªæˆå‘˜</li></ul><h2 id="WeakMap"><a href="#WeakMap" class="headerlink" title="WeakMap"></a>WeakMap</h2><h4 id="å«ä¹‰ï¼š"><a href="#å«ä¹‰ï¼š" class="headerlink" title="å«ä¹‰ï¼š"></a>å«ä¹‰ï¼š</h4><p><code>WeakMap</code>ç»“æ„ä¸<code>Map</code>ç»“æ„ç±»ä¼¼ï¼Œä¹Ÿæ˜¯ç”¨äºç”Ÿæˆé”®å€¼å¯¹çš„é›†åˆï¼Œå…¶ä¸­çš„é”®è·Ÿ<code>WeakSet</code>ä¸€æ ·ï¼Œæ˜¯å¼±å¼•ç”¨çš„ã€‚å…¶é”®å¿…é¡»æ˜¯Objectç±»å‹ï¼ˆ<code>null</code>é™¤å¤–ï¼‰ï¼ŒåŸå§‹æ•°æ®ç±»å‹ä¸å¯ä»¥ä½œä¸ºkeyï¼Œè€Œå€¼å¯ä»¥æ˜¯ä»»æ„çš„ã€‚ </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> wm = <span class="keyword">new</span> <span class="built_in">WeakMap</span>()</span><br><span class="line">wm.set(&#123;&#125;,<span class="string">&#x27;xxx&#x27;</span>) <span class="comment">// ä¸æŠ¥é”™</span></span><br><span class="line">wm.set(<span class="number">1</span>,<span class="string">&#x27;11&#x27;</span>) <span class="comment">// Uncaught TypeError: Invalid value used as weak map key</span></span><br><span class="line">wm.set(<span class="literal">null</span>,<span class="string">&#x27;123&#x27;</span>) <span class="comment">// Uncaught TypeError: Invalid value used as weak map key</span></span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„ï¼ŒWeakMap å¼±å¼•ç”¨çš„åªæ˜¯é”®åï¼Œè€Œä¸æ˜¯é”®å€¼ã€‚é”®å€¼ä¾ç„¶æ˜¯æ­£å¸¸å¼•ç”¨ã€‚</strong> </p><h4 id="å¸¸ç”¨æ“ä½œæ–¹æ³•-å±æ€§-2"><a href="#å¸¸ç”¨æ“ä½œæ–¹æ³•-å±æ€§-2" class="headerlink" title="å¸¸ç”¨æ“ä½œæ–¹æ³• / å±æ€§"></a>å¸¸ç”¨æ“ä½œæ–¹æ³• / å±æ€§</h4><ul><li><code>delete(key)</code>ï¼šé€šè¿‡é”®å€¼ä»WeakMapä¸­ç§»é™¤å¯¹åº”çš„æ•°æ®</li><li><code>get(key)</code>ï¼šé€šè¿‡é”®å€¼æŸ¥æ‰¾åˆ°ç‰¹å®šçš„å€¼</li><li><code>has(key)</code>ï¼šåˆ¤æ–­WeakMapå¯¹è±¡ä¸­æ˜¯å¦å­˜åœ¨keyï¼Œè‹¥æ˜¯æœ‰ï¼Œåˆ™è¿”å›trueï¼Œåä¹‹ä¸ºfalse</li><li><code>set(key,value)</code>ï¼šåœ¨WeakMapä¸­è®¾ç½®ä¸€ç»„é”®å€¼å¯¹ï¼Œå¹¶è¿”å›è¿™ä¸ªWeakMapå¯¹è±¡</li></ul><h2 id="æ€»ç»“ï¼š"><a href="#æ€»ç»“ï¼š" class="headerlink" title="æ€»ç»“ï¼š"></a>æ€»ç»“ï¼š</h2><h4 id="Set"><a href="#Set" class="headerlink" title="Set"></a>Set</h4><ul><li>æˆå‘˜ä¸èƒ½é‡å¤</li><li>åªæœ‰é”®å€¼ï¼Œæ²¡æœ‰é”®åï¼Œæœ‰ç‚¹ç±»ä¼¼æ•°ç»„</li><li>å¸¸ç”¨çš„æ–¹æ³•æœ‰ addã€deleteã€hasã€clearã€sizeï¼Œéå†æ–¹æ³•æœ‰ keysã€valusã€entriesã€forEach</li></ul><h4 id="WeakSet-1"><a href="#WeakSet-1" class="headerlink" title="WeakSet"></a>WeakSet</h4><ul><li>æˆå‘˜éƒ½æ˜¯å¯¹è±¡ï¼Œæˆå‘˜éƒ½æ˜¯å¼±å¼•ç”¨ï¼Œä¸è¢«å¼•ç”¨è®¡æ•°ã€‚</li><li>å¯ä»¥ç”¨æ¥ä¿å­˜DOMèŠ‚ç‚¹ï¼Œä¸å®¹æ˜“é€ æˆå†…å­˜æ³„æ¼</li><li>æ–¹æ³•æœ‰ addã€deleteã€hasï¼Œä¸èƒ½éå†</li></ul><h4 id="Map-1"><a href="#Map-1" class="headerlink" title="Map"></a>Map</h4><ul><li>æœ¬è´¨ä¸Šæ˜¯é”®å€¼å¯¹çš„é›†åˆï¼Œç±»ä¼¼äºå¯¹è±¡ï¼Œä½†æ˜¯å…¶ä¸­çš„é”®ä¸ä»…é™äºå­—ç¬¦ä¸²</li><li>æ–¹æ³•æœ‰ setã€getã€deleteã€hasã€clearã€sizeï¼Œéå†æ“ä½œæœ‰ keysã€valuesã€entriesã€forEach</li></ul><h4 id="WeakMap-1"><a href="#WeakMap-1" class="headerlink" title="WeakMap"></a>WeakMap</h4><ul><li>è·ŸMapç±»ä¼¼ï¼Œä½†æ˜¯åªæ¥å—å¯¹è±¡ä½œä¸ºé”®åï¼ˆnullé™¤å¤–ï¼‰ã€‚å…¶ä¸­çš„é”®ä¸ºå¼±å¼•ç”¨ï¼Œä¸è¢«å¼•ç”¨è®¡æ•°</li><li>æ–¹æ³•æœ‰ deleteã€getã€hasã€setï¼Œä¸èƒ½éå†</li></ul>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¤§å‚å¸¸è§é¢è¯•é¢˜ï¼ˆ01ï¼‰</title>
      <link href="mianshi01/"/>
      <url>mianshi01/</url>
      
        <content type="html"><![CDATA[<h2 id="å†™-React-Vue-é¡¹ç›®æ—¶ä¸ºä»€ä¹ˆè¦åœ¨åˆ—è¡¨ç»„ä»¶ä¸­å†™-keyï¼Œ-å…¶ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#å†™-React-Vue-é¡¹ç›®æ—¶ä¸ºä»€ä¹ˆè¦åœ¨åˆ—è¡¨ç»„ä»¶ä¸­å†™-keyï¼Œ-å…¶ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="å†™ React / Vue é¡¹ç›®æ—¶ä¸ºä»€ä¹ˆè¦åœ¨åˆ—è¡¨ç»„ä»¶ä¸­å†™ keyï¼Œ å…¶ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ"></a>å†™ React / Vue é¡¹ç›®æ—¶ä¸ºä»€ä¹ˆè¦åœ¨åˆ—è¡¨ç»„ä»¶ä¸­å†™ keyï¼Œ å…¶ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ</h2><p>åœ¨æˆ‘ä»¬å¹³æ—¶ä½¿ç”¨çš„æ—¶å€™ï¼Œå¦‚æœæˆ‘ä»¬åªæ˜¯ä½¿ç”¨ç®€å•æ¨¡æ¿ï¼ŒåŸºäºè¿™ä¸ªå‰æï¼Œå¯ä»¥é«˜æ•ˆçš„å¤ç”¨èŠ‚ç‚¹ï¼Œdiffé€Ÿåº¦æ¥çœ‹ä¹Ÿæ˜¯ä¸å¸¦keyæ›´åŠ å¿«é€Ÿçš„ï¼Œå› ä¸ºå¸¦keyåœ¨åˆ é™¤èŠ‚ç‚¹ä¸Šæœ‰è€—æ—¶ã€‚è¿™å°±æ˜¯Vueæ–‡æ¡£æ‰€è¯´çš„é»˜è®¤æ¨¡å¼ã€‚ä½†æ˜¯è¿™ä¸ªå¹¶ä¸æ˜¯keyä½œç”¨ï¼Œè€Œæ˜¯æ²¡æœ‰keyçš„æƒ…å†µä¸‹å¯ä»¥å¯¹èŠ‚ç‚¹å°±åœ°å¤ç”¨ï¼Œæé«˜æ€§èƒ½ã€‚</p><p>è¿™ç§æ¨¡å¼ä¼šå¸¦æ¥ä¸€äº›éšè—çš„å‰¯ä½œç”¨ï¼Œæ¯”å¦‚å¯èƒ½ä¸ä¼šäº§ç”Ÿè¿‡æ¸¡æ•ˆæœï¼Œæˆ–è€…åœ¨æŸäº›èŠ‚ç‚¹æœ‰ç»‘å®šæ•°æ®ï¼ˆè¡¨å•ï¼‰çŠ¶æ€ï¼Œä¼šå‡ºç°çŠ¶æ€é”™ä½ã€‚Vueæ–‡æ¡£ä¹Ÿè¯´æ˜äº†</p><blockquote><p>è¿™ä¸ªé»˜è®¤çš„æ¨¡å¼æ˜¯é«˜æ•ˆçš„ï¼Œä½†æ˜¯åªé€‚ç”¨äºä¸ä¾èµ–å­ç»„ä»¶çŠ¶æ€æˆ–ä¸´æ—¶DOMçŠ¶æ€ï¼ˆä¾‹å¦‚ï¼šè¡¨å•è¾“å…¥å€¼ï¼‰çš„åˆ—è¡¨æ¸²æŸ“è¾“å‡º</p></blockquote><h3 id="æ‰€ä»¥æˆ‘ä»¬çš„keyçš„ä½œç”¨æ˜¯ä»€ä¹ˆå‘¢"><a href="#æ‰€ä»¥æˆ‘ä»¬çš„keyçš„ä½œç”¨æ˜¯ä»€ä¹ˆå‘¢" class="headerlink" title="æ‰€ä»¥æˆ‘ä»¬çš„keyçš„ä½œç”¨æ˜¯ä»€ä¹ˆå‘¢"></a>æ‰€ä»¥æˆ‘ä»¬çš„keyçš„ä½œç”¨æ˜¯ä»€ä¹ˆå‘¢</h3><blockquote><p>keyæ˜¯ç»™æ¯ä¸€ä¸ªvnodeçš„å”¯ä¸€idï¼Œå¯ä»¥ä¾èµ–keyï¼Œæ›´å‡†ç¡®ï¼Œæ›´å¿«çš„æ‹¿åˆ°oldVnodeä¸­å¯¹åº”çš„vnodeèŠ‚ç‚¹</p></blockquote><ol><li><p>æ›´å‡†ç¡®</p><p>å› ä¸ºå¸¦keyå°±ä¸æ˜¯å°±åœ°å¤ç”¨ï¼Œåœ¨sameNodeå‡½æ•° a.key === b.key å¯¹æ¯”ä¸­å¯ä»¥é¿å…å°±åœ°å¤ç”¨çš„æƒ…å†µã€‚æ‰€ä»¥ä¼šæ›´å‡†ç¡®</p></li><li><p>æ›´å¿«</p><p>åˆ©ç”¨keyçš„å”¯ä¸€æ€§ç”Ÿæˆçš„mapå¯¹è±¡æ¥è·å–å¯¹åº”çš„èŠ‚ç‚¹ï¼Œæ¯”éå†æ–¹å¼æ›´å¿«</p></li></ol><h2 id="â€˜1â€™-â€˜2â€™-â€˜3â€™-map-parseInt-what-amp-why"><a href="#â€˜1â€™-â€˜2â€™-â€˜3â€™-map-parseInt-what-amp-why" class="headerlink" title="[â€˜1â€™, â€˜2â€™, â€˜3â€™].map(parseInt) what &amp; why ?"></a>[â€˜1â€™, â€˜2â€™, â€˜3â€™].map(parseInt) what &amp; why ?</h2><p>åœ¨åšè¿™é“é¢˜ä¹‹å‰ï¼Œæˆ‘ä»¬é¦–å…ˆè¦å…ˆç†è§£ <code>map</code>å’Œ<code>parseInt</code> æ–¹æ³•çš„ä½¿ç”¨ã€‚</p><h3 id="mapï¼š"><a href="#mapï¼š" class="headerlink" title="mapï¼š"></a>mapï¼š</h3><p>è¿™ä¸ªæ–¹æ³•æ˜¯å¯¹æ•°ç»„è¿›è¡Œæ˜ å°„ï¼Œè¯¥æ–¹æ³•æŒ‰ç…§åŸå§‹æ•°ç»„å…ƒç´ ä¾æ¬¡å¤„ç†å…ƒç´ ï¼Œè¿”å›å¤„ç†ä¹‹åçš„æ•°ç»„ï¼Œæ•°ç»„ä¸­çš„å…ƒç´ ä¸ºåŸå§‹æ•°ç»„å…ƒç´ è°ƒç”¨å‡½æ•°å¤„ç†åçš„å€¼</p><p>è¯¥æ–¹æ³•å¯ä»¥æ¥æ”¶ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œè¯¥å‡½æ•°å¸¦æœ‰ä¸‰ä¸ªå‚æ•°ï¼Œåˆ†åˆ«æ˜¯ å½“å‰å…ƒç´ çš„å€¼ï¼ˆå¿…é€‰ï¼‰ã€å½“å‰å…ƒç´ çš„ç´¢å¼•ï¼ˆå¯é€‰ï¼‰ã€å½“å‰å…ƒç´ å±äºçš„æ•°ç»„å¯¹è±¡ï¼ˆå¯é€‰ï¼‰</p><h3 id="parseIntï¼š"><a href="#parseIntï¼š" class="headerlink" title="parseIntï¼š"></a>parseIntï¼š</h3><p>è¯¥æ–¹æ³•å¯ä»¥è§£æä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå¹¶è¿”å›ä¸€ä¸ªæ•´æ•°</p><p>è¯¥æ–¹æ³•å¯ä»¥æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªä¸ºè¦è¿›è¡Œè§£æçš„å­—ç¬¦ä¸²å¯¹è±¡ï¼ˆå¿…é€‰ï¼‰ã€ç¬¬äºŒä¸ªå‚æ•°è¡¨ç¤ºè¦è§£æçš„æ•°å­—çš„åŸºæ•°ï¼Œè¯¥å€¼ä»‹äº 2 ~ 36 ä¹‹é—´ã€‚</p><p>å¦‚æœçœç•¥è¯¥å‚æ•°æˆ–å…¶å€¼ä¸º 0ï¼Œåˆ™æ•°å­—å°†ä»¥ 10 ä¸ºåŸºç¡€æ¥è§£æã€‚å¦‚æœå®ƒä»¥ â€œ0xâ€ æˆ– â€œ0Xâ€ å¼€å¤´ï¼Œå°†ä»¥ 16 ä¸ºåŸºæ•°ã€‚</p><p>å¦‚æœè¯¥å‚æ•°å°äº 2 æˆ–è€…å¤§äº 36ï¼Œåˆ™ parseInt() å°†è¿”å› NaNã€‚</p><p>å½“æˆ‘ä»¬äº†è§£äº†è¿™ä¸¤ä¸ªæ–¹æ³•ä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥æ¥è§£è¿™é“é¢˜äº†ã€‚</p><p>[â€˜1â€™, â€˜2â€™, â€˜3â€™].map(parseInt) å…¶å®å°±æ˜¯</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[<span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;2&#x27;</span>, <span class="string">&#x27;3&#x27;</span>].map(<span class="function"><span class="keyword">function</span>(<span class="params">item,index,array</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">parseInt</span>(item,index,array)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>åœ¨å…·ä½“åˆ°å…¶ä¸­çš„å¾ªç¯è¿‡ç¨‹å°±æ˜¯è¿™æ ·çš„</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">parseInt</span>(<span class="string">&#x27;1&#x27;</span>,<span class="number">0</span>,[<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;2&#x27;</span>,<span class="string">&#x27;3&#x27;</span>])  <span class="comment">// parseIntæ–¹æ³•åªèƒ½æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œæ‰€ä»¥ç¬¬ä¸‰ä¸ªå‚æ•°å…¶å®æ˜¯æ— æ•ˆçš„</span></span><br><span class="line"><span class="built_in">parseInt</span>(<span class="string">&#x27;2&#x27;</span>,<span class="number">1</span>,[<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;2&#x27;</span>,<span class="string">&#x27;3&#x27;</span>])</span><br><span class="line"><span class="built_in">parseInt</span>(<span class="string">&#x27;3&#x27;</span>,<span class="number">2</span>,[<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;2&#x27;</span>,<span class="string">&#x27;3&#x27;</span>])</span><br></pre></td></tr></table></figure><p>æ‰€ä»¥æˆ‘ä»¬çš„è¾“å‡ºç»“æœä¸º</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">1</span>,<span class="literal">NaN</span>,<span class="literal">NaN</span>]</span><br></pre></td></tr></table></figure><h2 id="ä»€ä¹ˆæ˜¯é˜²æŠ–å’ŒèŠ‚æµï¼Ÿæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿå¦‚ä½•å®ç°ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯é˜²æŠ–å’ŒèŠ‚æµï¼Ÿæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿå¦‚ä½•å®ç°ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯é˜²æŠ–å’ŒèŠ‚æµï¼Ÿæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿå¦‚ä½•å®ç°ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯é˜²æŠ–å’ŒèŠ‚æµï¼Ÿæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿå¦‚ä½•å®ç°ï¼Ÿ</h2><p>è¿™è¾¹æœ‰ä»¥å‰å†™çš„ç¬”è®°ï¼Œè¯·ç§»æ­¥è¿™è¾¹ğŸ˜³ <a href="../debounce-throttle">å‡½æ•°é˜²æŠ–å’Œå‡½æ•°èŠ‚æµ</a></p><h2 id="Setã€Mapã€WeakSet-å’Œ-WeakMap-çš„åŒºåˆ«"><a href="#Setã€Mapã€WeakSet-å’Œ-WeakMap-çš„åŒºåˆ«" class="headerlink" title="Setã€Mapã€WeakSet å’Œ WeakMap çš„åŒºåˆ«"></a>Setã€Mapã€WeakSet å’Œ WeakMap çš„åŒºåˆ«</h2><p>è¯·ç§»æ­¥è§‚çœ‹ğŸ™ˆ</p><p><a href="../set-map-weakxet-weakmap">Setã€Mapã€WeakSet å’Œ WeakMap çš„åŒºåˆ«</a></p>]]></content>
      
      
      <categories>
          
          <category> é¢è¯•é¢˜ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç¬”è®° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åŸå‹å’ŒåŸå‹é“¾</title>
      <link href="javascript02/"/>
      <url>javascript02/</url>
      
        <content type="html"><![CDATA[<h2 id="ç†è§£åŸå‹è®¾è®¡æ¨¡å¼ä»¥åŠJavaScriptä¸­çš„åŸå‹è§„åˆ™"><a href="#ç†è§£åŸå‹è®¾è®¡æ¨¡å¼ä»¥åŠJavaScriptä¸­çš„åŸå‹è§„åˆ™" class="headerlink" title="ç†è§£åŸå‹è®¾è®¡æ¨¡å¼ä»¥åŠJavaScriptä¸­çš„åŸå‹è§„åˆ™"></a>ç†è§£åŸå‹è®¾è®¡æ¨¡å¼ä»¥åŠJavaScriptä¸­çš„åŸå‹è§„åˆ™</h2><h2 id="instanceofçš„åº•å±‚å®ç°åŸç†ï¼Œæ‰‹åŠ¨å®ç°ä¸€ä¸ªinstanceof"><a href="#instanceofçš„åº•å±‚å®ç°åŸç†ï¼Œæ‰‹åŠ¨å®ç°ä¸€ä¸ªinstanceof" class="headerlink" title="instanceofçš„åº•å±‚å®ç°åŸç†ï¼Œæ‰‹åŠ¨å®ç°ä¸€ä¸ªinstanceof"></a>instanceofçš„åº•å±‚å®ç°åŸç†ï¼Œæ‰‹åŠ¨å®ç°ä¸€ä¸ªinstanceof</h2><h2 id="å®ç°ç»§æ‰¿çš„å‡ ç§æ–¹å¼ä»¥åŠä»–ä»¬çš„ä¼˜ç¼ºç‚¹"><a href="#å®ç°ç»§æ‰¿çš„å‡ ç§æ–¹å¼ä»¥åŠä»–ä»¬çš„ä¼˜ç¼ºç‚¹" class="headerlink" title="å®ç°ç»§æ‰¿çš„å‡ ç§æ–¹å¼ä»¥åŠä»–ä»¬çš„ä¼˜ç¼ºç‚¹"></a>å®ç°ç»§æ‰¿çš„å‡ ç§æ–¹å¼ä»¥åŠä»–ä»¬çš„ä¼˜ç¼ºç‚¹</h2><h2 id="è‡³å°‘è¯´å‡ºä¸€ç§å¼€æºé¡¹ç›®-å¦‚Node-ä¸­åº”ç”¨åŸå‹ç»§æ‰¿çš„æ¡ˆä¾‹"><a href="#è‡³å°‘è¯´å‡ºä¸€ç§å¼€æºé¡¹ç›®-å¦‚Node-ä¸­åº”ç”¨åŸå‹ç»§æ‰¿çš„æ¡ˆä¾‹" class="headerlink" title="è‡³å°‘è¯´å‡ºä¸€ç§å¼€æºé¡¹ç›®(å¦‚Node)ä¸­åº”ç”¨åŸå‹ç»§æ‰¿çš„æ¡ˆä¾‹"></a>è‡³å°‘è¯´å‡ºä¸€ç§å¼€æºé¡¹ç›®(å¦‚Node)ä¸­åº”ç”¨åŸå‹ç»§æ‰¿çš„æ¡ˆä¾‹</h2><h2 id="å¯ä»¥æè¿°newä¸€ä¸ªå¯¹è±¡çš„è¯¦ç»†è¿‡ç¨‹ï¼Œæ‰‹åŠ¨å®ç°ä¸€ä¸ªnewæ“ä½œç¬¦"><a href="#å¯ä»¥æè¿°newä¸€ä¸ªå¯¹è±¡çš„è¯¦ç»†è¿‡ç¨‹ï¼Œæ‰‹åŠ¨å®ç°ä¸€ä¸ªnewæ“ä½œç¬¦" class="headerlink" title="å¯ä»¥æè¿°newä¸€ä¸ªå¯¹è±¡çš„è¯¦ç»†è¿‡ç¨‹ï¼Œæ‰‹åŠ¨å®ç°ä¸€ä¸ªnewæ“ä½œç¬¦"></a>å¯ä»¥æè¿°newä¸€ä¸ªå¯¹è±¡çš„è¯¦ç»†è¿‡ç¨‹ï¼Œæ‰‹åŠ¨å®ç°ä¸€ä¸ªnewæ“ä½œç¬¦</h2><h2 id="ç†è§£es6-classæ„é€ ä»¥åŠç»§æ‰¿çš„åº•å±‚å®ç°åŸç†"><a href="#ç†è§£es6-classæ„é€ ä»¥åŠç»§æ‰¿çš„åº•å±‚å®ç°åŸç†" class="headerlink" title="ç†è§£es6 classæ„é€ ä»¥åŠç»§æ‰¿çš„åº•å±‚å®ç°åŸç†"></a>ç†è§£es6 classæ„é€ ä»¥åŠç»§æ‰¿çš„åº•å±‚å®ç°åŸç†</h2><p>æ­£åœ¨åŠªåŠ›ä¸­â€¦..</p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯å­¦ä¹ è‡ªæ£€æ¸…å• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> ç¬”è®° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å˜é‡å’Œç±»å‹</title>
      <link href="javascript01/"/>
      <url>javascript01/</url>
      
        <content type="html"><![CDATA[<h2 id="javascriptè§„å®šäº†å‡ ç§è¯­è¨€ç±»å‹"><a href="#javascriptè§„å®šäº†å‡ ç§è¯­è¨€ç±»å‹" class="headerlink" title="javascriptè§„å®šäº†å‡ ç§è¯­è¨€ç±»å‹"></a>javascriptè§„å®šäº†å‡ ç§è¯­è¨€ç±»å‹</h2><ol><li>Undefined</li><li>Null</li><li>Boolean</li><li>String</li><li>Number</li><li>Symbol</li><li>Object</li></ol><h2 id="javascriptå¯¹è±¡çš„åº•å±‚æ•°æ®ç»“æ„æ˜¯ä»€ä¹ˆ"><a href="#javascriptå¯¹è±¡çš„åº•å±‚æ•°æ®ç»“æ„æ˜¯ä»€ä¹ˆ" class="headerlink" title="javascriptå¯¹è±¡çš„åº•å±‚æ•°æ®ç»“æ„æ˜¯ä»€ä¹ˆ"></a>javascriptå¯¹è±¡çš„åº•å±‚æ•°æ®ç»“æ„æ˜¯ä»€ä¹ˆ</h2><p>jsåŸºæœ¬ç±»å‹æ•°æ®éƒ½æ˜¯ç›´æ¥æŒ‰å€¼å­˜å‚¨åœ¨æ ˆä¸­çš„(Undefinedã€Nullã€ä¸æ˜¯newå‡ºæ¥çš„å¸ƒå°”ã€æ•°å­—å’Œå­—ç¬¦ä¸²)ï¼Œæ¯ç§ç±»å‹çš„æ•°æ®å ç”¨çš„å†…å­˜ç©ºé—´çš„å¤§å°æ˜¯ç¡®å®šçš„ï¼Œå¹¶ç”±ç³»ç»Ÿè‡ªåŠ¨åˆ†é…å’Œè‡ªåŠ¨é‡Šæ”¾ã€‚è¿™æ ·å¸¦æ¥çš„å¥½å¤„å°±æ˜¯ï¼Œå†…å­˜å¯ä»¥åŠæ—¶å¾—åˆ°å›æ”¶ï¼Œç›¸å¯¹äºå †æ¥è¯´ ï¼Œæ›´åŠ å®¹æ˜“ç®¡ç†å†…å­˜ç©ºé—´ã€‚</p><p>jså¼•ç”¨ç±»å‹æ•°æ®è¢«å­˜å‚¨äºå †ä¸­ (å¦‚å¯¹è±¡ã€æ•°ç»„ã€å‡½æ•°ç­‰ï¼Œå®ƒä»¬æ˜¯é€šè¿‡æ‹·è´å’Œnewå‡ºæ¥çš„ï¼‰ã€‚å…¶å®ï¼Œè¯´å­˜å‚¨äºå †ä¸­ï¼Œä¹Ÿä¸å¤ªå‡†ç¡®ï¼Œå› ä¸ºï¼Œå¼•ç”¨ç±»å‹çš„æ•°æ®çš„åœ°å€æŒ‡é’ˆæ˜¯å­˜å‚¨äºæ ˆä¸­çš„ï¼Œå½“æˆ‘ä»¬æƒ³è¦è®¿é—®å¼•ç”¨ç±»å‹çš„å€¼çš„æ—¶å€™ï¼Œéœ€è¦å…ˆä»æ ˆä¸­è·å¾—å¯¹è±¡çš„åœ°å€æŒ‡é’ˆï¼Œç„¶åï¼Œåœ¨é€šè¿‡åœ°å€æŒ‡é’ˆæ‰¾åˆ°å †ä¸­çš„æ‰€éœ€è¦çš„æ•°æ®ã€‚<br>æ•°æ®åœ¨å†…å­˜ä¸­çš„å­˜å‚¨ç»“æ„ï¼Œä¹Ÿå°±æ˜¯ç‰©ç†ç»“æ„ï¼Œåˆ†ä¸ºä¸¤ç§ï¼šé¡ºåºå­˜å‚¨ç»“æ„å’Œé“¾å¼å­˜å‚¨ç»“æ„ã€‚</p><p>é¡ºåºå­˜å‚¨ç»“æ„ï¼šæ˜¯æŠŠæ•°æ®å…ƒç´ å­˜æ”¾åœ¨åœ°å€è¿ç»­çš„å­˜å‚¨å•å…ƒé‡Œï¼Œå…¶æ•°æ®é—´çš„é€»è¾‘å…³ç³»å’Œç‰©ç†å…³ç³»æ˜¯ä¸€è‡´çš„ã€‚æ•°ç»„å°±æ˜¯é¡ºåºå­˜å‚¨ç»“æ„çš„å…¸å‹ä»£è¡¨ã€‚</p><p>é“¾å¼å­˜å‚¨ç»“æ„ï¼šæ˜¯æŠŠæ•°æ®å…ƒç´ å­˜æ”¾åœ¨å†…å­˜ä¸­çš„ä»»æ„å­˜å‚¨å•å…ƒé‡Œï¼Œä¹Ÿå°±æ˜¯å¯ä»¥æŠŠæ•°æ®å­˜æ”¾åœ¨å†…å­˜çš„å„ä¸ªä½ç½®ã€‚è¿™äº›æ•°æ®åœ¨å†…å­˜ä¸­çš„åœ°å€å¯ä»¥æ˜¯è¿ç»­çš„ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸è¿ç»­çš„ã€‚é“¾è¡¨å°±æ˜¯é¡ºåºå­˜å‚¨ç»“æ„çš„å…¸å‹ä»£è¡¨ã€‚</p><p>å’Œé¡ºåºå­˜å‚¨ç»“æ„ä¸åŒçš„æ˜¯ï¼Œé“¾å¼å­˜å‚¨ç»“æ„çš„æ•°æ®å…ƒç´ ä¹‹é—´æ˜¯é€šè¿‡æŒ‡é’ˆæ¥è¿æ¥çš„ï¼Œæˆ‘ä»¬å¯ä»¥é€šä½¿ç”¨æŒ‡é’ˆæ¥æ‰¾åˆ°æŸä¸ªæ•°æ®å…ƒç´ çš„ä½ç½®ï¼Œç„¶åå¯¹è¿™ä¸ªæ•°æ®å…ƒç´ è¿›è¡Œä¸€äº›æ“ä½œã€‚</p><p>æ•°ç»„å’Œé˜Ÿåˆ—éƒ½å¯ä»¥å®ç°æ ˆå’Œé“¾è¡¨ã€‚</p><p>æ‰“ä¸ªæ¯”æ–¹è¯´ä¸€ä¸‹é¡ºåºå­˜å‚¨ç»“æ„å’Œé“¾å¼å­˜å‚¨ç»“æ„çš„åŒºåˆ«ï¼š</p><p>æ¯”å¦‚å»é“¶è¡Œå–é’±ï¼Œé¡ºåºå­˜å‚¨ç»“æ„å°±ç›¸å½“äºï¼Œæ‰€æœ‰çš„å®¢æˆ·æŒ‰ç…§å…ˆæ¥ååˆ°çš„é¡ºåºæœ‰åºçš„çš„ååœ¨å¤§å…çš„æ¤…å­ä¸Šï¼ˆæ³¨æ„ï¼šæ˜¯æœ‰é¡ºåºçš„åç€å“¦ï¼‰ã€‚</p><p>è€Œé“¾å¼å­˜å‚¨ç»“æ„ç›¸å½“äºï¼Œæ‰€æœ‰çš„å®¢æˆ·åªè¦ä¸€åˆ°é“¶è¡Œï¼Œå¤§å ‚ç»ç†å°±ç»™ä»–ä»¬æ¯äººä¸€ä¸ªå·ç ï¼Œç„¶åä»–ä»¬å¯ä»¥éšä¾¿ååœ¨å“ªä¸ªæ¤…å­ä¸Šï¼ˆéšä¾¿åï¼Œä¸éœ€è¦æŒ‰ç…§ä»€ä¹ˆé¡ºåºåï¼‰ï¼Œåªéœ€è¦ç­‰å¾…å·¥ä½œäººå‘˜å¹¿æ’­å«å·å³å¯ã€‚</p><p>è€Œæ¯ä¸ªå®¢æˆ·æ‰‹é‡Œçš„å·ç å°±ç›¸å½“äºæŒ‡é’ˆï¼Œå½“å‰çš„æŒ‡é’ˆæŒ‡å‘ä¸‹ä¸€ä¸ªå­˜å‚¨ç©ºé—´ï¼Œè¿™æ ·ï¼Œæ‰€æœ‰ä¸è¿ç»­çš„ç©ºé—´å°±å¯ä»¥è¢«æœ‰é¡ºåºçš„æŒ‰ç…§çº¿æ€§è¿æ¥åœ¨ä¸€èµ·äº†ã€‚</p><h2 id="Symbolç±»å‹åœ¨å®é™…å¼€å‘ä¸­çš„åº”ç”¨ã€å¯æ‰‹åŠ¨å®ç°ä¸€ä¸ªç®€å•çš„Symbol"><a href="#Symbolç±»å‹åœ¨å®é™…å¼€å‘ä¸­çš„åº”ç”¨ã€å¯æ‰‹åŠ¨å®ç°ä¸€ä¸ªç®€å•çš„Symbol" class="headerlink" title="Symbolç±»å‹åœ¨å®é™…å¼€å‘ä¸­çš„åº”ç”¨ã€å¯æ‰‹åŠ¨å®ç°ä¸€ä¸ªç®€å•çš„Symbol"></a>Symbolç±»å‹åœ¨å®é™…å¼€å‘ä¸­çš„åº”ç”¨ã€å¯æ‰‹åŠ¨å®ç°ä¸€ä¸ªç®€å•çš„Symbol</h2><ul><li>Symbol å€¼å¯ä»¥ä½œä¸ºæ ‡è¯†ç¬¦ï¼Œç”¨äºå¯¹è±¡çš„å±æ€§åï¼Œå¯ä»¥ä¿è¯ä¸ä¼šå‡ºç°åŒåçš„å±æ€§ã€‚ </li><li>è¯¥å±æ€§ä¸ä¼šå‡ºç°åœ¨ forâ€¦inã€forâ€¦of å¾ªç¯ä¸­ï¼Œä¹Ÿä¸ä¼šè¢« Object.keys()ã€Object.getOwnPropertyNames()ã€JSON.stringify() è¿”å›</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ²¡æœ‰å‚æ•°</span></span><br><span class="line">        <span class="keyword">let</span> p1 = <span class="built_in">Symbol</span>()</span><br><span class="line">        <span class="keyword">let</span> p2 = <span class="built_in">Symbol</span>()</span><br><span class="line">        <span class="built_in">console</span>.log(p1 === p2); <span class="comment">//false</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// å­˜åœ¨å‚æ•°</span></span><br><span class="line">        <span class="keyword">let</span> p3 = <span class="built_in">Symbol</span>(<span class="string">&#x27;foo&#x27;</span>)</span><br><span class="line">        <span class="keyword">let</span> p4 = <span class="built_in">Symbol</span>(<span class="string">&#x27;foo&#x27;</span>)</span><br><span class="line">        <span class="built_in">console</span>.log(p3 === p4); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// ä½¿ç”¨Symbol.for()ï¼Œå¯ä»¥è®¿é—®åˆ°åŒä¸€ä¸ª Symbol å€¼</span></span><br><span class="line">        <span class="keyword">let</span> p5 = <span class="built_in">Symbol</span>.for(<span class="string">&#x27;foo&#x27;</span>)</span><br><span class="line">        <span class="keyword">let</span> p6 = <span class="built_in">Symbol</span>.for(<span class="string">&#x27;foo&#x27;</span>)</span><br><span class="line">        <span class="built_in">console</span>.log(p5 === p6); <span class="comment">// true</span></span><br></pre></td></tr></table></figure><h2 id="JavaScriptä¸­çš„å˜é‡åœ¨å†…å­˜ä¸­çš„å…·ä½“å­˜å‚¨å½¢å¼"><a href="#JavaScriptä¸­çš„å˜é‡åœ¨å†…å­˜ä¸­çš„å…·ä½“å­˜å‚¨å½¢å¼" class="headerlink" title="JavaScriptä¸­çš„å˜é‡åœ¨å†…å­˜ä¸­çš„å…·ä½“å­˜å‚¨å½¢å¼"></a>JavaScriptä¸­çš„å˜é‡åœ¨å†…å­˜ä¸­çš„å…·ä½“å­˜å‚¨å½¢å¼</h2><p>æ ˆå†…å­˜å’Œå †å†…å­˜<br>JavaScriptä¸­çš„å˜é‡åˆ†ä¸ºåŸºæœ¬ç±»å‹å’Œå¼•ç”¨ç±»å‹<br>åŸºæœ¬ç±»å‹æ˜¯ä¿å­˜åœ¨æ ˆå†…å­˜ä¸­çš„ç®€å•æ•°æ®æ®µï¼Œå®ƒä»¬çš„å€¼éƒ½æœ‰å›ºå®šçš„å¤§å°ï¼Œä¿å­˜åœ¨æ ˆç©ºé—´ï¼Œé€šè¿‡æŒ‰å€¼è®¿é—®</p><p>å¼•ç”¨ç±»å‹æ˜¯ä¿å­˜åœ¨å †å†…å­˜ä¸­çš„å¯¹è±¡ï¼Œå€¼å¤§å°ä¸å›ºå®šï¼Œæ ˆå†…å­˜ä¸­å­˜æ”¾çš„è¯¥å¯¹è±¡çš„è®¿é—®åœ°å€æŒ‡å‘å †å†…å­˜ä¸­çš„å¯¹è±¡ï¼ŒJavaScriptä¸å…è®¸ç›´æ¥è®¿é—®å †å†…å­˜ä¸­çš„ä½ç½®ï¼Œå› æ­¤æ“ä½œå¯¹è±¡æ—¶ï¼Œå®é™…æ“ä½œå¯¹è±¡çš„å¼•ç”¨</p><h4 id="å½’ç±»å¦‚ä¸‹"><a href="#å½’ç±»å¦‚ä¸‹" class="headerlink" title="å½’ç±»å¦‚ä¸‹"></a>å½’ç±»å¦‚ä¸‹</h4><p>åŸºæœ¬ç±»å‹ï¼š<br>Numberï¼ŒStringï¼ŒBooleanï¼ŒNullï¼ŒUndefinedï¼ŒSymbolã€<br>è®¿é—®ï¼šåŸºæœ¬æ•°æ®ç±»å‹çš„å€¼æ˜¯æŒ‰å€¼è®¿é—®çš„ã€‚<br>å­˜å‚¨ï¼šåŸºæœ¬ç±»å‹çš„å˜é‡æ˜¯å­˜æ”¾åœ¨æ ˆå†…å­˜ï¼ˆStackï¼‰é‡Œçš„ã€‚<br>å¼•ç”¨ç±»å‹ï¼š Object<br>è®¿é—®ï¼šå¼•ç”¨ç±»å‹çš„å€¼æ˜¯æŒ‰å¼•ç”¨è®¿é—®çš„ã€‚<br>å­˜å‚¨ï¼šå¼•ç”¨ç±»å‹çš„å€¼æ˜¯ä¿å­˜åœ¨å †å†…å­˜ï¼ˆHeapï¼‰ä¸­çš„å¯¹è±¡ï¼ˆObjectï¼‰<br>typeof: ç»å¸¸ç”¨æ¥æ£€æµ‹ä¸€ä¸ªå˜é‡æ˜¯ä¸æ˜¯æœ€åŸºæœ¬çš„æ•°æ®ç±»å‹<br>instanceof: ç”¨æ¥åˆ¤æ–­æŸä¸ªæ„é€ å‡½æ•°çš„ prototype å±æ€§æ‰€æŒ‡å‘çš„å¯¹è±¡æ˜¯å¦å­˜åœ¨äºå¦å¤–ä¸€ä¸ªè¦æ£€æµ‹å¯¹è±¡çš„åŸå‹é“¾ä¸Šã€‚<br>ç®€å•è¯´å°±æ˜¯åˆ¤æ–­ä¸€ä¸ªå¼•ç”¨ç±»å‹çš„å˜é‡å…·ä½“æ˜¯ä¸æ˜¯æŸç§ç±»å‹çš„å¯¹è±¡</p><h2 id="åŸºæœ¬ç±»å‹å¯¹åº”çš„å†…ç½®å¯¹è±¡ï¼Œä»¥åŠä»–ä»¬ä¹‹é—´çš„è£…ç®±æ‹†ç®±æ“ä½œ"><a href="#åŸºæœ¬ç±»å‹å¯¹åº”çš„å†…ç½®å¯¹è±¡ï¼Œä»¥åŠä»–ä»¬ä¹‹é—´çš„è£…ç®±æ‹†ç®±æ“ä½œ" class="headerlink" title="åŸºæœ¬ç±»å‹å¯¹åº”çš„å†…ç½®å¯¹è±¡ï¼Œä»¥åŠä»–ä»¬ä¹‹é—´çš„è£…ç®±æ‹†ç®±æ“ä½œ"></a>åŸºæœ¬ç±»å‹å¯¹åº”çš„å†…ç½®å¯¹è±¡ï¼Œä»¥åŠä»–ä»¬ä¹‹é—´çš„è£…ç®±æ‹†ç®±æ“ä½œ</h2><h3 id="å†…ç½®å¯¹è±¡ï¼š"><a href="#å†…ç½®å¯¹è±¡ï¼š" class="headerlink" title="å†…ç½®å¯¹è±¡ï¼š"></a>å†…ç½®å¯¹è±¡ï¼š</h3><p>Objectæ˜¯ JavaScript ä¸­æ‰€æœ‰å¯¹è±¡çš„çˆ¶å¯¹è±¡ æ•°æ®å°è£…ç±»å¯¹è±¡ï¼šObjectã€Arrayã€Booleanã€Number å’Œ String å…¶ä»–å¯¹è±¡ï¼šFunctionã€Mathã€Dateã€RegExpã€Errorã€‚<br>ç‰¹æ®Šçš„åŸºæœ¬åŒ…è£…ç±»å‹(Stringã€Numberã€Boolean)<br>arguments: åªå­˜åœ¨äºå‡½æ•°å†…éƒ¨çš„ä¸€ä¸ªç±»æ•°ç»„å¯¹è±¡</p><h3 id="è£…ç®±å’Œæ‹†ç®±"><a href="#è£…ç®±å’Œæ‹†ç®±" class="headerlink" title="è£…ç®±å’Œæ‹†ç®±"></a>è£…ç®±å’Œæ‹†ç®±</h3><p>å¼•ç”¨ç±»å‹æœ‰ä¸ªç‰¹æ®Šçš„åŸºæœ¬åŒ…è£…ç±»å‹ï¼Œå®ƒåŒ…æ‹¬Stringã€Numberå’ŒBooleanã€‚</p><p>ä½œä¸ºå­—ç¬¦ä¸²çš„aå¯ä»¥è°ƒç”¨æ–¹æ³•</p><h4 id="è£…ç®±ï¼š"><a href="#è£…ç®±ï¼š" class="headerlink" title="è£…ç®±ï¼š"></a>è£…ç®±ï¼š</h4><p>æŠŠåŸºæœ¬æ•°æ®ç±»å‹è½¬åŒ–ä¸ºå¯¹åº”çš„å¼•ç”¨æ•°æ®ç±»å‹çš„æ“ä½œï¼Œè£…ç®±åˆ†ä¸ºéšå¼è£…ç®±å’Œæ˜¾ç¤ºè£…ç®±ã€‚åœ¨ã€Šjavascripté«˜çº§ç¨‹åºè®¾è®¡ã€‹ä¸­æœ‰è¿™æ ·ä¸€å¥è¯ï¼š</p><blockquote><p>æ¯å½“è¯»å–ä¸€ä¸ªåŸºæœ¬ç±»å‹çš„æ—¶å€™ï¼Œåå°å°±ä¼šåˆ›å»ºä¸€ä¸ªå¯¹åº”çš„åŸºæœ¬åŒ…è£…ç±»å‹å¯¹è±¡ï¼Œä»è€Œè®©æˆ‘ä»¬èƒ½å¤Ÿè°ƒç”¨ä¸€äº›æ–¹æ³•æ¥æ“ä½œè¿™äº›æ•°æ®ã€‚(éšå¼è£…ç®±)</p></blockquote><h5 id="éšå¼è£…ç®±"><a href="#éšå¼è£…ç®±" class="headerlink" title="éšå¼è£…ç®±"></a>éšå¼è£…ç®±</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="string">&#x27;sun&#x27;</span></span><br><span class="line"><span class="keyword">let</span> b = a.indexof(<span class="string">&#x27;s&#x27;</span>) <span class="comment">// 0 // è¿”å›ä¸‹æ ‡</span></span><br><span class="line"><span class="comment">// ä¸Šé¢ä»£ç åœ¨åå°å®é™…çš„æ­¥éª¤ä¸ºï¼š</span></span><br><span class="line"><span class="keyword">let</span> a = <span class="keyword">new</span> <span class="built_in">String</span>(<span class="string">&#x27;sun&#x27;</span>)</span><br><span class="line"><span class="keyword">let</span> b = a.indexof(<span class="string">&#x27;s&#x27;</span>)</span><br><span class="line">a = <span class="literal">null</span></span><br></pre></td></tr></table></figure><p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œaæ˜¯åŸºæœ¬ç±»å‹ï¼Œå®ƒä¸æ˜¯å¯¹è±¡ï¼Œä¸åº”è¯¥å…·æœ‰æ–¹æ³•ï¼Œjså†…éƒ¨è¿›è¡Œäº†ä¸€äº›åˆ—å¤„ç†ï¼ˆè£…ç®±)ï¼Œ ä½¿å¾—å®ƒèƒ½å¤Ÿè°ƒç”¨æ–¹æ³•ã€‚åœ¨è¿™ä¸ªåŸºæœ¬ç±»å‹ä¸Šè°ƒç”¨æ–¹æ³•ï¼Œå…¶å®æ˜¯åœ¨è¿™ä¸ªåŸºæœ¬ç±»å‹å¯¹è±¡ä¸Šè°ƒç”¨æ–¹æ³•ã€‚è¿™ä¸ªåŸºæœ¬ç±»å‹çš„å¯¹è±¡æ˜¯ä¸´æ—¶çš„ï¼Œå®ƒåªå­˜åœ¨äºæ–¹æ³•è°ƒç”¨é‚£ä¸€è¡Œä»£ç æ‰§è¡Œçš„ç¬é—´ï¼Œæ‰§è¡Œæ–¹æ³•åç«‹åˆ»è¢«é”€æ¯ã€‚å®ç°æœºåˆ¶ï¼š</p><ul><li>åˆ›å»ºStringç±»å‹çš„ä¸€ä¸ªå®ä¾‹ï¼›</li><li>åœ¨å®ä¾‹ä¸Šè°ƒç”¨æŒ‡å®šçš„æ–¹æ³•ï¼›</li><li>é”€æ¯è¿™ä¸ªå®ä¾‹</li></ul><h5 id="æ˜¾ç¤ºè£…ç®±"><a href="#æ˜¾ç¤ºè£…ç®±" class="headerlink" title="æ˜¾ç¤ºè£…ç®±"></a>æ˜¾ç¤ºè£…ç®±</h5><blockquote><p>é€šè¿‡å†…ç½®å¯¹è±¡å¯ä»¥å¯¹Booleanã€Objectã€Stringç­‰å¯ä»¥å¯¹åŸºæœ¬ç±»å‹æ˜¾ç¤ºè£…ç®±</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="keyword">new</span> <span class="built_in">String</span>(<span class="string">&#x27;sun&#x27;</span>)</span><br></pre></td></tr></table></figure><h4 id="æ‹†ç®±ï¼š"><a href="#æ‹†ç®±ï¼š" class="headerlink" title="æ‹†ç®±ï¼š"></a>æ‹†ç®±ï¼š</h4><p>æ‹†ç®±å’Œè£…ç®±ç›¸åï¼Œå°±æ˜¯æŠŠå¼•ç”¨ç±»å‹è½¬åŒ–ä¸ºåŸºæœ¬ç±»å‹çš„æ•°æ®ï¼Œé€šå¸¸é€šè¿‡å¼•ç”¨ç±»å‹çš„valueof()å’ŒtoStringï¼ˆï¼‰æ–¹æ³•å®ç°</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> name = <span class="keyword">new</span> <span class="built_in">String</span>(<span class="string">&#x27;sun&#x27;</span>)</span><br><span class="line"><span class="keyword">let</span> age = <span class="keyword">new</span> <span class="built_in">Number</span>(<span class="number">24</span>)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> name) <span class="comment">// object</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> age) <span class="comment">//  object</span></span><br><span class="line"><span class="comment">// æ‹†ç®±æ“ä½œ</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> age.valueOf()); <span class="comment">// number // 24  åŸºæœ¬çš„æ•°å­—ç±»å‹</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> name.valueOf()); <span class="comment">// string  // &#x27;sun&#x27; åŸºæœ¬çš„å­—ç¬¦ç±»å‹</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> age.toString()); <span class="comment">// string  // &#x27;24&#x27; åŸºæœ¬çš„å­—ç¬¦ç±»å‹</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> name.toString()); <span class="comment">// string  // &#x27;sun&#x27; åŸºæœ¬çš„å­—ç¬¦ç±»å‹</span></span><br></pre></td></tr></table></figure><h2 id="ç†è§£å€¼ç±»å‹å’Œå¼•ç”¨ç±»å‹"><a href="#ç†è§£å€¼ç±»å‹å’Œå¼•ç”¨ç±»å‹" class="headerlink" title="ç†è§£å€¼ç±»å‹å’Œå¼•ç”¨ç±»å‹"></a>ç†è§£å€¼ç±»å‹å’Œå¼•ç”¨ç±»å‹</h2><h3 id="å€¼ç±»å‹å’Œå¼•ç”¨ç±»å‹æœ‰å“ªäº›"><a href="#å€¼ç±»å‹å’Œå¼•ç”¨ç±»å‹æœ‰å“ªäº›" class="headerlink" title="å€¼ç±»å‹å’Œå¼•ç”¨ç±»å‹æœ‰å“ªäº›"></a>å€¼ç±»å‹å’Œå¼•ç”¨ç±»å‹æœ‰å“ªäº›</h3><p><strong>ï¼ˆ1ï¼‰å€¼ç±»å‹ï¼š</strong>stringã€numberã€booleanã€nullã€undefined </p><p><strong>ï¼ˆ2ï¼‰å¼•ç”¨ç±»å‹ï¼š</strong>å¯¹è±¡ã€æ•°ç»„ã€å‡½æ•°ã€‚</p><h3 id="å€¼ç±»å‹å’Œå¼•ç”¨ç±»å‹çš„åŒºåˆ«"><a href="#å€¼ç±»å‹å’Œå¼•ç”¨ç±»å‹çš„åŒºåˆ«" class="headerlink" title="å€¼ç±»å‹å’Œå¼•ç”¨ç±»å‹çš„åŒºåˆ«"></a>å€¼ç±»å‹å’Œå¼•ç”¨ç±»å‹çš„åŒºåˆ«</h3><blockquote><p>å€¼ç±»å‹ â€”â€” å¼•ç”¨ç±»å‹</p></blockquote><ol><li>å­˜å‚¨æ–¹å¼ï¼šç›´æ¥å­˜å‚¨æ•°æ®æœ¬èº« â€”â€” å­˜å‚¨çš„æ˜¯æ•°æ®çš„å¼•ç”¨ï¼Œæ•°æ®å­˜å‚¨åœ¨å †ä¸­</li><li>å†…å­˜åˆ†é…ï¼šåˆ†é…åœ¨æ ˆä¸­ â€”â€” åˆ†é…åœ¨å †ä¸­</li><li>æ•ˆç‡ï¼šæ•ˆç‡é«˜ï¼Œä¸éœ€è¦åœ°å€è½¬æ¢ â€”â€” æ•ˆç‡è¾ƒä½ï¼Œéœ€è¦è¿›è¡Œåœ°å€è½¬æ¢</li><li>å†…å­˜å›æ”¶ï¼šä½¿ç”¨å®Œç«‹å³å›æ”¶ â€”â€” ä½¿ç”¨å®Œåä¸ç«‹å³å›æ”¶ï¼Œè€Œæ˜¯äº¤ç»™GCï¼ˆåƒåœ¾å›æ”¶ï¼‰å¤„ç†å›æ”¶</li><li>èµ‹å€¼æ“ä½œï¼šåˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ï¼Œå¹¶è¿›è¡Œèµ‹å€¼ â€”â€” å¯¹å¼•ç”¨åœ°å€è¿›è¡Œå¤åˆ¶</li><li>ç±»å‹æ‹“å±•ï¼šä¸æ˜“æ‹“å±•ï¼Œæ‰€æœ‰ç±»å‹éƒ½æ˜¯å¯†å°çš„ï¼Œæ‰€ä»¥æ— æ³•æ´¾ç”Ÿå‡ºæ–°çš„ç±»å‹ã€‚ â€”â€” å…·æœ‰å¤šæ€çš„ç‰¹æ€§æ–¹ä¾¿æ‹“å±•</li><li>å®ä¾‹åˆ†é…ï¼šé€šå¸¸æ˜¯åœ¨çº¿ç¨‹æ ˆä¸Šåˆ†é…çš„ï¼ˆé™æ€åˆ†é…ï¼‰ï¼Œä½†æ˜¯åœ¨æŸäº›æƒ…å½¢ä¸‹å¯ä»¥å­˜å‚¨åœ¨å †ä¸­ã€‚â€”â€” æ€»æ˜¯åœ¨è¿›ç¨‹å †ä¸­åˆ†é…ï¼ˆåŠ¨æ€åˆ†é…ï¼‰</li></ol><h2 id="nullå’Œundefinedçš„åŒºåˆ«"><a href="#nullå’Œundefinedçš„åŒºåˆ«" class="headerlink" title="nullå’Œundefinedçš„åŒºåˆ«"></a>nullå’Œundefinedçš„åŒºåˆ«</h2><p><strong>nullè¡¨ç¤ºâ€æ²¡æœ‰å¯¹è±¡â€ï¼Œå³è¯¥å¤„ä¸åº”è¯¥æœ‰å€¼ã€‚</strong>å…¸å‹ç”¨æ³•æ˜¯ï¼š </p><ol><li>ä½œä¸ºå‡½æ•°çš„å‚æ•°ï¼Œè¡¨ç¤ºè¯¥å‡½æ•°çš„å‚æ•°ä¸æ˜¯å¯¹è±¡</li><li>ä½œä¸ºå¯¹è±¡åŸå‹é“¾çš„ç»ˆç‚¹ã€‚</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Object</span>.getPrototypeOf(<span class="built_in">Object</span>.prototype) <span class="comment">// null</span></span><br></pre></td></tr></table></figure><p><strong>undefinedè¡¨ç¤ºâ€ç¼ºå°‘å€¼â€ï¼Œå°±æ˜¯æ­¤å¤„åº”è¯¥æœ‰ä¸€ä¸ªå€¼ï¼Œä½†æ˜¯è¿˜æ²¡æœ‰å®šä¹‰ã€‚</strong>å…¸å‹ç”¨æ³•æ˜¯ï¼š </p><ol><li>å˜é‡è¢«å£°æ˜äº†ï¼Œä½†æ˜¯æ²¡æœ‰èµ‹å€¼æ—¶ï¼Œå°±ç­‰äºundefinedã€‚</li><li>è°ƒç”¨å‡½æ•°æ—¶ï¼Œåº”è¯¥æä¾›çš„å‚æ•°æ²¡æœ‰æä¾›ï¼Œè¯¥å‚æ•°ç­‰äºundefinedã€‚</li><li>å¯¹è±¡æ²¡æœ‰èµ‹å€¼çš„å±æ€§ï¼Œè¯¥å±æ€§çš„å€¼ä¸ºundefinedã€‚</li><li>å‡½æ•°æ²¡æœ‰è¿”å›å€¼æ—¶ï¼Œé»˜è®¤è¿”å›undefined</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> i;</span><br><span class="line"><span class="built_in">console</span>.log(i) <span class="comment">// undefined</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">x</span>)</span>&#123;<span class="built_in">console</span>.log(x)&#125;</span><br><span class="line">fn() <span class="comment">// undefined</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> o = <span class="keyword">new</span> <span class="built_in">Object</span></span><br><span class="line">o.p <span class="comment">// undefined</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> x = fn()</span><br><span class="line"><span class="built_in">console</span>.log(x) <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure><h2 id="åˆ¤æ–­JavaScriptæ•°æ®ç±»å‹çš„æ–¹å¼ï¼Œä»¥åŠä»–ä»¬çš„ä¼˜ç¼ºç‚¹ï¼Œå¦‚ä½•å‡†ç¡®çš„åˆ¤æ–­æ•°ç»„ç±»å‹"><a href="#åˆ¤æ–­JavaScriptæ•°æ®ç±»å‹çš„æ–¹å¼ï¼Œä»¥åŠä»–ä»¬çš„ä¼˜ç¼ºç‚¹ï¼Œå¦‚ä½•å‡†ç¡®çš„åˆ¤æ–­æ•°ç»„ç±»å‹" class="headerlink" title="åˆ¤æ–­JavaScriptæ•°æ®ç±»å‹çš„æ–¹å¼ï¼Œä»¥åŠä»–ä»¬çš„ä¼˜ç¼ºç‚¹ï¼Œå¦‚ä½•å‡†ç¡®çš„åˆ¤æ–­æ•°ç»„ç±»å‹"></a>åˆ¤æ–­JavaScriptæ•°æ®ç±»å‹çš„æ–¹å¼ï¼Œä»¥åŠä»–ä»¬çš„ä¼˜ç¼ºç‚¹ï¼Œå¦‚ä½•å‡†ç¡®çš„åˆ¤æ–­æ•°ç»„ç±»å‹</h2><p>åˆ¤æ–­æ•°æ®ç±»å‹çš„æ–¹æ³•ä¸€èˆ¬å¯ä»¥é€šè¿‡ï¼š<code>typeof</code>ã€<code>instanceof</code>ã€<code>constructor</code>ã€<code>toString</code> ç­‰å››ç§å¸¸ç”¨æ–¹æ³• </p><ol><li><p>typeofï¼ˆå¯ä»¥å¯¹åŸºæœ¬ç±»å‹åšå‡ºå‡†ç¡®çš„åˆ¤æ–­ï¼Œä½†æ˜¯å¼•ç”¨ç±»å‹å°±æ˜¾å¾—æœ‰ç‚¹åŠ›ä¸ä»å¿ƒäº†ï¼‰</p><p>typeof è¿”å›ä¸€ä¸ªæ•°æ®ç±»å‹çš„å­—ç¬¦ä¸²ï¼Œè¿”å›ç»“æœåŒ…æ‹¬ï¼š<code>number</code>ã€<code>boolean</code>ã€<code>string</code>ã€<code>Object</code>ã€<code>undefined</code>ã€<code>function</code>ç­‰å…­ç§æ•°æ®ç±»å‹</p><p>typeof å¯ä»¥å¯¹JSåŸºæœ¬æ•°æ®ç±»å‹åšå‡ºå‡†ç¡®çš„åˆ¤æ–­ï¼ˆé™¤äº†nullï¼‰ï¼Œè€Œå¯¹äºå¼•ç”¨ç±»å‹è¿”å›çš„åŸºæœ¬ä¸Šéƒ½æ˜¯objectï¼Œå…¶å®è¿”å›objectä¹Ÿæ²¡æœ‰é”™ï¼Œå› ä¸ºæ‰€æœ‰å¯¹è±¡çš„åŸå‹é“¾æœ€ç»ˆéƒ½æ˜¯æŒ‡å‘äº†Objectï¼ŒObjectæ˜¯æ‰€æœ‰å¯¹è±¡çš„ç¥–å®—ã€‚ä½†å½“æˆ‘ä»¬éœ€è¦çŸ¥é“æŸä¸ªå¯¹è±¡çš„å…·ä½“ç±»å‹æ—¶ï¼Œtypeofå°±æ˜¾å¾—æœ‰äº›åŠ›ä¸ä»å¿ƒäº†</p></li></ol><ol start="2"><li><p>instanceof</p><blockquote><p>åˆ¤æ–­å¯¹è±¡å’Œæ„é€ å‡½æ•°åœ¨åŸå‹é“¾ä¸Šæ˜¯å¦æœ‰å…³ç³»ï¼Œå¦‚æœæœ‰å…³ç³»ï¼Œè¿”å›çœŸï¼Œå¦åˆ™è¿”å›å‡</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;hello&#x27;</span>;</span><br><span class="line"><span class="built_in">console</span>.log(str <span class="keyword">instanceof</span> <span class="built_in">String</span>);<span class="comment">//false</span></span><br><span class="line">   </span><br><span class="line"><span class="keyword">var</span> bool = <span class="literal">true</span>;</span><br><span class="line"><span class="built_in">console</span>.log(bool <span class="keyword">instanceof</span> <span class="built_in">Boolean</span>);<span class="comment">//false</span></span><br><span class="line">   </span><br><span class="line"><span class="keyword">var</span> num = <span class="number">123</span>;</span><br><span class="line"><span class="built_in">console</span>.log(num <span class="keyword">instanceof</span> <span class="built_in">Number</span>);<span class="comment">//false</span></span><br><span class="line">   </span><br><span class="line"><span class="keyword">var</span> nul = <span class="literal">null</span>;</span><br><span class="line"><span class="built_in">console</span>.log(nul <span class="keyword">instanceof</span> <span class="built_in">Object</span>);<span class="comment">//false</span></span><br><span class="line">   </span><br><span class="line"><span class="keyword">var</span> und = <span class="literal">undefined</span>;</span><br><span class="line"><span class="built_in">console</span>.log(und <span class="keyword">instanceof</span> <span class="built_in">Object</span>);<span class="comment">//false</span></span><br><span class="line">   </span><br><span class="line"><span class="keyword">var</span> oDate = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line"><span class="built_in">console</span>.log(oDate <span class="keyword">instanceof</span> <span class="built_in">Date</span>);<span class="comment">//true</span></span><br><span class="line">   </span><br><span class="line"><span class="keyword">var</span> json = &#123;&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(json <span class="keyword">instanceof</span> <span class="built_in">Object</span>);<span class="comment">//true</span></span><br><span class="line">   </span><br><span class="line"><span class="keyword">var</span> arr = [];</span><br><span class="line"><span class="built_in">console</span>.log(arr <span class="keyword">instanceof</span> <span class="built_in">Array</span>);<span class="comment">//true</span></span><br><span class="line">   </span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/a/</span>;</span><br><span class="line"><span class="built_in">console</span>.log(reg <span class="keyword">instanceof</span> <span class="built_in">RegExp</span>);<span class="comment">//true</span></span><br><span class="line">   </span><br><span class="line"><span class="keyword">var</span> fun = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(fun <span class="keyword">instanceof</span> <span class="built_in">Function</span>);<span class="comment">//true</span></span><br><span class="line">   </span><br><span class="line"><span class="keyword">var</span> error = <span class="keyword">new</span> <span class="built_in">Error</span>();</span><br><span class="line"><span class="built_in">console</span>.log(error <span class="keyword">instanceof</span> <span class="built_in">Error</span>);<span class="comment">//true</span></span><br></pre></td></tr></table></figure><p>ä»ä¸Šé¢çš„è¿è¡Œç»“æœæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼ŒåŸºæœ¬æ•°æ®ç±»å‹æ˜¯æ²¡æœ‰æ£€æµ‹å‡ºä»–ä»¬çš„ç±»å‹ï¼Œä½†æ˜¯æˆ‘ä»¬ä½¿ç”¨ä¸‹é¢çš„æ–¹å¼åˆ›å»ºnumã€strã€booleanï¼Œæ˜¯å¯ä»¥æ£€æµ‹å‡ºç±»å‹çš„ï¼š </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> num = <span class="keyword">new</span> <span class="built_in">Number</span>(<span class="number">123</span>);</span><br><span class="line"><span class="built_in">console</span>.log(num <span class="keyword">instanceof</span> <span class="built_in">Number</span>) <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> str = <span class="keyword">new</span> <span class="built_in">String</span>(<span class="string">&#x27;abcdef&#x27;</span>);</span><br><span class="line"><span class="built_in">console</span>.log(str <span class="keyword">instanceof</span> <span class="built_in">String</span>) <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> boolean = <span class="keyword">new</span> <span class="built_in">Boolean</span>(<span class="literal">true</span>);</span><br><span class="line"><span class="built_in">console</span>.log(boolean <span class="keyword">instanceof</span> boolean) <span class="comment">// true</span></span><br></pre></td></tr></table></figure></li></ol><ol start="3"><li><p>constructorï¼šæŸ¥çœ‹å¯¹è±¡å¯¹åº”çš„æ„é€ å‡½æ•° </p><blockquote><p>constructor åœ¨å…¶å¯¹åº”å¯¹è±¡çš„åŸå‹ä¸‹é¢ï¼Œæ˜¯ç¨‹åºè‡ªåŠ¨ç”Ÿæˆçš„ã€‚å½“æˆ‘ä»¬å†™ä¸€ä¸ªæ„é€ å‡½æ•°çš„æ—¶å€™ï¼Œç¨‹åºä¼šè‡ªåŠ¨æ·»åŠ ï¼šæ„é€ å‡½æ•°å.prototype.constructor = æ„é€ å‡½æ•°å </p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Fn</span>(<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line"><span class="keyword">var</span> fn = <span class="keyword">new</span> Fn()</span><br><span class="line"><span class="comment">// fn.prototype.constructor = Fn // åœ¨æ‰§è¡Œä¸Šé¢è¿™ä¸ªå‡½æ•°æ—¶ç³»ç»Ÿè‡ªåŠ¨æ‰§è¡Œè¿™è¡Œä»£ç </span></span><br><span class="line"><span class="built_in">console</span>.log(fn.constructor == Fn) <span class="comment">// true</span></span><br></pre></td></tr></table></figure><p>è¿™ä¸ªæ–¹æ³•ä¸èƒ½åˆ¤æ–­å‡º <code>undefined</code>ã€<code>null</code> çš„ç±»å‹ï¼Œå¹¶ä¸”ä¼šæŠ¥é”™ï¼Œå› ä¸º null å’Œ undefined æ˜¯æ— æ•ˆçš„å¯¹è±¡ï¼Œå› æ­¤æ˜¯ä¸ä¼šæœ‰ <code>constructor</code> å­˜åœ¨çš„</p></li></ol><p>   åŒæ—¶æˆ‘ä»¬ä¹Ÿéœ€è¦æ³¨æ„åˆ°çš„æ˜¯ï¼š<strong>ä½¿ç”¨ construtor æ˜¯ä¸ä¿é™©çš„ï¼Œå› ä¸º constrtuctor å±æ€§æ˜¯å¯ä»¥è¢«ä¿®æ”¹çš„ï¼Œä¼šå¯¼è‡´æ£€æµ‹å‡ºæ¥çš„ç»“æœä¸æ­£ç¡®</strong></p><ol start="4"><li><p>toString</p><p>toStringæ—¶ObjectåŸå‹å¯¹è±¡ä¸Šçš„ä¸€ä¸ªæ–¹æ³•ï¼Œè¯¥æ–¹æ³•é»˜è®¤è¿”å›å…¶è°ƒç”¨è€…ï¼ˆthisæŒ‡å‘çš„å¯¹è±¡ï¼‰çš„å…·ä½“ç±»å‹ï¼Œè¿”å›çš„ç±»å‹æ ¼å¼ä¸º [object,xxx]ï¼Œxxxæ˜¯å…·ä½“çš„æ•°æ®ç±»å‹ï¼Œå…¶ä¸­åŒ…æ‹¬ï¼š</p><p>Stringã€Numberã€Booleanã€Undefinedã€Nullã€Functionã€Dateã€Arrayã€RegExpã€Errorã€HTMLDocumentã€â€¦..åŸºæœ¬ä¸Šæ‰€æœ‰å¯¹è±¡çš„ç±»å‹éƒ½å¯ä»¥é€šè¿‡è¿™ä¸ªæ–¹æ³•è·å–åˆ°</p><p>ä½¿ç”¨æ–¹æ³•ï¼šå¯¹äºObject å¯¹è±¡ï¼Œç›´æ¥è°ƒç”¨toString()æ–¹æ³• å°±èƒ½è¿”å› [object,Object]ã€‚è€Œå¯¹äºå…¶ä»–å¯¹è±¡ï¼Œåˆ™éœ€è¦é€šè¿‡ call / apply æ¥è°ƒç”¨æ‰èƒ½è¿”å›æ­£ç¡®çš„ç±»å‹ä¿¡æ¯</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.prototype.toString(<span class="keyword">new</span> <span class="built_in">Object</span>())); <span class="comment">// [object,Object]</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.prototype.toString.call(<span class="keyword">new</span> <span class="built_in">Array</span>())); <span class="comment">// [object,Array]</span></span><br></pre></td></tr></table></figure></li></ol><h2 id="å¯èƒ½å‘ç”Ÿéšå¼ç±»å‹è½¬æ¢çš„åœºæ™¯ä»¥åŠè½¬æ¢åŸåˆ™ï¼Œåº”å¦‚ä½•é¿å…æˆ–å·§å¦™åº”ç”¨"><a href="#å¯èƒ½å‘ç”Ÿéšå¼ç±»å‹è½¬æ¢çš„åœºæ™¯ä»¥åŠè½¬æ¢åŸåˆ™ï¼Œåº”å¦‚ä½•é¿å…æˆ–å·§å¦™åº”ç”¨" class="headerlink" title="å¯èƒ½å‘ç”Ÿéšå¼ç±»å‹è½¬æ¢çš„åœºæ™¯ä»¥åŠè½¬æ¢åŸåˆ™ï¼Œåº”å¦‚ä½•é¿å…æˆ–å·§å¦™åº”ç”¨"></a>å¯èƒ½å‘ç”Ÿéšå¼ç±»å‹è½¬æ¢çš„åœºæ™¯ä»¥åŠè½¬æ¢åŸåˆ™ï¼Œåº”å¦‚ä½•é¿å…æˆ–å·§å¦™åº”ç”¨</h2><blockquote><p>ä»€ä¹ˆæ˜¯éšå¼ç±»å‹è½¬æ¢ï¼Ÿ</p><p>JavaScript é»˜è®¤è‡ªåŠ¨è½¬æ¢ï¼Œæ²¡æœ‰ä»»ä½•è­¦å‘Š </p></blockquote><h3 id="éšå¼ç±»å‹è½¬æ¢å¸¸è§åœºæ™¯"><a href="#éšå¼ç±»å‹è½¬æ¢å¸¸è§åœºæ™¯" class="headerlink" title="éšå¼ç±»å‹è½¬æ¢å¸¸è§åœºæ™¯"></a>éšå¼ç±»å‹è½¬æ¢å¸¸è§åœºæ™¯</h3><p>è‡ªåŠ¨è½¬æ¢ Boolean</p><p>ä¾‹å¦‚ if è¯­å¥æˆ–è€…å…¶ä»–éœ€è¦ Boolean çš„åœ°æ–¹</p><p>è‡ªåŠ¨è½¬Number</p><p>åœ¨é Number ç±»å‹è¿›è¡Œæ•°å­¦è¿ç®—ç¬¦ - * / æ—¶ï¼Œä¼šå…ˆå°†é Number è½¬æ¢æˆ Number è½¬æ¢æˆ Number ç±»å‹</p><p>+è¿ç®—ç¬¦è¦è€ƒè™‘å­—ç¬¦ä¸²çš„æƒ…å†µï¼Œåœ¨è¿›è¡ŒåŠ æ³•è¿ç®—çš„æ—¶å€™ï¼Œè‹¥æ˜¯ä¸¤è¾¹æœ‰ä¸€ä¸ªæ•°æ®ç±»å‹ä¸º Stringï¼Œä¼šä¼˜å…ˆå°†å¦ä¸€è¾¹ä¹Ÿè½¬æ¢ä¸ºStringç±»å‹ï¼Œè¿›è¡Œå­—ç¬¦ä¸²æ‹¼æ¥</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>+<span class="string">&#x27;2&#x27;</span> <span class="comment">// 12</span></span><br></pre></td></tr></table></figure><h2 id="å‡ºç°å°æ•°ç²¾åº¦ä¸¢å¤±çš„åŸå› ï¼ŒJavaScriptå¯ä»¥å­˜å‚¨çš„æœ€å¤§æ•°å­—ã€æœ€å¤§å®‰å…¨æ•°å­—ï¼ŒJavaScriptå¤„ç†å¤§æ•°å­—çš„æ–¹æ³•ã€é¿å…ç²¾åº¦ä¸¢å¤±çš„æ–¹æ³•"><a href="#å‡ºç°å°æ•°ç²¾åº¦ä¸¢å¤±çš„åŸå› ï¼ŒJavaScriptå¯ä»¥å­˜å‚¨çš„æœ€å¤§æ•°å­—ã€æœ€å¤§å®‰å…¨æ•°å­—ï¼ŒJavaScriptå¤„ç†å¤§æ•°å­—çš„æ–¹æ³•ã€é¿å…ç²¾åº¦ä¸¢å¤±çš„æ–¹æ³•" class="headerlink" title="å‡ºç°å°æ•°ç²¾åº¦ä¸¢å¤±çš„åŸå› ï¼ŒJavaScriptå¯ä»¥å­˜å‚¨çš„æœ€å¤§æ•°å­—ã€æœ€å¤§å®‰å…¨æ•°å­—ï¼ŒJavaScriptå¤„ç†å¤§æ•°å­—çš„æ–¹æ³•ã€é¿å…ç²¾åº¦ä¸¢å¤±çš„æ–¹æ³•"></a>å‡ºç°å°æ•°ç²¾åº¦ä¸¢å¤±çš„åŸå› ï¼ŒJavaScriptå¯ä»¥å­˜å‚¨çš„æœ€å¤§æ•°å­—ã€æœ€å¤§å®‰å…¨æ•°å­—ï¼ŒJavaScriptå¤„ç†å¤§æ•°å­—çš„æ–¹æ³•ã€é¿å…ç²¾åº¦ä¸¢å¤±çš„æ–¹æ³•</h2><p>ä»€ä¹ˆæ˜¯ç²¾åº¦ä¸¢å¤±</p><ol><li><p>ä¸¤ä¸ªç®€å•æµ®ç‚¹æ•°ç›¸åŠ </p><p><img src="https://pic.downk.cc/item/5faea84d1cd1bbb86bb1e4c5.jpg"></p></li><li><p>å¤§æ•´æ•°è¿ç®—</p></li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">9999999999999999</span> == <span class="number">10000000000000001</span> <span class="comment">// true</span></span><br></pre></td></tr></table></figure><h3 id="å‡ºç°å°æ•°ç²¾åº¦ä¸¢å¤±çš„åŸå› ï¼š"><a href="#å‡ºç°å°æ•°ç²¾åº¦ä¸¢å¤±çš„åŸå› ï¼š" class="headerlink" title="å‡ºç°å°æ•°ç²¾åº¦ä¸¢å¤±çš„åŸå› ï¼š"></a>å‡ºç°å°æ•°ç²¾åº¦ä¸¢å¤±çš„åŸå› ï¼š</h3><p>è®¡ç®—æœºçš„äºŒè¿›åˆ¶å®ç°å’Œä½æ•°é™åˆ¶æœ‰äº›æ•°æ— æ³•æœ‰é™è¡¨ç¤ºã€‚å°±åƒä¸€äº›æ— ç†æ•°ä¸èƒ½æœ‰é™è¡¨ç¤ºï¼Œå¦‚åœ†å‘¨ç‡ 3.1415926â€¦ï¼Œ1.3333â€¦ ç­‰ã€‚ </p><p><code>JavaScript</code> éµå¾ª <code>IEEE 754</code>è§„èŒƒï¼ŒäºŒè¿›åˆ¶å‚¨å­˜åè¿›åˆ¶çš„å°æ•°æ—¶ä¸èƒ½å®Œæ•´çš„è¡¨ç¤ºå°æ•° ï¼Œæ‰€ä»¥æ­¤æ—¶åªèƒ½æ¨¡ä»¿åè¿›åˆ¶è¿›è¡Œå››èˆäº”å…¥äº†ï¼Œä½†æ˜¯äºŒè¿›åˆ¶åªæœ‰ 0 å’Œ 1 ä¸¤ä¸ªï¼Œäºæ˜¯å˜æˆäº† 0 èˆ 1 å…¥ã€‚æ‰€ä»¥å°±é€ æˆäº†è¿ç®—æ—¶å‡ºç°è¯¯å·®ï¼Œä¸¢å¤±ç²¾åº¦ã€‚</p><h3 id="JavaScriptå¯ä»¥å­˜å‚¨çš„æœ€å¤§æ•°å­—ã€æœ€å¤§å®‰å…¨æ•°å­—"><a href="#JavaScriptå¯ä»¥å­˜å‚¨çš„æœ€å¤§æ•°å­—ã€æœ€å¤§å®‰å…¨æ•°å­—" class="headerlink" title="JavaScriptå¯ä»¥å­˜å‚¨çš„æœ€å¤§æ•°å­—ã€æœ€å¤§å®‰å…¨æ•°å­—"></a>JavaScriptå¯ä»¥å­˜å‚¨çš„æœ€å¤§æ•°å­—ã€æœ€å¤§å®‰å…¨æ•°å­—</h3><p>JS çš„æœ€å¤§å’Œæœ€å°å®‰å…¨å€¼å¯ä»¥è¿™æ ·è·å¾—: </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Number</span>.MAX_SAFE_INTEGER) <span class="comment">// 9007199254740991</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Number</span>.MIN_SAFE_INTEGER); <span class="comment">// -9007199254740991</span></span><br></pre></td></tr></table></figure><p>é€šè¿‡ä¸‹é¢çš„ä¾‹å­ï¼Œä½ ä¼šæ˜ç™½ä¸ºä»€ä¹ˆå¤§äºè¿™ä¸ªå€¼çš„è¿ç®—æ˜¯ä¸å®‰å…¨çš„: </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> x = <span class="built_in">Number</span>.MAX_SAFE_INTEGER +<span class="number">1</span>;</span><br><span class="line"><span class="built_in">console</span>.log(x === x + <span class="number">1</span>);<span class="comment">// true</span></span><br></pre></td></tr></table></figure><h3 id="JavaScriptå¤„ç†å¤§æ•°å­—çš„æ–¹æ³•ã€é¿å…ç²¾åº¦ä¸¢å¤±çš„æ–¹æ³•"><a href="#JavaScriptå¤„ç†å¤§æ•°å­—çš„æ–¹æ³•ã€é¿å…ç²¾åº¦ä¸¢å¤±çš„æ–¹æ³•" class="headerlink" title="JavaScriptå¤„ç†å¤§æ•°å­—çš„æ–¹æ³•ã€é¿å…ç²¾åº¦ä¸¢å¤±çš„æ–¹æ³•"></a>JavaScriptå¤„ç†å¤§æ•°å­—çš„æ–¹æ³•ã€é¿å…ç²¾åº¦ä¸¢å¤±çš„æ–¹æ³•</h3><ol><li><p>è®¡ç®—å°æ•°çš„æ—¶å€™ï¼Œå¯ä»¥å…ˆä¹˜ä»¥100æˆ–è€…1000ï¼Œå¾—åˆ°ä¸€ä¸ªæ­£æ•°ï¼Œåœ¨è¿›è¡Œè¿ç®—ï¼Œæœ€åå†é™¤å›æ¥ã€‚</p></li><li><p>å¯¹äºæ•´æ•°çš„è¯ï¼Œå‰ç«¯å‡ºç°è¶…å¤§æ•´æ•°çš„å‡ ç‡è¿˜æ˜¯æŒºå°çš„ï¼Œä½†æ˜¯é‡åˆ°äº†çš„è¯ä¹Ÿä¸è¦æ…Œï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>BigInt</code>ï¼Œå®ƒå¯ä»¥ä»£è¡¨ä»»æ„å¤§å°çš„æ•´æ•°ï¼Œæ³¨æ„åªèƒ½ä»£è¡¨æ•´æ•°ï¼Œè€Œä¸”ä¹Ÿä¸å—æœ€å¤§å®‰å…¨æ•´æ•°é™åˆ¶ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="number">1234567890123456789</span> * <span class="number">123</span>); <span class="comment">// 151851850485185200000</span></span><br><span class="line"><span class="comment">// è¿™ä¸ªå¾ˆæ˜æ˜¾å°±æ˜¯é”™è¯¯çš„ï¼Œæœ«ä½æ•°æ˜¯ä¸å¯èƒ½ä¸º0çš„</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±å¯ä»¥å€Ÿç”¨ BigInt æ¥è¿›è¡Œè¿ç®—äº†</span></span><br><span class="line"><span class="built_in">console</span>.log(BigInt(<span class="number">1234567890123456789</span>) * BigInt(<span class="number">123</span>)); <span class="comment">// 151851850485185182464n</span></span><br><span class="line"><span class="comment">// è¿™ä¸ªå°±æ˜¯æ­£ç¡®ç­”æ¡ˆäº†ï¼Œæœ€åé¢çš„næ˜¯è½¬æ¢æˆ BigInt æ‰€å¸¦æ¥çš„</span></span><br></pre></td></tr></table></figure></li></ol>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯å­¦ä¹ è‡ªæ£€æ¸…å• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> ç¬”è®° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å…³äºå‡½æ•°é˜²æŠ–å’Œå‡½æ•°èŠ‚æµçš„é‚£ç‚¹äº‹</title>
      <link href="debounce-throttle/"/>
      <url>debounce-throttle/</url>
      
        <content type="html"><![CDATA[<h1 id="å‡½æ•°é˜²æŠ–å’ŒèŠ‚æµ"><a href="#å‡½æ•°é˜²æŠ–å’ŒèŠ‚æµ" class="headerlink" title="å‡½æ•°é˜²æŠ–å’ŒèŠ‚æµ"></a>å‡½æ•°é˜²æŠ–å’ŒèŠ‚æµ</h1><h2 id="å‡½æ•°é˜²æŠ–ï¼ˆdebounceï¼‰"><a href="#å‡½æ•°é˜²æŠ–ï¼ˆdebounceï¼‰" class="headerlink" title="å‡½æ•°é˜²æŠ–ï¼ˆdebounceï¼‰"></a>å‡½æ•°é˜²æŠ–ï¼ˆdebounceï¼‰</h2><h3 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h3><p>å‡½æ•°é˜²æŠ–ï¼Œå°±æ˜¯æŒ‡è§¦å‘äº‹ä»¶ååœ¨ n ç§’å†…å‡½æ•°åªèƒ½æ‰§è¡Œä¸€æ¬¡ï¼Œå¦‚æœåœ¨ n ç§’å†…åˆè§¦å‘äº†äº‹ä»¶ï¼Œåˆ™ä¼šé‡æ–°è®¡ç®—å‡½æ•°æ‰§è¡Œæ—¶é—´ã€‚</p><p>ç®€å•ç‚¹è¯´å°±æ˜¯ï¼šç”¨æˆ·è¿ç»­å¤šæ¬¡è§¦å‘æŸä¸ªäº‹ä»¶ï¼Œåˆ™åªæ‰§è¡Œæœ€åä¸€æ¬¡</p><p>å°±æ¯”å¦‚æˆ‘ä»¬ä¹‹å‰æ•²è¿‡çš„ æ‰‹é£ç´æ¡ˆä¾‹ å¦‚æœç”¨æˆ·é¼ æ ‡è½»å¾®æ™ƒåŠ¨ï¼Œåœ¨æŸä¸ªå…ƒç´ ä¸Šåœç•™æ—¶é—´å¾ˆçŸ­ï¼Œåˆ™è®¤ä¸ºæ˜¯ç”¨æˆ·è¯¯è§¦å‘ï¼Œåˆ™ä¸æ‰§è¡Œæœ¬æ¬¡äº‹ä»¶å¤„ç†å‡½æ•°</p><p>æœªæ·»åŠ å‡½æ•°é˜²æŠ–ä¹‹å‰çš„æ‰‹é£ç´åŠ¨ç”»</p><p><img src="https://pic.downk.cc/item/5f8596901cd1bbb86bc74d78.gif"></p><p> æ ¹æ®ä¸Šå›¾ï¼Œæˆ‘ä»¬ä¸éš¾å‘ç°ï¼Œåœ¨ç”¨æˆ·æƒ³ç§»åŠ¨è‡³æŸä¸ªå…ƒç´ é€”ä¸­ï¼Œç»è¿‡äº†å¾ˆå¤šå…ƒç´ ï¼Œè¢«é¼ æ ‡ç§»å…¥çš„å…ƒç´ éƒ½æ‰§è¡Œäº†åŠ¨ç”»ï¼Œä½†è¿™äº›å…¶å®éƒ½ä¸æ˜¯ç”¨æˆ·æƒ³è¦çœ‹åˆ°çš„ï¼Œè¿™å°±æ˜¯æ‰€è°“çš„å‡½æ•°æŠ–åŠ¨</p><p>æ·»åŠ äº†å‡½æ•°é˜²æŠ–ä¹‹åçš„æ‰‹é£ç´</p><p><img src="https://pic.downk.cc/item/5f85979d1cd1bbb86bc7ff4e.gif"></p><h3 id="å®ç°æ€è·¯"><a href="#å®ç°æ€è·¯" class="headerlink" title="å®ç°æ€è·¯"></a>å®ç°æ€è·¯</h3><p>è¿™æ˜¯æˆ‘ä»¬æœ€åŸå§‹çš„jä»£ç </p><p>htmlã€csséƒ¨åˆ†</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">style</span>&gt;</span><br><span class="line">        * &#123;</span><br><span class="line">            <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">            <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="selector-tag">ul</span> &#123;</span><br><span class="line">            <span class="attribute">list-style</span>: none;</span><br><span class="line">            <span class="attribute">width</span>: <span class="number">2400px</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="selector-id">#box</span> &#123;</span><br><span class="line">            <span class="attribute">width</span>: <span class="number">1200px</span>;</span><br><span class="line">            <span class="attribute">height</span>: <span class="number">400px</span>;</span><br><span class="line">            <span class="attribute">border</span>: <span class="number">2px</span> solid red;</span><br><span class="line">            <span class="attribute">margin</span>: <span class="number">100px</span> auto;</span><br><span class="line">            <span class="attribute">overflow</span>: hidden;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="selector-id">#box</span> <span class="selector-tag">li</span> &#123;</span><br><span class="line">            <span class="attribute">width</span>: <span class="number">240px</span>;</span><br><span class="line">            <span class="attribute">height</span>: <span class="number">400px</span>;</span><br><span class="line">            <span class="attribute">float</span>: left;</span><br><span class="line">        &#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;box&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;./images/collapse/1.jpg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;./images/collapse/2.jpg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;./images/collapse/3.jpg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;./images/collapse/4.jpg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;./images/collapse/5.jpg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;content&quot;</span> <span class="attr">style</span>=<span class="string">&quot;height:150px;line-height:150px;text-align:center; color: #fff;background-color:#ccc;font-size:80px;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>jséƒ¨åˆ†ä»£ç </p><p>å…¶ä¸­ animationSlow æ˜¯æˆ‘å°è£…çš„ä¸€ä¸ªç¼“åŠ¨åŠ¨ç”»ï¼Œè°ƒç”¨æ–¹æ³•ä¸º animationSlow(â€œéœ€è¦è¿›è¡ŒåŠ¨ç”»çš„domå¯¹è±¡â€,â€éœ€è¦è¿›è¡Œä¿®æ”¹çš„æ ·å¼ï¼Œæ˜¯ä¸€ä¸ªå¯¹è±¡ç±»å‹â€)</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¼•å…¥æˆ‘ä»¬è‡ªå·±å°è£…çš„ç¼“åŠ¨åŠ¨ç”»</span></span><br><span class="line">&lt;script src=<span class="string">&quot;./animationSlow.js&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">var</span> box = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;#box&#x27;</span>);              <span class="comment">// è¿™æ˜¯æœ€å¤–é¢çš„å¤§ç›’å­</span></span><br><span class="line"><span class="keyword">var</span> liList = <span class="built_in">document</span>.querySelectorAll(<span class="string">&#x27;#box li&#x27;</span>);     <span class="comment">// è¿™æ˜¯é‡Œé¢çš„æ¯ä¸€ä¸ªå•†å“</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//2.æ³¨å†Œäº‹ä»¶</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//2.1 liå…ƒç´ æ³¨å†Œé¼ æ ‡ç§»å…¥äº‹ä»¶</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; liList.length; i++) &#123;</span><br><span class="line">            liList[i].onmouseenter = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">                <span class="comment">//3. æ’ä»–æ€æƒ³ </span></span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">var</span> j = <span class="number">0</span>; j &lt; liList.length; j++) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (liList[j] == <span class="built_in">this</span>) &#123;</span><br><span class="line">                        animationSlow(liList[j], &#123;</span><br><span class="line">                            width: <span class="number">800</span></span><br><span class="line">                        &#125;);</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        animationSlow(liList[j], &#123;</span><br><span class="line">                            width: <span class="number">100</span></span><br><span class="line">                        &#125;);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;;</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//2.2 ç»™boxæ³¨å†Œé¼ æ ‡ç§»å‡ºäº‹ä»¶</span></span><br><span class="line">        box.onmouseleave = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">&#x27;1&#x27;</span>);</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">var</span> j = <span class="number">0</span>; j &lt; liList.length; j++) &#123;</span><br><span class="line">                animationSlow(liList[j], &#123;</span><br><span class="line">                    width: <span class="number">240</span></span><br><span class="line">                &#125;);</span><br><span class="line">            &#125;;</span><br><span class="line">        &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>åˆ†ææ€è·¯ï¼š</p><ol><li>å£°æ˜å…¨å±€å˜é‡å­˜å‚¨å®šæ—¶å™¨ID</li><li>è§¦å‘äº‹ä»¶çš„æ—¶å€™ï¼Œä¸ç«‹å³æ‰§è¡Œï¼Œè€Œæ˜¯å¼€å¯å®šæ—¶å™¨ï¼Œè¿‡ä¸€æ®µæ—¶é—´è§¦å‘</li><li>ç”¨æˆ·è¿ç»­è§¦å‘äº‹ä»¶çš„æ—¶å€™ï¼Œæ¸…é™¤ä¹‹å‰çš„å®šæ—¶å™¨ï¼Œå…¨å±€å˜é‡åªä¼šå­˜å‚¨æœ€åä¸€æ¬¡è§¦å‘çš„äº‹ä»¶å®šæ—¶å™¨ï¼ˆå‰é¢çš„éƒ½ä¼šè¢«æ¸…é™¤æ‰ï¼Œè®¤ä¸ºè¿™æ˜¯ç”¨æˆ·è¯¯æ“ä½œäº§ç”ŸæŠ–åŠ¨ï¼‰</li></ol><p><strong>æ³¨æ„ç‚¹ï¼šåœ¨å®šæ—¶å™¨å†…éƒ¨çš„ <code>this</code> å…³é”®å­—ï¼Œæ— æ¡ä»¶æŒ‡å‘windowï¼Œæ‰€ä»¥æˆ‘ä»¬è¿™é‡Œè¦è®°å¾—ä½¿ç”¨ <code>bind</code> é‡æ–°ä¿®æ”¹å®šæ—¶å™¨ä¸­çš„ <code>this</code> æŒ‡å‘</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å£°æ˜å…¨å±€å˜é‡å­˜å‚¨å®šæ—¶å™¨ID</span></span><br><span class="line"><span class="keyword">var</span> timeId = <span class="literal">null</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//2.1 liå…ƒç´ æ³¨å†Œé¼ æ ‡ç§»å…¥äº‹ä»¶</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; liList.length; i++) &#123;</span><br><span class="line">            liList[i].onmouseenter = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">                <span class="comment">// æ¯æ¬¡è¢«è§¦å‘äº‹ä»¶å‰éƒ½è¦æ¸…é™¤ä¹‹å‰çš„å®šæ—¶å™¨ï¼Œä¿è¯åªæ‰§è¡Œæœ€åä¸€æ¬¡</span></span><br><span class="line">                <span class="built_in">clearInterval</span>(timeId)</span><br><span class="line">                <span class="comment">// è§¦å‘äº‹ä»¶çš„æ—¶å€™ï¼Œä¸ç«‹å³æ‰§è¡Œï¼Œè€Œæ˜¯å¼€å¯å®šæ—¶å™¨ï¼Œè¿‡ä¸€æ®µæ—¶é—´è§¦å‘</span></span><br><span class="line">                timeId = <span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">                        <span class="keyword">for</span> (<span class="keyword">var</span> j = <span class="number">0</span>; j &lt; liList.length; j++) &#123;</span><br><span class="line">                            <span class="keyword">if</span> (liList[j] == <span class="built_in">this</span>) &#123;</span><br><span class="line">                                animationSlow(liList[j], &#123;</span><br><span class="line">                                    width: <span class="number">800</span></span><br><span class="line">                                &#125;);</span><br><span class="line">                            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                                animationSlow(liList[j], &#123;</span><br><span class="line">                                    width: <span class="number">100</span></span><br><span class="line">                                &#125;);</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;.bind(<span class="built_in">this</span>), <span class="number">500</span>)</span><br><span class="line">            &#125;;</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//2.2 ç»™boxæ³¨å†Œé¼ æ ‡ç§»å‡ºäº‹ä»¶</span></span><br><span class="line">        box.onmouseleave = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">&#x27;1&#x27;</span>);</span><br><span class="line">            <span class="built_in">clearInterval</span>(timeId)</span><br><span class="line">            timeId = <span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">                    <span class="keyword">for</span> (<span class="keyword">var</span> j = <span class="number">0</span>; j &lt; liList.length; j++) &#123;</span><br><span class="line">                        animationSlow(liList[j], &#123;</span><br><span class="line">                            width: <span class="number">240</span></span><br><span class="line">                        &#125;);</span><br><span class="line">                    &#125;;</span><br><span class="line">            &#125;.bind(<span class="built_in">this</span>), <span class="number">500</span>)</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure><p>è¿™æ ·ï¼Œç®€å•çš„å‡½æ•°é˜²æŠ–å°±å¯ä»¥å®ç°äº†</p><h3 id="å°è£…ä¸€ä¸ªç®€å•çš„ä¸‡èƒ½é˜²æŠ–å‡½æ•°"><a href="#å°è£…ä¸€ä¸ªç®€å•çš„ä¸‡èƒ½é˜²æŠ–å‡½æ•°" class="headerlink" title="å°è£…ä¸€ä¸ªç®€å•çš„ä¸‡èƒ½é˜²æŠ–å‡½æ•°"></a>å°è£…ä¸€ä¸ªç®€å•çš„ä¸‡èƒ½é˜²æŠ–å‡½æ•°</h3><ol><li><p>å‡½æ•°é˜²æŠ–éœ€è¦ä½¿ç”¨å®šæ—¶å™¨idï¼Œè¿™ä¸ªidä¸èƒ½æ˜¯å±€éƒ¨çš„ï¼ˆå‡½æ•°èµ°å®Œä¹‹åä¼šè¢«å›æ”¶ï¼‰</p></li><li><p>å®šæ—¶å™¨idä¹Ÿä¸èƒ½æ˜¯å…¨å±€çš„ï¼Œå› ä¸ºä¼šé€ æˆå…¨å±€å˜é‡æ±¡æŸ“ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦å°½é‡é¿å…ä½¿ç”¨å…¨å±€å˜é‡</p></li><li><p>è§£å†³æ–¹æ¡ˆï¼š</p><p>ï¼ˆ1ï¼‰ä½¿ç”¨é—­åŒ…å»¶é•¿å±€éƒ¨å˜é‡ç”Ÿå‘½å‘¨æœŸï¼Œä½†æ˜¯é—­åŒ…è¯­æ³•å¾ˆç¹ç </p><p>ï¼ˆ2ï¼‰åˆ©ç”¨å‡½æ•°æœ¬èº«ä¹Ÿæ˜¯å¯¹è±¡ï¼Œä½¿ç”¨å‡½æ•°è‡ªèº«çš„é™æ€æˆå‘˜æ¥å­˜å‚¨å®šæ—¶å™¨ID</p></li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">debounce</span>(<span class="params">fn, time</span>) </span>&#123;</span><br><span class="line"> <span class="comment">// å¼€å¯å®šæ—¶å™¨ä¹‹å‰å…ˆæ¸…é™¤æ‰ä¹‹å‰çš„å®šæ—¶å™¨ </span></span><br><span class="line">    <span class="built_in">clearInterval</span>(debounce.timeId)</span><br><span class="line"> <span class="comment">// å¼€å¯å®šæ—¶å™¨ï¼Œæ—¶é—´é—´éš”è§¦å‘</span></span><br><span class="line">    debounce.timeId = <span class="built_in">setInterval</span>(fn, time)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ ·ï¼Œæˆ‘ä»¬å°±å®Œæˆäº†ä¸€ä¸ªç®€å•çš„ä¸‡èƒ½é˜²æŠ–å‡½æ•°çš„å°è£…</p><p>æˆ‘ä»¬å®é™…ä½¿ç”¨ä¸€ä¸‹</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; liList.length; i++) &#123;</span><br><span class="line">     liList[i].onmouseenter = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">         <span class="comment">//3. æ’ä»–æ€æƒ³ </span></span><br><span class="line">         debounce(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">             <span class="built_in">console</span>.log(<span class="string">&#x27;1&#x27;</span>);</span><br><span class="line">             <span class="comment">// clearInterval(timeId)</span></span><br><span class="line">             <span class="comment">// timeId = setInterval(function() &#123;</span></span><br><span class="line">             <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>; j &lt; liList.length; j++) &#123;</span><br><span class="line">                 <span class="keyword">if</span> (liList[j] == <span class="built_in">this</span>) &#123;</span><br><span class="line">                     animationSlow(liList[j], &#123;</span><br><span class="line">                         width: <span class="number">800</span></span><br><span class="line">                     &#125;);</span><br><span class="line">                 &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                     animationSlow(liList[j], &#123;</span><br><span class="line">                         width: <span class="number">100</span></span><br><span class="line">                     &#125;);</span><br><span class="line">                 &#125;</span><br><span class="line">             &#125;</span><br><span class="line">         &#125;.bind(<span class="built_in">this</span>), <span class="number">500</span>)</span><br><span class="line">     &#125;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="ä½¿ç”¨é—­åŒ…å°è£…ä¸€ä¸ªä¸‡èƒ½é˜²æŠ–å‡½æ•°"><a href="#ä½¿ç”¨é—­åŒ…å°è£…ä¸€ä¸ªä¸‡èƒ½é˜²æŠ–å‡½æ•°" class="headerlink" title="ä½¿ç”¨é—­åŒ…å°è£…ä¸€ä¸ªä¸‡èƒ½é˜²æŠ–å‡½æ•°"></a>ä½¿ç”¨é—­åŒ…å°è£…ä¸€ä¸ªä¸‡èƒ½é˜²æŠ–å‡½æ•°</h3><h4 id="ç½‘ä¸Šå¸¸è§çš„ä¸€ä¸ªé˜²æŠ–å‡½æ•°"><a href="#ç½‘ä¸Šå¸¸è§çš„ä¸€ä¸ªé˜²æŠ–å‡½æ•°" class="headerlink" title="ç½‘ä¸Šå¸¸è§çš„ä¸€ä¸ªé˜²æŠ–å‡½æ•°"></a>ç½‘ä¸Šå¸¸è§çš„ä¸€ä¸ªé˜²æŠ–å‡½æ•°</h4><p>è¿™ä¸ªæ˜¯æœªé˜²æŠ–ä¹‹å‰çš„ä»£ç </p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;content&quot;</span> <span class="attr">style</span>=<span class="string">&quot;height:150px;line-height:150px;text-align:center; color: #fff;background-color:#ccc;font-size:80px;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> num = <span class="number">1</span>;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> content = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;content&#x27;</span>);</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">count</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line">        content.innerHTML = num++;</span><br><span class="line">    &#125;;</span><br><span class="line">    content.onmousemove = count;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>è¿™ä¸ªæ˜¯è¿˜æœªæ·»åŠ é˜²æŠ–çš„æ•ˆæœæ¼”ç¤º</p><p><img src="https://upload-images.jianshu.io/upload_images/4842858-652a8eb5c73db0c7.gif"></p><p>è¿™æ˜¯ç½‘ä¸Šå¸¸è§çš„é˜²æŠ–å‡½æ•°</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">debounce</span>(<span class="params">func, wait</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">let</span> timeout;</span><br><span class="line">            <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">                <span class="keyword">let</span> context = <span class="built_in">this</span>;</span><br><span class="line">                <span class="keyword">let</span> args = <span class="built_in">arguments</span>;</span><br><span class="line">                <span class="keyword">if</span> (timeout) <span class="built_in">clearTimeout</span>(timeout);</span><br><span class="line">                timeout = <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">                    func.apply(context, args)</span><br><span class="line">                &#125;, wait)</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨é˜²æŠ–å‡½æ•°</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">content.onmousemove = debounce(count,<span class="number">1000</span>);</span><br></pre></td></tr></table></figure><p>æ·»åŠ é˜²æŠ–å‡½æ•°ä¹‹åçš„æ•ˆæœ</p><p><img src="https://upload-images.jianshu.io/upload_images/4842858-1f6389b9dd9e5ef9.gif"></p><p>é‚£å°±è®©æˆ‘ä»¬ç”¨ç½‘ä¸Šçš„è¿™ä¸ªé˜²æŠ–å‡½æ•°è¿›è¡Œè¯•éªŒ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; liList.length; i++) &#123;</span><br><span class="line">    liList[i].onmouseenter = debounce(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="comment">//3. æ’ä»–æ€æƒ³ </span></span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;1&#x27;</span>);</span><br><span class="line">        <span class="comment">// clearInterval(timeId)</span></span><br><span class="line">        <span class="comment">// timeId = setInterval(function() &#123;</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>; j &lt; liList.length; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (liList[j] == <span class="built_in">this</span>) &#123;</span><br><span class="line">                animationSlow(liList[j], &#123;</span><br><span class="line">                    width: <span class="number">800</span></span><br><span class="line">                &#125;);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                animationSlow(liList[j], &#123;</span><br><span class="line">                    width: <span class="number">100</span></span><br><span class="line">                &#125;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;, <span class="number">500</span>)</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>æ•ˆæœæ¼”ç¤º</p><p><img src="https://pic.downk.cc/item/5f8597df1cd1bbb86bc828a9.gif"></p><h5 id="å°ç»“ï¼š"><a href="#å°ç»“ï¼š" class="headerlink" title="å°ç»“ï¼š"></a>å°ç»“ï¼š</h5><p>æˆ‘ä»¬ä¼šå‘ç°ï¼šå®šæ—¶å™¨æ˜¯æ·»åŠ äº†ï¼Œæ˜¯åœ¨ 500ms åæ‰§è¡Œï¼Œä½†æ˜¯ï¼Œä¸ºä»€ä¹ˆç»è¿‡çš„æ¯ä¸€ä¸ªå…ƒç´ éƒ½ä¼šæ‰§è¡Œï¼Œè€Œä¸ä¼šè¢«æ¸…é™¤å‘¢ï¼Ÿ</p><p>è¿™æ˜¯å› ä¸ºé—­åŒ…è¯­æ³•çš„ç‰¹æ€§ï¼Œåœ¨æˆ‘ä»¬åˆ©ç”¨ <code>for</code> å¾ªç¯ç»™æ¯ä¸€ä¸ªå…ƒç´ æ·»åŠ é¼ æ ‡ç§»å…¥äº‹ä»¶çš„æ—¶å€™å°±å·²ç»ç»™æ¯ä¸€ä¸ªå…ƒç´ æ·»åŠ äº†å®šæ—¶å™¨ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬åœ¨è¿™é‡Œçš„è¯ï¼Œè¦ä½¿ç”¨å‡½æ•°çš„é™æ€æˆå‘˜æ¥å­˜å‚¨å®šæ—¶å™¨æ‰èƒ½ä¿è¯æˆ‘ä»¬åªå£°æ˜äº†ä¸€ä¸ªå®šæ—¶å™¨ï¼Œä¸ä¼šå‡ºç°ä¸Šé¢çš„æƒ…å†µ</p><h4 id="æ”¹è‰¯åçš„é˜²æŠ–å‡½æ•°"><a href="#æ”¹è‰¯åçš„é˜²æŠ–å‡½æ•°" class="headerlink" title="æ”¹è‰¯åçš„é˜²æŠ–å‡½æ•°"></a>æ”¹è‰¯åçš„é˜²æŠ–å‡½æ•°</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">debounce</span>(<span class="params">fn, time</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">let</span> that = <span class="built_in">this</span></span><br><span class="line">        <span class="keyword">let</span> args = <span class="built_in">arguments</span> <span class="comment">// argumentsæ–¹æ³•å¯ä»¥æ‹¿åˆ°ä¼ å…¥çš„æ‰€æœ‰å‚æ•°,</span></span><br><span class="line">        <span class="keyword">if</span> (debounce.timeId) <span class="built_in">clearTimeout</span>(debounce.timeId);</span><br><span class="line">        debounce.timeId = <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="comment">// æ³¨æ„æˆ‘ä»¬è¿™é‡Œå…¶å®æ˜¯å¯ä»¥ä½¿ç”¨ç®­å¤´å‡½æ•°çš„ï¼Œ</span></span><br><span class="line">            <span class="comment">//å°±å¯ä»¥ç›´æ¥ä½¿ç”¨applyæ–¹æ³•æŒ‡å‘thisï¼Œ</span></span><br><span class="line">            <span class="comment">//è€Œä¸ç”¨åœ¨å®šæ—¶å™¨å¤–é¢å­˜å‚¨å½“å‰çš„thisæŒ‡å‘</span></span><br><span class="line">            fn.apply(that, args) </span><br><span class="line">            <span class="comment">// applyæ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ é‡å®šå‘çš„thisæŒ‡å‘ï¼Œç¬¬äºŒä¸ªå¯¹è±¡æ˜¯ ä¼ ç»™fnå‡½æ•° çš„å‚æ•°</span></span><br><span class="line">        &#125;, time)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ä¸Šé¢æ”¹è‰¯çš„é˜²æŠ–å‡½æ•°å°±å¯ä»¥å®ç°å‡½æ•°é˜²æŠ–äº†ï¼Œä½¿ç”¨æ–¹æ³•æ˜¯ä¸€æ ·çš„</p><h5 id="å°ç»“ï¼š-1"><a href="#å°ç»“ï¼š-1" class="headerlink" title="å°ç»“ï¼š"></a>å°ç»“ï¼š</h5><h2 id="å‡½æ•°èŠ‚æµï¼ˆthrottleï¼‰"><a href="#å‡½æ•°èŠ‚æµï¼ˆthrottleï¼‰" class="headerlink" title="å‡½æ•°èŠ‚æµï¼ˆthrottleï¼‰"></a>å‡½æ•°èŠ‚æµï¼ˆthrottleï¼‰</h2><h3 id="æ¦‚å¿µï¼š"><a href="#æ¦‚å¿µï¼š" class="headerlink" title="æ¦‚å¿µï¼š"></a>æ¦‚å¿µï¼š</h3><p>é™åˆ¶ä¸€ä¸ªå‡½æ•°åœ¨ä¸€å®šæ—¶é—´å†…åªèƒ½æ‰§è¡Œä¸€æ¬¡ã€‚</p><p>ç®€å•ç‚¹è¯´å°±æ˜¯ï¼šè®©ä¸€ä¸ªäº‹ä»¶ï¼Œåœ¨å•ä½æ—¶é—´ï¼ˆ500msï¼‰å†…ï¼Œåªèƒ½æ‰§è¡Œä¸€æ¬¡</p><h3 id="å‡½æ•°èŠ‚æµçš„ä½œç”¨"><a href="#å‡½æ•°èŠ‚æµçš„ä½œç”¨" class="headerlink" title="å‡½æ•°èŠ‚æµçš„ä½œç”¨"></a>å‡½æ•°èŠ‚æµçš„ä½œç”¨</h3><p>å‡½æ•°èŠ‚æµæ˜¯ç”¨æ¥é™åˆ¶é«˜é¢‘äº‹ä»¶çš„è§¦å‘é¢‘ç‡çš„ï¼Œé‚£ä»€ä¹ˆæ˜¯é«˜é¢‘äº‹ä»¶å‘¢ï¼Ÿ</p><ul><li><p>é«˜é¢‘äº‹ä»¶ï¼šè§¦å‘é¢‘ç‡æé«˜çš„äº‹ä»¶ã€‚ä¾‹å¦‚  <code>onmousemove</code> (é¼ æ ‡ç§»åŠ¨)ã€<code>onscroll</code> (æ»šåŠ¨æ¡äº‹ä»¶)ã€<code>onresize</code> (å¤§å°å˜åŒ–äº‹ä»¶)</p><p>ç‰¹æ®Šæƒ…å†µï¼šé«˜é¢‘è§¦å‘ï¼ˆäº‹ä»¶æœ¬èº«ä¸æ˜¯é«˜é¢‘ï¼Œä½†æ˜¯ç”¨æˆ·å¯ä»¥é€šè¿‡æ‰‹é€Ÿæ¥å®ç°é«˜é¢‘è§¦å‘ï¼Œä¾‹å¦‚æŠ¢è´­æŒ‰é’®çš„ç–¯ç‹‚ç‚¹å‡»ï¼‰</p></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> num = <span class="number">0</span></span><br><span class="line"><span class="built_in">window</span>.onmousemove = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    num ++</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;æˆ‘è¢«è§¦å‘äº†&#x27;</span>+num+<span class="string">&#x27;æ¬¡&#x27;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ•ˆæœæ¼”ç¤º</p><p><img src="https://pic.downk.cc/item/5f85982e1cd1bbb86bc8506b.gif"></p><p>ä½ ä¼šå‘ç°ï¼šæˆ‘ä»¬åœ¨æµè§ˆå™¨ä¸­ç§»åŠ¨äº†ä¸€ä¸‹ï¼Œäº‹ä»¶å°±è§¦å‘äº†å‡ åä¸Šç™¾æ¬¡</p><h4 id="é«˜é¢‘äº‹ä»¶çš„å±å®³ï¼š"><a href="#é«˜é¢‘äº‹ä»¶çš„å±å®³ï¼š" class="headerlink" title="é«˜é¢‘äº‹ä»¶çš„å±å®³ï¼š"></a>é«˜é¢‘äº‹ä»¶çš„å±å®³ï¼š</h4><ol><li>æµªè´¹èµ„æºï¼Œé™ä½ç½‘é¡µé€Ÿåº¦ï¼Œç”šè‡³å¯¼è‡´æµè§ˆå™¨å¡æ­»</li></ol><p>â€‹    ç”±äºé«˜é¢‘äº‹ä»¶è§¦å‘éå¸¸é¢‘ç¹ï¼Œå¯èƒ½1ç§’ä¼šæ‰§è¡Œå‡ åæ¬¡ç”šè‡³ä¸Šç™¾æ¬¡ï¼Œå¦‚æœåœ¨è¿™äº›å‡½æ•°å†…éƒ¨ï¼Œåˆè°ƒç”¨äº†å…¶ä»–å‡½æ•°ï¼Œå°¤å…¶æ˜¯æ“ä½œäº†DOMï¼ˆDOMæ“ä½œè€—æ€§èƒ½ä¸”å¯èƒ½å¯¼è‡´æµè§ˆå™¨å‡ºç°å›æµï¼‰ï¼Œä¸ä»…ä¼šé™ä½æ•´ä¸ªç½‘é¡µçš„è¿è¡Œé€Ÿï¼Œç”šè‡³ä¼šé€ æˆæµè§ˆå™¨å¡æ­»ï¼Œå¥”æºƒ</p><ol><li>ç½‘é€Ÿå µå¡</li></ol><p>â€‹     å¦‚æœåœ¨é«˜é¢‘äº‹ä»¶ä¸­ï¼Œè¿›è¡Œäº†é‡å¤çš„ajaxè¯·æ±‚ï¼Œå¯èƒ½ä¼šå¯¼è‡´è¯·æ±‚æ•°æ®å‡ºç°æ··ä¹±ï¼Œå¹¶ä¸”è¿˜å ç”¨æœåŠ¡å™¨å®½å¸¦å¢åŠ æœåŠ¡å™¨å‹åŠ›ï¼ˆé—´æ¥å¢åŠ æœåŠ¡å™¨æˆæœ¬ï¼‰</p><h3 id="å‡½æ•°èŠ‚æµæ€è·¯"><a href="#å‡½æ•°èŠ‚æµæ€è·¯" class="headerlink" title="å‡½æ•°èŠ‚æµæ€è·¯"></a>å‡½æ•°èŠ‚æµæ€è·¯</h3><ol><li>å£°æ˜å˜é‡ è®°å½• å½“å‰æ—¶é—´</li><li>åˆ¤æ–­å½“å‰è§¦å‘äº‹ä»¶çš„æ—¶é—´é—´éš”</li><li>æ—¶é—´è§¦å‘æˆåŠŸåï¼Œå­˜å‚¨å½“å‰æ—¶é—´ï¼Œä½œä¸ºä¸‹æ¬¡è§¦å‘äº‹ä»¶çš„å‚ç…§æ—¶é—´</li></ol><p>æ‹“å±•ï¼šè¿™é‡Œåˆ¤æ–­æ—¶é—´é—´éš”æˆ‘ä»¬è¦ç”¨åˆ°æ—¶é—´æˆ³ï¼Œé‚£ä»€ä¹ˆæ˜¯æ—¶é—´æˆ³å‘¢ï¼Ÿ</p><p>â€‹           æ—¶é—´æˆ³å°±æ˜¯æ¥ç»Ÿä¸€å…¨çƒçš„æ—¶é—´çš„ä¸€ä¸ªæ•°å­—ï¼ŒæŒ‡çš„æ˜¯æ ¼æ—å¨æ²»æ—¶é—´1970å¹´01æœˆ01æ—¥00æ—¶00åˆ†00ç§’(åŒ—äº¬æ—¶é—´1970å¹´01æœˆ01æ—¥08æ—¶00åˆ†00ç§’)èµ·è‡³ç°åœ¨çš„æ€»ç§’æ•°ï¼Œæ˜¯ä¸€ä¸ªéå¸¸å¤§çš„æ•°å­—ï¼Œå•ä½æ˜¯æ¯«ç§’(ms)</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> num = <span class="number">0</span></span><br><span class="line"><span class="built_in">window</span>.onmousemove = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="comment">// è·å–å½“å‰çš„æ—¶é—´æˆ³</span></span><br><span class="line">    <span class="keyword">let</span> currentTime = <span class="keyword">new</span> <span class="built_in">Date</span>().getTime()</span><br><span class="line">    <span class="comment">// åˆ¤æ–­æ˜¯å¦å·²ç»é—´éš”500ms</span></span><br><span class="line">    <span class="keyword">if</span>(currentTime - lastTime &gt;<span class="number">500</span>)&#123;</span><br><span class="line">        num ++</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;æˆ‘è¢«è§¦å‘äº†&#x27;</span>+num+<span class="string">&#x27;æ¬¡&#x27;</span>)</span><br><span class="line">        <span class="comment">// å°†å½“å‰æ—¶é—´ä½œä¸ºä¸‹æ¬¡è§¦å‘äº‹ä»¶çš„å‚è€ƒæ—¶é—´</span></span><br><span class="line">        lastTime = currentTime</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å°è£…ä¸€ä¸ªç®€å•çš„ä¸‡èƒ½èŠ‚æµå‡½æ•°"><a href="#å°è£…ä¸€ä¸ªç®€å•çš„ä¸‡èƒ½èŠ‚æµå‡½æ•°" class="headerlink" title="å°è£…ä¸€ä¸ªç®€å•çš„ä¸‡èƒ½èŠ‚æµå‡½æ•°"></a>å°è£…ä¸€ä¸ªç®€å•çš„ä¸‡èƒ½èŠ‚æµå‡½æ•°</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">throttle</span>(<span class="params">fn,time</span>)</span>&#123;</span><br><span class="line">    <span class="comment">// åˆ¤æ–­æ˜¯å¦å­˜åœ¨ throttle.lastTime ä¸å­˜åœ¨å°±å£°æ˜ä¸º0ï¼Œå¦åˆ™åœ¨ä½¿ç”¨çš„æ—¶å€™å°±ä¼šè‡ªåŠ¨è½¬æˆ NaN </span></span><br><span class="line">    <span class="keyword">if</span>(!throttle.lastTime)&#123;</span><br><span class="line">        <span class="keyword">let</span> throttle = <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// è·å–å½“å‰çš„æ—¶é—´æˆ³</span></span><br><span class="line">    <span class="keyword">let</span> currentTime = <span class="keyword">new</span> <span class="built_in">Date</span>().getTime()</span><br><span class="line">    <span class="keyword">if</span>(currentTime - throttle.lastTime &gt;=time) &#123;</span><br><span class="line">        fn()</span><br><span class="line">        <span class="comment">// å°†å½“å‰çš„æ—¶é—´æˆ³èµ‹å€¼ç»™ throttle.lastTime ä½œä¸ºä¸‹æ¬¡è§¦å‘äº‹ä»¶çš„å‚è€ƒæ—¶é—´</span></span><br><span class="line">        throttle.lastTime = currentTime</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ ·ï¼Œä¸€ä¸ªç®€å•çš„ä¸‡èƒ½èŠ‚æµå‡½æ•°å°±å®Œæˆäº†</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> num = <span class="number">0</span></span><br><span class="line"><span class="built_in">window</span>.onmousemove = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    throttle(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        num ++</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;æˆ‘è¢«è§¦å‘äº†&#x27;</span>+num+<span class="string">&#x27;æ¬¡&#x27;</span>)</span><br><span class="line">    &#125;,<span class="number">500</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ•ˆæœæ¼”ç¤º</p><p><img src="https://pic.downk.cc/item/5f85999d1cd1bbb86bc92896.gif"></p><p>è°ƒç”¨æˆ‘ä»¬å°è£…çš„ä¸‡èƒ½èŠ‚æµå‡½æ•°ï¼Œä½ ä¼šå‘ç°ï¼Œæˆ‘ä»¬åœ¨æµè§ˆå™¨ä¸­ä¸ç®¡ä½ æ€ä¹ˆç§»åŠ¨ï¼Œæˆ‘ä»¬éƒ½æ˜¯ åœ¨500mså†…æ‰§è¡Œä¸€æ¬¡</p><h4 id="æ³¨æ„ç‚¹ï¼š"><a href="#æ³¨æ„ç‚¹ï¼š" class="headerlink" title="æ³¨æ„ç‚¹ï¼š"></a>æ³¨æ„ç‚¹ï¼š</h4><p>1.èŠ‚æµå‡½æ•°éœ€è¦ä½¿ç”¨ä½¿ç”¨å˜é‡å­˜å‚¨ä¸Šä¸€æ¬¡è§¦å‘äº‹ä»¶ï¼Œä¸èƒ½æ˜¯å±€éƒ¨çš„ï¼ˆå‡½æ•°èµ°å®Œå°±è¢«å›æ”¶ï¼‰<br>2.è¿™ä¸ªå˜é‡ä¹Ÿä¸èƒ½æ˜¯å…¨å±€çš„ï¼Œé€ æˆå…¨å±€å˜é‡æ±¡æŸ“<br>3.è§£å†³æ–¹æ¡ˆï¼šåˆ©ç”¨å‡½æ•°æœ¬èº«ä¹Ÿæ˜¯å¯¹è±¡ï¼Œä½¿ç”¨å‡½æ•°çš„é™æ€æˆå‘˜æ¥å­˜å‚¨ ä¸Šä¸€ä¸ªè§¦å‘æ—¶é—´</p><h3 id="ä½¿ç”¨é—­åŒ…å°è£…ä¸€ä¸ªä¸‡èƒ½èŠ‚æµå‡½æ•°"><a href="#ä½¿ç”¨é—­åŒ…å°è£…ä¸€ä¸ªä¸‡èƒ½èŠ‚æµå‡½æ•°" class="headerlink" title="ä½¿ç”¨é—­åŒ…å°è£…ä¸€ä¸ªä¸‡èƒ½èŠ‚æµå‡½æ•°"></a>ä½¿ç”¨é—­åŒ…å°è£…ä¸€ä¸ªä¸‡èƒ½èŠ‚æµå‡½æ•°</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">throttle</span>(<span class="params">fn, time</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// å¤–éƒ¨å‡½æ•°å£°æ˜å±€éƒ¨å˜é‡ lastTime </span></span><br><span class="line">    <span class="keyword">let</span> lastTime = <span class="number">0</span></span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="comment">// è·å–å½“å‰çš„æ—¶é—´æˆ³</span></span><br><span class="line">        <span class="keyword">let</span> currentTime = <span class="keyword">new</span> <span class="built_in">Date</span>().getTime()</span><br><span class="line">        <span class="keyword">if</span> (currentTime - lastTime &gt;= time) &#123;</span><br><span class="line">            fn()</span><br><span class="line">            <span class="comment">// å°†å½“å‰çš„æ—¶é—´æˆ³èµ‹å€¼ç»™ throttle.lastTime ä½œä¸ºä¸‹æ¬¡è§¦å‘äº‹ä»¶çš„å‚è€ƒæ—¶é—´</span></span><br><span class="line">            lastTime = currentTime</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è°ƒç”¨ä½¿ç”¨é—­åŒ…å°è£…çš„èŠ‚æµå‡½æ•°</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.onmousemove = throttle(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    num++</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;æˆ‘è¢«è§¦å‘äº†&#x27;</span> + num + <span class="string">&#x27;æ¬¡&#x27;</span>)</span><br><span class="line">&#125;, <span class="number">500</span>)</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬ä¼šå‘ç°æ•ˆæœéƒ½æ˜¯ä¸€æ ·çš„</p><p><strong>æ³¨æ„é—­åŒ…è¯­æ³•çš„ä½¿ç”¨ï¼Œéœ€è¦å¤šæ¬¡ä½¿ç”¨çš„å˜é‡éœ€è¦åœ¨å¤–éƒ¨å‡½æ•°å£°æ˜</strong></p><h2 id="å‡½æ•°é˜²æŠ–å’Œå‡½æ•°èŠ‚æµçš„ç®€å•æ€»ç»“"><a href="#å‡½æ•°é˜²æŠ–å’Œå‡½æ•°èŠ‚æµçš„ç®€å•æ€»ç»“" class="headerlink" title="å‡½æ•°é˜²æŠ–å’Œå‡½æ•°èŠ‚æµçš„ç®€å•æ€»ç»“"></a>å‡½æ•°é˜²æŠ–å’Œå‡½æ•°èŠ‚æµçš„ç®€å•æ€»ç»“</h2><h3 id="æ¦‚å¿µ-1"><a href="#æ¦‚å¿µ-1" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h3><ol><li>å‡½æ•°é˜²æŠ–ï¼šç”¨æˆ·å¤šæ¬¡è§¦å‘äº‹ä»¶ï¼Œä»¥æœ€åä¸€æ¬¡ä¸ºå‡†</li><li>å‡½æ•°èŠ‚æµï¼šé™åˆ¶äº‹ä»¶çš„æ‰§è¡Œå‘¨æœŸï¼ˆ500mså†…åªä¼šæ‰§è¡Œä¸€æ¬¡</li></ol><h3 id="å‡½æ•°é˜²æŠ–ä¸å‡½æ•°èŠ‚æµå¼‚åŒç‚¹-ä¸-åº”ç”¨åœºæ™¯"><a href="#å‡½æ•°é˜²æŠ–ä¸å‡½æ•°èŠ‚æµå¼‚åŒç‚¹-ä¸-åº”ç”¨åœºæ™¯" class="headerlink" title="å‡½æ•°é˜²æŠ–ä¸å‡½æ•°èŠ‚æµå¼‚åŒç‚¹ ä¸ åº”ç”¨åœºæ™¯"></a>å‡½æ•°é˜²æŠ–ä¸å‡½æ•°èŠ‚æµå¼‚åŒç‚¹ ä¸ åº”ç”¨åœºæ™¯</h3><ol><li><p>ç›¸åŒç‚¹ï¼šéƒ½æ˜¯ä¸ºäº†ä¼˜åŒ– js ä»£ç çš„æ‰§è¡Œé¢‘ç‡ï¼Œæé«˜ä»£ç æ€§èƒ½</p></li><li><p>ä¸åŒç‚¹ï¼š</p><p><strong>å‡½æ•°é˜²æŠ–</strong>ï¼šç”±ç”¨æˆ·éœ€æ±‚å†³å®š</p><p>â€‹        åº”ç”¨åœºæ™¯ï¼šé¼ æ ‡çš„ç§»å…¥ç§»å‡ºï¼Œç”¨æˆ·å¿«é€Ÿç§»åŠ¨é¼ æ ‡ï¼Œåº”è¯¥ç­‰ç”¨æˆ·ç»“æŸç§»åŠ¨åï¼Œä»¥æœ€åä¸€æ¬¡ä¸ºä¸»</p><p>â€‹                          è¾“å…¥æ¡†äº‹ä»¶ï¼šéªŒè¯æ‰‹æœºå·æˆ–é‚®ç®±ï¼Œç”¨æˆ·è¾“å…¥æ—¶ä¸æ–­è§¦å‘é”®ç›˜äº‹ä»¶ï¼Œåº”è¯¥ç­‰ç”¨æˆ·ç»“æŸè¾“å…¥ä¹‹                          åï¼Œä»¥æœ€åä¸€æ¬¡è¾“å…¥ä¸ºå‡†</p><p><strong>å‡½æ•°èŠ‚æµ</strong>ï¼šç”±äº‹ä»¶æœ¬èº«å†³å®šï¼ˆé«˜é¢‘äº‹ä»¶ï¼‰</p><p>â€‹         åº”ç”¨åœºæ™¯ï¼šonscrollï¼ˆæ»šåŠ¨æ¡äº‹ä»¶ï¼‰</p><p>â€‹                           onmousemoveï¼ˆé¼ æ ‡ç§»åŠ¨ï¼‰</p><p>â€‹                           ç‰¹æ®Šæƒ…å†µï¼šé«˜é¢‘è§¦å‘ï¼ˆæŠ¢è´­æŒ‰é’®ç‚¹å‡»ï¼Œæœ¬èº«ä¸æ˜¯é«˜é¢‘äº‹ä»¶ï¼Œç”¨æˆ·å¯ä»¥ç”¨æ‰‹é€Ÿå®ç°ç‚¹å‡»é«˜é¢‘ï¼‰</p></li></ol>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> æ€§èƒ½ä¼˜åŒ– </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç†è§£Vueç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°</title>
      <link href="vueshengming/"/>
      <url>vueshengming/</url>
      
        <content type="html"><![CDATA[<h1 id="Vueç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°"><a href="#Vueç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°" class="headerlink" title="Vueç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°"></a>Vueç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°</h1><p>é™„ä¸Šä¸€å¼ å¸¦æœ‰ç¿»è¯‘çš„å®˜æ–¹å›¾è§£</p><p><img src="https://pic.downk.cc/item/5fa146d31cd1bbb86bd760e3.png"></p><table><thead><tr><th align="center">é’©å­å‡½æ•°</th><th align="center">è§¦å‘çš„æ—¶æœºè§¦å‘çš„æ—¶æœº</th><th align="center">æ­¤é˜¶æ®µèƒ½å¹²ä»€ä¹ˆï¼ˆå¯ä»¥åšçš„äº‹ï¼‰</th></tr></thead><tbody><tr><td align="center">beforeCreated</td><td align="center">vueå®ä¾‹è¿˜æœªåˆå§‹åŒ–ï¼ˆæœªæŒ‚è½½ï¼‰ï¼Œæ•°æ®å¯¹è±¡dataéƒ½ä¸ºundefinedæ—¶</td><td align="center">å¯ä»¥ç»™å…ƒç´ æ·»åŠ loadingåŠ¨ç”»ï¼Œåœ¨é¡µé¢æ¸²æŸ“å‰å‡ºç°çš„å†…å®¹</td></tr><tr><td align="center">created</td><td align="center">vueå®ä¾‹åˆ›å»ºå®Œæˆï¼Œæ•°æ®å¯¹è±¡dataæœ‰äº†ï¼Œä½†æ˜¯è¿˜æ²¡æœ‰æŒ‚è½½</td><td align="center">ç»“æŸloadingã€è¯·æ±‚æ•°æ®</td></tr><tr><td align="center">beforeMout</td><td align="center">vueå®ä¾‹çš„$elå’Œdataéƒ½åˆå§‹åŒ–äº†ï¼Œä½†è¿˜æ˜¯è™šæ‹Ÿçš„DOMèŠ‚ç‚¹ï¼Œå³å°†è¿›è¡ŒæŒ‚è½½</td><td align="center"></td></tr><tr><td align="center">mounted</td><td align="center">Vueå®ä¾‹æŒ‚è½½å®Œæ¯•ï¼Œæ•°æ®æ¸²æŸ“å®Œæ¯•</td><td align="center">é…åˆè·¯ç”±é’©å­ä½¿ç”¨ã€æ“ä½œåŠ¨æ€æ•°æ®ã€dom</td></tr><tr><td align="center">beforeUpdate</td><td align="center">dataæ›´æ–°æ—¶è§¦å‘</td><td align="center">å¯ä»¥æ‹¿åˆ°Vueå®ä¾‹æ”¹å˜å‰çš„çŠ¶æ€</td></tr><tr><td align="center">update</td><td align="center">dataæ›´æ–°æ—¶è§¦å‘</td><td align="center">æ•°æ®æ›´æ–°æ—¶ï¼Œåšä¸€äº›å¤„ç†ã€‚è¿™äº›é’©å­è§¦å‘çš„é¢‘ç‡å¾ˆé«˜ï¼Œå°½é‡é¿å…è¿›è¡Œæ“ä½œï¼Œå³ä¾¿æ“ä½œï¼Œä¹Ÿè¦ä¿è¯å†…éƒ¨æ–¹æ³•è½»é‡çº§</td></tr><tr><td align="center">beforeDestroy</td><td align="center">ç»„ä»¶é”€æ¯æ—¶è§¦å‘ï¼Œä½†æ˜¯è¿˜æ²¡çœŸæ­£å¼€å§‹é”€æ¯</td><td align="center"></td></tr><tr><td align="center">destroyed</td><td align="center">ç»„ä»¶é”€æ¯æ—¶è§¦å‘ï¼Œvueå®ä¾‹è§£é™¤äº†äº‹ä»¶ç›‘å¬ä»¥åŠå’Œdomçš„ç»‘å®šï¼ˆæ— å“åº”äº†ï¼‰ï¼Œä½†æ˜¯DOMèŠ‚ç‚¹ä¾æ—§å­˜åœ¨</td><td align="center">ç»„ä»¶é”€æ¯å‰è¿›è¡Œæç¤ºï¼Œæ¸…é™¤æ— ç”¨çš„DomèŠ‚ç‚¹ã€æ¸…é™¤å®šæ—¶å™¨</td></tr></tbody></table><h2 id="æµ‹è¯•ä»£ç "><a href="#æµ‹è¯•ä»£ç " class="headerlink" title="æµ‹è¯•ä»£ç "></a>æµ‹è¯•ä»£ç </h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  data()&#123;</span><br><span class="line">    <span class="keyword">return</span>&#123;</span><br><span class="line">      num: <span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">   beforeCreate () &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;==============&#x27;</span> + <span class="string">&#x27;beforeCreated&#x27;</span> + <span class="string">&#x27;===================&#x27;</span>)</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;$el&#x27;</span>,<span class="built_in">this</span>.$el)</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;data&#x27;</span>,<span class="built_in">this</span>.$data)</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;num&#x27;</span>,<span class="built_in">this</span>.num)</span><br><span class="line">  &#125;,</span><br><span class="line">  created () &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;==============&#x27;</span> + <span class="string">&#x27;created&#x27;</span> + <span class="string">&#x27;===================&#x27;</span>)</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;$el&#x27;</span>,<span class="built_in">this</span>.$el)</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;data&#x27;</span>,<span class="built_in">this</span>.$data)</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;num&#x27;</span>,<span class="built_in">this</span>.num)</span><br><span class="line">  &#125;,</span><br><span class="line">  beforeMount () &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;==============&#x27;</span> + <span class="string">&#x27;beforeMount&#x27;</span> + <span class="string">&#x27;===================&#x27;</span>)</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;$el&#x27;</span>,<span class="built_in">this</span>.$el)</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;data&#x27;</span>,<span class="built_in">this</span>.$data)</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;num&#x27;</span>,<span class="built_in">this</span>.num)</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted () &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;==============&#x27;</span> + <span class="string">&#x27;mounted&#x27;</span> + <span class="string">&#x27;===================&#x27;</span>)</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;$el&#x27;</span>,<span class="built_in">this</span>.$el)</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;data&#x27;</span>,<span class="built_in">this</span>.$data)</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;num&#x27;</span>,<span class="built_in">this</span>.num)</span><br><span class="line">  &#125;,</span><br><span class="line">  beforeUpdate () &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;==============&#x27;</span> + <span class="string">&#x27;beforeUpdate&#x27;</span> + <span class="string">&#x27;===================&#x27;</span>)</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;$el&#x27;</span>,<span class="built_in">this</span>.$el)</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;data&#x27;</span>,<span class="built_in">this</span>.$data)</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;num&#x27;</span>,<span class="built_in">this</span>.num)</span><br><span class="line">  &#125;,</span><br><span class="line">  updated () &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;==============&#x27;</span> + <span class="string">&#x27;updated&#x27;</span> + <span class="string">&#x27;===================&#x27;</span>)</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;$el&#x27;</span>,<span class="built_in">this</span>.$el)</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;data&#x27;</span>,<span class="built_in">this</span>.$data)</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;num&#x27;</span>,<span class="built_in">this</span>.num)</span><br><span class="line">  &#125;,</span><br><span class="line">  beforeDestroy () &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;==============&#x27;</span> + <span class="string">&#x27;beforeDestroy&#x27;</span> + <span class="string">&#x27;===================&#x27;</span>)</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;$el&#x27;</span>,<span class="built_in">this</span>.$el)</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;data&#x27;</span>,<span class="built_in">this</span>.$data)</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;num&#x27;</span>,<span class="built_in">this</span>.num)</span><br><span class="line">  &#125;,</span><br><span class="line">  destroyed () &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;==============&#x27;</span> + <span class="string">&#x27;destroyed&#x27;</span> + <span class="string">&#x27;===================&#x27;</span>)</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;$el&#x27;</span>,<span class="built_in">this</span>.$el)</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;data&#x27;</span>,<span class="built_in">this</span>.$data)</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;num&#x27;</span>,<span class="built_in">this</span>.num)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>æ§åˆ¶å°æ‰“å°ç»“æœ</p></blockquote><p><img src="https://pic.downk.cc/item/5fa153841cd1bbb86bda43f1.jpg"></p><p>è‡³äº<code>destroyed</code>å°±ä¸å¥½æ¼”ç¤ºäº†ï¼Œä½†æ˜¯æœ‰ä¸€ç‚¹æ˜¯ä¸€å®šè¦ç‰¹åˆ«æ³¨æ„çš„</p><p>åœ¨æ‰§è¡Œ<code>destroyed</code>æ–¹æ³•åï¼Œå¯¹dataçš„æ”¹å˜ä¸ä¼šå†è§¦å‘å‘¨æœŸå‡½æ•°ï¼Œæ­¤æ—¶çš„vueå®ä¾‹å·²ç»è§£é™¤äº†äº‹ä»¶ç›‘å¬å’ŒDOMçš„ç»‘å®šï¼Œä½†æ˜¯domç»“æ„ä¾ç„¶å­˜åœ¨ã€‚æ‰€ä»¥å¯¹äºå®æ—¶æ˜¾ç¤ºçš„é€šçŸ¥å‹ç»„ä»¶ï¼Œåœ¨ä»–<code>destroyed</code>ä¹‹å‰ï¼Œæˆ‘ä»¬å¿…é¡»åŠ¨æ‰‹<code>removeChild()</code>åˆ é™¤è¯¥èŠ‚ç‚¹ï¼›å¦åˆ™èŠ‚ç‚¹è¿˜æ˜¯å­˜åœ¨ï¼Œä¼šå½±å“æµè§ˆå™¨æ€§èƒ½ï¼Œè¿˜æœ‰å°±æ˜¯æ¸…é™¤å®šæ—¶å™¨äº†</p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue.js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ˜Ÿæœˆæ—…è¡Œé¡¹ç›®æ€»ç»“</title>
      <link href="xingyue/"/>
      <url>xingyue/</url>
      
        <content type="html"><![CDATA[<h1 id="æ˜Ÿæœˆæ—…æ¸¸é¡¹ç›®æ€»ç»“"><a href="#æ˜Ÿæœˆæ—…æ¸¸é¡¹ç›®æ€»ç»“" class="headerlink" title="æ˜Ÿæœˆæ—…æ¸¸é¡¹ç›®æ€»ç»“"></a>æ˜Ÿæœˆæ—…æ¸¸é¡¹ç›®æ€»ç»“</h1><h2 id="é¡¹ç›®èƒŒæ™¯"><a href="#é¡¹ç›®èƒŒæ™¯" class="headerlink" title="é¡¹ç›®èƒŒæ™¯"></a>é¡¹ç›®èƒŒæ™¯</h2><p>ç»§ä¸Šæ¬¡çš„è‹±é›„å¤´æ¡é¡¹ç›®ä¹‹åï¼Œæ„Ÿè§‰è‡ªèº«èƒ½åŠ›è¿˜æ˜¯ä¸è¶³ï¼Œäºæ˜¯å°±æ‰¾äº†è¿™ä¸ªé¡¹ç›®æ¥é”»ç‚¼è‡ªèº«ï¼Œå½“ç„¶æœ€ç»ˆç›®çš„è¿˜æ˜¯ä¸€è‡´çš„ï¼Œæ¯•ç«Ÿè¿˜æ˜¯è¦æ°é¥­çš„ğŸ¤­</p><p><a href="http://cai-yingxiong.gitee.io/xingyue/">é¡¹ç›®åŸå‹</a>ï¼Œè¿™ä¸ªæ˜¯é€šè¿‡ç äº‘ Page æœåŠ¡éƒ¨ç½²ä¸Šçº¿çš„ï¼Œåç«¯ä½¿ç”¨çš„æ˜¯ httpï¼Œåœ¨è°·æ­Œæµè§ˆå™¨ä¸­è‹¥æ˜¯æ‰“ä¸å¼€çš„è¯ï¼Œå¯ä»¥å°è¯•æ›´æ¢æµè§ˆå™¨è¯•è¯•</p><p>æŠ€æœ¯äº®ç‚¹ï¼š</p><ol><li><code>Nuxtjs</code>æ¡†æ¶åº”ç”¨ï¼ŒåŸºäº<code>Vue</code>çš„æœåŠ¡å™¨æ¸²æŸ“æŠ€æœ¯ï¼ˆ<code>SSR</code>ï¼‰</li><li><code>Nuxtjs</code>ç»“åˆ<code>Element-ui</code>æ¡†æ¶ä½¿ç”¨</li><li><code>Nuxtjs</code>(SSR)ä¸­ä½¿ç”¨å¯Œæ–‡æœ¬ç¼–è¾‘</li><li>çµæ´»åº”ç”¨æœ¬åœ°æ•°æ®å­˜å‚¨å®ç°äº¤äº’ vuex</li><li>ç›–æ¥¼å¼è·Ÿå¸–æ¨¡å—ï¼Œå¦‚ä½•åº”ç”¨ç»„ä»¶é€’å½’</li><li>é«˜å¾·åœ°å›¾å®ç°å®šä½</li><li>å‰ç«¯ç”Ÿæˆä»˜æ¬¾äºŒç»´ç </li><li>ä¸€ä¸ªåº”ç”¨ï¼Œèƒ½å­¦ä¹ åˆ°3ç§æµè¡Œçš„ä¸šåŠ¡ç±»å‹</li></ol><h2 id="æŠ€æœ¯æ ˆ"><a href="#æŠ€æœ¯æ ˆ" class="headerlink" title="æŠ€æœ¯æ ˆ"></a>æŠ€æœ¯æ ˆ</h2><ul><li>Nuxtjs</li><li>Vue</li><li>Vue-router</li><li>Element-ui</li><li>Axios</li><li>Token</li><li>Vuex</li><li>é«˜å¾·åœ°å›¾</li></ul><h2 id="nuxt-ssr-ç®€ä»‹"><a href="#nuxt-ssr-ç®€ä»‹" class="headerlink" title="nuxt/ssr ç®€ä»‹"></a>nuxt/ssr ç®€ä»‹</h2><p>åœ¨æ€»ç»“é¡¹ç›®ä¹‹å‰ï¼Œæˆ‘ä»¬å†æ¥å›é¡¾ä¸€ä¸‹æˆ‘ä»¬çš„ Nuxtæ¡†æ¶ï¼Œè¿˜æœ‰æˆ‘ä»¬çš„ SSR æ˜¯ä¸ªä»€ä¹ˆä¸œè¥¿</p><p>SSR å…¶å®å°±æ˜¯ Vue çš„æœåŠ¡ç«¯æ¸²æŸ“æŠ€æœ¯</p><p>Nuxtæ¡†æ¶æ˜¯ä¸€ä¸ªå¯ä»¥ç”¨æ¥åš SSR æœåŠ¡ç«¯æ¸²æŸ“ å¼€å‘çš„æ¡†æ¶</p><p>ä»–ä»¬ä¹‹é—´çš„å…³ç³»ï¼šSSRæ˜¯æŠ€æœ¯åŸºç¡€ï¼ŒNuxtæ˜¯å°è£…</p><h3 id="ä»€ä¹ˆæ˜¯-ssr"><a href="#ä»€ä¹ˆæ˜¯-ssr" class="headerlink" title="ä»€ä¹ˆæ˜¯ ssr"></a>ä»€ä¹ˆæ˜¯ ssr</h3><p>Vue.js æ˜¯æ„å»ºå®¢æˆ·ç«¯åº”ç”¨ç¨‹åºçš„æ¡†æ¶é»˜è®¤æƒ…å†µä¸‹ï¼Œå¯ä»¥åœ¨æµè§ˆå™¨ä¸­è¾“å…¥ Vueç»„ä»¶ï¼Œè¿›è¡Œç”ŸæˆDOMå’Œæ“ä½œ DOMã€‚å…¨éƒ¨çš„æ“ä½œéƒ½æ˜¯åœ¨å®¢æˆ·ç«¯è¿è¡Œï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œç”Ÿå‘½å‘¨æœŸ mounted ä¹‹å‰ï¼Œçœ‹ä¸åˆ°ä»»ä½•ä¸œè¥¿çš„ï¼Œæˆ–è€…å¦‚æœæˆ‘ä»¬çš„å®¢æˆ·ç«¯æµè§ˆå™¨ï¼Œç¦ç”¨äº†JSåŠŸèƒ½çš„è¯ï¼Œå°±ä¼šä¸€ç‰‡ç©ºç™½</p><p>ç„¶è€Œï¼Œvue.jsä¹Ÿå¯ä»¥å°†åŒä¸€ä¸ªvueç»„ä»¶åœ¨<strong>æœåŠ¡ç«¯ç›´æ¥æ¸²æŸ“</strong>ä¸º HTML å­—ç¬¦ä¸²ï¼Œå°†å®ƒä»¬ç›´æ¥å‘é€åˆ°æµè§ˆå™¨ï¼Œæœ€åè¿™äº›é™æ€æ ‡è®°â€œæ¿€æ´»â€ä¸ºå®¢æˆ·ç«¯ä¸Šå®Œå…¨å¯äº¤äº’çš„åº”ç”¨ç¨‹åºï¼Œè¿™ä¸ªæ—¶å€™å³ä½¿æˆ‘ä»¬çš„å®¢æˆ·ç«¯æµè§ˆå™¨ç¦ç”¨äº†JSåŠŸèƒ½ï¼Œä¸€æ ·èƒ½çœ‹åˆ°å†…å®¹ï¼Œè¿™å°±æ˜¯SSRæŠ€æœ¯</p><p><img src="https://pic.downk.cc/item/5f9baa201cd1bbb86b19c1cb.png"></p><h3 id="ä¸ºä»€ä¹ˆ-è¦ä¸è¦ä½¿ç”¨æœåŠ¡å™¨ç«¯æ¸²æŸ“-SSR-ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆ-è¦ä¸è¦ä½¿ç”¨æœåŠ¡å™¨ç«¯æ¸²æŸ“-SSR-ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆ/è¦ä¸è¦ä½¿ç”¨æœåŠ¡å™¨ç«¯æ¸²æŸ“ (SSR)ï¼Ÿ"></a>ä¸ºä»€ä¹ˆ/è¦ä¸è¦ä½¿ç”¨æœåŠ¡å™¨ç«¯æ¸²æŸ“ (SSR)ï¼Ÿ</h3><p>ä¸ä¼ ç»Ÿ SPA (å•é¡µåº”ç”¨ç¨‹åº (Single-Page Application)) ç›¸æ¯”ï¼ŒæœåŠ¡å™¨ç«¯æ¸²æŸ“ (SSR) çš„ä¼˜åŠ¿ä¸»è¦åœ¨äºï¼š</p><ul><li>æ›´å¥½çš„ SEOï¼Œç”±äºæœç´¢å¼•æ“çˆ¬è™«æŠ“å–å·¥å…·å¯ä»¥ç›´æ¥æŸ¥çœ‹å®Œå…¨æ¸²æŸ“çš„é¡µé¢ã€‚</li><li>æ›´å¿«çš„å†…å®¹åˆ°è¾¾æ—¶é—´ (time-to-content)ï¼Œç‰¹åˆ«æ˜¯å¯¹äºç¼“æ…¢çš„ç½‘ç»œæƒ…å†µæˆ–è¿è¡Œç¼“æ…¢çš„è®¾å¤‡ã€‚æ— éœ€ç­‰å¾…æ‰€æœ‰çš„ JavaScript éƒ½å®Œæˆä¸‹è½½å¹¶æ‰§è¡Œï¼Œä½ çš„ç”¨æˆ·å°†ä¼šæ›´å¿«é€Ÿåœ°çœ‹åˆ°å®Œæ•´æ¸²æŸ“çš„é¡µé¢ã€‚</li></ul><p>ä½¿ç”¨æœåŠ¡å™¨ç«¯æ¸²æŸ“ (SSR) æ—¶è¿˜éœ€è¦æœ‰ä¸€äº›æƒè¡¡ä¹‹å¤„ï¼š</p><ul><li>å¼€å‘æ¡ä»¶æ‰€é™ã€‚æµè§ˆå™¨ç‰¹å®šçš„ä»£ç ï¼Œåªèƒ½åœ¨æŸäº›ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•° (lifecycle hook) ä¸­ä½¿ç”¨ï¼›ä¸€äº›å¤–éƒ¨æ‰©å±•åº“ (external library) å¯èƒ½éœ€è¦ç‰¹æ®Šå¤„ç†ï¼Œæ‰èƒ½åœ¨æœåŠ¡å™¨æ¸²æŸ“åº”ç”¨ç¨‹åºä¸­è¿è¡Œã€‚</li><li>æ¶‰åŠæ„å»ºè®¾ç½®å’Œéƒ¨ç½²çš„æ›´å¤šè¦æ±‚ã€‚ä¸å¯ä»¥éƒ¨ç½²åœ¨ä»»ä½•é™æ€æ–‡ä»¶æœåŠ¡å™¨ä¸Šçš„å®Œå…¨é™æ€å•é¡µé¢åº”ç”¨ç¨‹åº (SPA) ä¸åŒï¼ŒæœåŠ¡å™¨æ¸²æŸ“åº”ç”¨ç¨‹åºï¼Œéœ€è¦å¤„äº Node.js server è¿è¡Œç¯å¢ƒã€‚</li><li>æ›´å¤šçš„æœåŠ¡å™¨ç«¯è´Ÿè½½ã€‚åœ¨ Node.js ä¸­æ¸²æŸ“å®Œæ•´çš„åº”ç”¨ç¨‹åºï¼Œæ˜¾ç„¶ä¼šæ¯”ä»…ä»…æä¾›é™æ€æ–‡ä»¶çš„ server æ›´åŠ å¤§é‡å ç”¨ CPU èµ„æº (CPU-intensive - CPU å¯†é›†)ï¼Œå› æ­¤å¦‚æœä½ é¢„æ–™åœ¨é«˜æµé‡ç¯å¢ƒ (high traffic) ä¸‹ä½¿ç”¨ï¼Œè¯·å‡†å¤‡ç›¸åº”çš„æœåŠ¡å™¨è´Ÿè½½ï¼Œå¹¶æ˜æ™ºåœ°é‡‡ç”¨ç¼“å­˜ç­–ç•¥ã€‚</li></ul><p>åœ¨å¯¹ä½ çš„åº”ç”¨ç¨‹åºä½¿ç”¨æœåŠ¡å™¨ç«¯æ¸²æŸ“ (SSR) ä¹‹å‰ï¼Œä½ åº”è¯¥é—®çš„ç¬¬ä¸€ä¸ªé—®é¢˜æ˜¯ï¼Œæ˜¯å¦çœŸçš„éœ€è¦å®ƒã€‚è¿™ä¸»è¦å–å†³äºå†…å®¹åˆ°è¾¾æ—¶é—´ (time-to-content) å¯¹åº”ç”¨ç¨‹åºçš„é‡è¦ç¨‹åº¦ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ æ­£åœ¨æ„å»ºä¸€ä¸ªå†…éƒ¨ä»ªè¡¨ç›˜ï¼Œåˆå§‹åŠ è½½æ—¶çš„é¢å¤–å‡ ç™¾æ¯«ç§’å¹¶ä¸é‡è¦ï¼Œè¿™ç§æƒ…å†µä¸‹å»ä½¿ç”¨æœåŠ¡å™¨ç«¯æ¸²æŸ“ (SSR) å°†æ˜¯ä¸€ä¸ªå°é¢˜å¤§ä½œä¹‹ä¸¾ã€‚ç„¶è€Œï¼Œå†…å®¹åˆ°è¾¾æ—¶é—´ (time-to-content) è¦æ±‚æ˜¯ç»å¯¹å…³é”®çš„æŒ‡æ ‡ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒæœåŠ¡å™¨ç«¯æ¸²æŸ“ (SSR) å¯ä»¥å¸®åŠ©ä½ å®ç°æœ€ä½³çš„åˆå§‹åŠ è½½æ€§èƒ½ã€‚</p><h2 id="é¡¹ç›®å­¦ä¹ æ€»ç»“"><a href="#é¡¹ç›®å­¦ä¹ æ€»ç»“" class="headerlink" title="é¡¹ç›®å­¦ä¹ æ€»ç»“"></a>é¡¹ç›®å­¦ä¹ æ€»ç»“</h2><h3 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h3><p>æœ¬æ¬¡é¡¹ç›®æˆ‘ä»¬ä¸ºäº†é€‚åº”å…¬å¸å¸¸è§çš„å¼€å‘æ¨¡å¼ï¼Œæˆ‘ä»¬é‡‡ç”¨çš„ä¸€æ ·æ˜¯å‰åç«¯åˆ†ç¦»çš„æ¨¡å¼ï¼Œå¤šäººåä½œå¼€å‘ã€‚</p><p>æˆ‘è´Ÿè´£çš„éƒ¨åˆ†æ˜¯é¦–é¡µã€é…’åº—é¦–é¡µã€å›½å†…æœºç¥¨çš„æ‰€æœ‰é¡µé¢å’Œè®¢å•é¡µé¢ï¼Œæ‰€ä»¥æˆ‘ä¼šæ ¹æ®æˆ‘è´Ÿè´£çš„éƒ¨åˆ†è¿›è¡Œä¸€ä¸ªæ€»ç»“</p><h3 id="Nuxtæ¡†æ¶å’Œ-Vue-cli-æ­å»ºçš„è„šæ‰‹æ¶çš„ä¸åŒä¹‹å¤„"><a href="#Nuxtæ¡†æ¶å’Œ-Vue-cli-æ­å»ºçš„è„šæ‰‹æ¶çš„ä¸åŒä¹‹å¤„" class="headerlink" title="Nuxtæ¡†æ¶å’Œ Vue-cli æ­å»ºçš„è„šæ‰‹æ¶çš„ä¸åŒä¹‹å¤„"></a>Nuxtæ¡†æ¶å’Œ Vue-cli æ­å»ºçš„è„šæ‰‹æ¶çš„ä¸åŒä¹‹å¤„</h3><p>Nuxtæ¡†æ¶ç›¸æ¯”è¾ƒäºVue-cliåˆ›å»ºçš„åŸºç¡€è„šæ‰‹æ¶æ¥è¯´ï¼Œè¿›è¡Œäº†æ›´æ·±å±‚æ¬¡çš„å°è£…ï¼Œå¾ˆå¤šçš„ä¸€äº›é…ç½®éƒ½ä¼šæœ‰æ‰€ä¸åŒï¼Œè¿™é‡Œå°±ç®€å•çš„æ€»ç»“ä¸€ä¸‹ï¼Œä¹Ÿæ˜¯ä»¥é˜²åé¢çš„å·¥ä½œä¼šç”¨åˆ° Nuxtæ¡†æ¶è€Œå¿˜è®°äº†ç›¸å…³é…ç½®ğŸ˜</p><ol><li><p>åœ¨Nuxtæ¡†æ¶ä¸­æ˜¯ä¸å­˜åœ¨main.jsæ–‡ä»¶æ¥è¿›è¡Œå…¨å±€é…ç½®çš„ï¼Œæˆ‘ä»¬æ‰€æœ‰çš„å…¨å±€é…ç½®éƒ½åœ¨ <code>plugins</code> æ–‡ä»¶å¤¹ä¸­è¿›è¡Œ</p></li><li><p>å½“æˆ‘ä»¬éœ€è¦è¿›è¡Œè®¾ç½®è¯·æ±‚é»˜è®¤åŸºå‡†è·¯å¾„çš„ä½¿ç”¨ï¼Œä¸éœ€è¦åœ¨ <code>plugins</code> æ–‡ä»¶å¤¹ä¸­åˆ›å»ºæ–‡ä»¶è¿›è¡Œé…ç½®ï¼Œåªéœ€è¦åœ¨æˆ‘ä»¬çš„ <code>nuxt.config.js</code> é…ç½®æ–‡ä»¶ä¸­è¿›è¡Œé…ç½®</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">axios: &#123;</span><br><span class="line">    baseURL: <span class="string">&quot;ä½ éœ€è¦è®¾ç½®çš„é»˜è®¤åŸºå‡†è·¯å¾„&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>åŸæœ¬çš„App.vueé¡µé¢ä¹Ÿå˜æˆäº† layouts æ–‡ä»¶å¤¹ä¸­çš„<code>default.vue</code></p></li><li><p>åœ¨ä»¥å‰çš„Vueé¡¹ç›®ä¸­æˆ‘ä»¬éœ€è¦è‡ªå·±å¼•å…¥è¯¥é¡µé¢éœ€è¦ç”¨åˆ°çš„ç»„ä»¶ï¼Œåœ¨Nuxtæˆ‘ä»¬å¯ä»¥é€šè¿‡åœ¨ <code>nuxt.config.js</code> è¿›è¡Œä¸‹é¢çš„é…ç½®ï¼Œæˆ‘ä»¬çš„nuxtæ¡†æ¶å°±ä¼šå¸®æˆ‘ä»¬è‡ªåŠ¨å¼•å…¥ï¼Œå½“ç„¶ä½ å¦‚æœå–œæ¬¢è‡ªå·±å¼•å…¥éœ€è¦çš„ç»„ä»¶çš„è¯ï¼Œä¹Ÿå¯ä»¥ä¸ç”¨è¿›è¡Œé…ç½®</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">components: <span class="literal">true</span>,</span><br></pre></td></tr></table></figure></li><li><p>æˆ‘ä»¬å¯ä»¥åœ¨ layouts æ–‡ä»¶å¤¹ä¸­åˆ›å»ºä¸€ä¸ª <code>error.vue</code> æ–‡ä»¶ä½œä¸ºæˆ‘ä»¬çš„404é¡µé¢</p></li><li><p>åœ¨Nuxtæ¡†æ¶ä¸­æ˜¯ä¸å­˜åœ¨è·¯ç”±é…ç½®çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨éœ€è¦è¿›è¡ŒåµŒå¥—è·¯ç”±çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥å°†çˆ¶è·¯ç”±è®¾ç½®ä¸ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œåˆ›å»ºä¸€ä¸ª <code>index.vue</code> ä½œä¸ºæˆ‘ä»¬çˆ¶è·¯ç”±çš„é¡µé¢ï¼Œè€Œåœ¨è¿™ä¸ªæ–‡ä»¶å¤¹ä¸­åˆ›å»ºçš„å…¶ä»–æ–‡ä»¶åˆ™ä¸ºè¿™ä¸ªçˆ¶è·¯ç”±çš„å­è·¯ç”±</p></li></ol><h3 id="Element-uiçš„Formè¡¨å•éªŒè¯"><a href="#Element-uiçš„Formè¡¨å•éªŒè¯" class="headerlink" title="Element-uiçš„Formè¡¨å•éªŒè¯"></a>Element-uiçš„Formè¡¨å•éªŒè¯</h3><h4 id="ç®€å•é€»è¾‘éªŒè¯ï¼ˆç›´æ¥ä½¿ç”¨rulesï¼‰"><a href="#ç®€å•é€»è¾‘éªŒè¯ï¼ˆç›´æ¥ä½¿ç”¨rulesï¼‰" class="headerlink" title="ç®€å•é€»è¾‘éªŒè¯ï¼ˆç›´æ¥ä½¿ç”¨rulesï¼‰"></a>ç®€å•é€»è¾‘éªŒè¯ï¼ˆç›´æ¥ä½¿ç”¨rulesï¼‰</h4><p>å®ç°æ€è·¯</p><ol><li>htmlä¸­ç»™el-formå¢åŠ  <code>:rules=&quot;rules&quot;</code></li><li>htmlä¸­åœ¨el-form-item ä¸­å¢åŠ å±æ€§ <code>prop=&quot;åç§°&quot;</code></li><li>jsä¸­ç›´æ¥åœ¨dataä¸­å®šä¹‰rules:{}</li></ol><p>htmléƒ¨åˆ†</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-form</span> <span class="attr">ref</span>=<span class="string">&quot;form&quot;</span> <span class="attr">:rules</span>=<span class="string">&quot;rules&quot;</span> <span class="attr">:model</span>=<span class="string">&quot;form&quot;</span> <span class="attr">label-width</span>=<span class="string">&quot;300px&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;å‘è´§åœ°å€ï¼š&quot;</span> <span class="attr">prop</span>=<span class="string">&quot;fAdderss&quot;</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">class</span>=<span class="string">&quot;inp&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;form.fAdderss&quot;</span> <span class="attr">auto-complete</span>=<span class="string">&quot;true&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> <span class="attr">class</span>=<span class="string">&quot;btn-add&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;onSubmit&quot;</span>&gt;</span>å¸¸ç”¨åœ°å€<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-form</span>&gt;</span></span><br></pre></td></tr></table></figure><p>jséƒ¨åˆ†</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  data() &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      form: &#123;</span><br><span class="line">        fAdderss: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="comment">// æ ¡éªŒè§„åˆ™</span></span><br><span class="line">      rules: &#123;</span><br><span class="line">        fAdderss: [</span><br><span class="line">        &#123; <span class="attr">required</span>: <span class="literal">true</span>, <span class="comment">//æ˜¯å¦å¿…å¡«</span></span><br><span class="line">          message: <span class="string">&#x27;åœ°å€ä¸èƒ½ä¸ºç©º&#x27;</span>, <span class="comment">//è§„åˆ™</span></span><br><span class="line">          trigger: <span class="string">&#x27;blur&#x27;</span>  <span class="comment">//ä½•äº‹ä»¶è§¦å‘</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="comment">//å¯ä»¥è®¾ç½®åŒé‡éªŒè¯æ ‡å‡†</span></span><br><span class="line">        &#123; <span class="attr">min</span>: <span class="number">3</span>, <span class="attr">max</span>: <span class="number">5</span>,  <span class="attr">message</span>: <span class="string">&#x27;é•¿åº¦åœ¨ 3 åˆ° 5 ä¸ªå­—ç¬¦&#x27;</span>, &#125;</span><br><span class="line">      ]</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h4 id="è‡ªå®šä¹‰éªŒè¯é€»è¾‘"><a href="#è‡ªå®šä¹‰éªŒè¯é€»è¾‘" class="headerlink" title="è‡ªå®šä¹‰éªŒè¯é€»è¾‘"></a>è‡ªå®šä¹‰éªŒè¯é€»è¾‘</h4><p>å®ç°æ€è·¯</p><ol><li>htmlä¸­ç»™el-formå¢åŠ  <code>:rules=&quot;rules&quot;</code></li><li>htmlä¸­åœ¨el-form-item ä¸­å¢åŠ å±æ€§ <code>prop=&quot;åç§°&quot;</code></li><li>jsä¸­ç›´æ¥åœ¨dataä¸­åœ¨rulesä¸­çš„åç§°å¯¹åº”ä¸­è®¾ç½® <code>validator: éªŒè¯å™¨åç§°,</code></li><li>jsä¸­åœ¨dataä¸­ returnä¹‹ä¸Šä¹¦å†™éªŒè¯å™¨å¯¹åº”çš„jséªŒè¯é€»è¾‘</li></ol><p>htmléƒ¨åˆ†</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-form</span> <span class="attr">ref</span>=<span class="string">&quot;form&quot;</span> <span class="attr">:rules</span>=<span class="string">&quot;rules&quot;</span> <span class="attr">:model</span>=<span class="string">&quot;form&quot;</span> <span class="attr">label-width</span>=<span class="string">&quot;300px&quot;</span>&gt;</span>    </span><br><span class="line">  <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;å‘è´§äººç”µè¯&quot;</span> <span class="attr">prop</span>=<span class="string">&quot;phone&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">class</span>=<span class="string">&quot;inp&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;form.phone&quot;</span> <span class="attr">auto-complete</span>=<span class="string">&quot;true&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-form</span>&gt;</span></span><br></pre></td></tr></table></figure><p>jséƒ¨åˆ†</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  data() &#123;</span><br><span class="line">    <span class="comment">// æ­¤å¤„è‡ªå®šä¹‰æ ¡éªŒæ‰‹æœºå·ç jsé€»è¾‘</span></span><br><span class="line">    <span class="keyword">var</span> phoneReg = <span class="regexp">/^[1][3,4,5,7,8][0-9]&#123;9&#125;$/</span></span><br><span class="line">    <span class="keyword">var</span> validatePhone = <span class="function">(<span class="params">rule, value, callback</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (!value) &#123;</span><br><span class="line">        <span class="keyword">return</span> callback(<span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">&#x27;å·ç ä¸èƒ½ä¸ºç©º!!&#x27;</span>))</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (!phoneReg.test(value)) &#123;</span><br><span class="line">          callback(<span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">&#x27;æ ¼å¼æœ‰è¯¯&#x27;</span>))</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          callback()</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;, <span class="number">1000</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      form: &#123;    </span><br><span class="line">        phone: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="comment">// æ ¡éªŒè§„åˆ™</span></span><br><span class="line">      rules: &#123;</span><br><span class="line">        <span class="comment">// æ ¡éªŒæ‰‹æœºå·ç ï¼Œä¸»è¦é€šè¿‡validatoræ¥æŒ‡å®šéªŒè¯å™¨åç§°</span></span><br><span class="line">        phone: [&#123; <span class="attr">required</span>: <span class="literal">true</span>, <span class="attr">validator</span>: validatePhone, <span class="attr">trigger</span>: <span class="string">&#x27;blur&#x27;</span> &#125;]</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h3 id="Vuexçš„åŸºæœ¬ä½¿ç”¨"><a href="#Vuexçš„åŸºæœ¬ä½¿ç”¨" class="headerlink" title="Vuexçš„åŸºæœ¬ä½¿ç”¨"></a>Vuexçš„åŸºæœ¬ä½¿ç”¨</h3><p>ä½¿ç”¨ Nuxt åˆ›å»ºçš„è„šæ‰‹æ¶ï¼ŒVuexçš„ç›¸å…³æ“ä½œéƒ½æ˜¯åœ¨ <code>store</code> æ–‡ä»¶å¤¹ä¸­,ä¸€èˆ¬æƒ…å†µä¸‹éƒ½æ˜¯ç›¸å…³çš„ä¸€éƒ¨åˆ†æ•°æ®å­˜å‚¨åœ¨ä¸€ä¸ªjsæ–‡ä»¶ä¸­ï¼Œè¿›è¡Œæ¨¡å—åŒ–ç®¡ç†ï¼Œè€Œä¸æ˜¯å †ç§¯åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­</p><h4 id="state-å­˜å‚¨æ•°æ®"><a href="#state-å­˜å‚¨æ•°æ®" class="headerlink" title="state å­˜å‚¨æ•°æ®"></a>state å­˜å‚¨æ•°æ®</h4><p>è¿™é‡Œæ˜¯ç”¨æ¥å­˜å‚¨æ•°æ®çš„</p><p>å…¨å±€é€šè¿‡ <code>this.$store.state.stateçš„åœ°å€.è®¿é—®çš„æ•°æ®</code> æ¥è®¿é—®åˆ°å­˜å‚¨åœ¨ <code>state</code> ä¸­çš„æ•°æ®</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> state = <span class="function">() =&gt;</span> (&#123;</span><br><span class="line">    userInfo: &#123;&#125;,</span><br><span class="line">    num:<span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    count: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    reply: &#123;</span><br><span class="line">        content: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">        pics: [],</span><br><span class="line">        post: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">        follow: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">        replyName: <span class="string">&#x27;&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    focus: <span class="literal">false</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">this</span>.$store.state.user.userInfo</span><br></pre></td></tr></table></figure><h4 id="mutations-å¤„ç†æ•°æ®"><a href="#mutations-å¤„ç†æ•°æ®" class="headerlink" title="mutations å¤„ç†æ•°æ®"></a>mutations å¤„ç†æ•°æ®</h4><p>è¿™é‡Œæ˜¯ç”¨æ¥å¤„ç†æ•°æ®çš„ï¼Œå¯ä»¥å­˜å‚¨å¤šä¸ªæ–¹æ³•è¿›è¡Œå¤„ç†æ•°æ®ï¼Œä½†æ˜¯ä¸èƒ½æ‰§è¡Œå¼‚æ­¥çš„å‡½æ•°ï¼Œæ¯ä¸ªæ–¹æ³•éƒ½å­˜åœ¨ä¸¤ä¸ªå‚æ•°</p><p>ç¬¬ä¸€ä¸ªå‚æ•°ä¸º <code>state</code> æˆ‘ä»¬å­˜å‚¨æ•°æ®çš„åœ°æ–¹ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä»–æ¥æ‹¿åˆ°æˆ‘ä»¬éœ€è¦å¤„ç†çš„æ•°æ®</p><p>ç¬¬äºŒä¸ªå‚æ•°æ˜¯ <code>data</code> ä¸ºæˆ‘ä»¬å¤„ç†ä¹‹åçš„æ•°æ®,ä¹Ÿå¯ä»¥ä¸ä½¿ç”¨ï¼Œè‡ªå·±è¿›è¡Œå¤„ç†</p><p>å…¨å±€é€šè¿‡ <code>this.$store.commit() </code> æ–¹æ³•è°ƒç”¨å­˜å‚¨åœ¨ mutations ä¸­çš„æ–¹æ³•æ¥å¤„ç† state ä¸­çš„æ•°æ®ï¼Œä½¿ç”¨è¯¥æ–¹æ³•æ—¶éœ€è¦ä¼ é€’ä¸¤ä¸ªå‚æ•°</p><p>ç¬¬ä¸€ä¸ªå‚æ•°ä¸º å­—ç¬¦ä¸²ç±»å‹ï¼Œmutationsæ‰€åœ¨ä½ç½® / éœ€è¦è°ƒç”¨æ–¹æ³•ï¼Œå°±å¦‚ï¼šâ€™user/setUserInfoâ€™</p><p>ç¬¬äºŒä¸ªå‚æ•°ä¸ºå¤„ç†ä¹‹åçš„æ•°æ®</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> mutations = &#123;</span><br><span class="line">    setUserInfo(state, data) &#123;</span><br><span class="line">        state.userInfo = data</span><br><span class="line">    &#125;,</span><br><span class="line">    setReplyName(state, data) &#123;</span><br><span class="line">        state.reply.replyName = data;</span><br><span class="line">        state.focus = !state.focus;</span><br><span class="line">    &#125;,</span><br><span class="line">    setFollow(state, data) &#123;</span><br><span class="line">        state.reply.follow = data</span><br><span class="line">    &#125;,</span><br><span class="line">    clearReply(state) &#123;</span><br><span class="line">        state.reply.follow = <span class="string">&#x27;&#x27;</span></span><br><span class="line">        state.reply.replyName = <span class="string">&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">this</span>.$store.commit(<span class="string">&#x27;user/setUserInfo&#x27;</span>, res.data)</span><br></pre></td></tr></table></figure><h4 id="actions-å¤„ç†å¼‚æ­¥å‡½æ•°"><a href="#actions-å¤„ç†å¼‚æ­¥å‡½æ•°" class="headerlink" title="actions å¤„ç†å¼‚æ­¥å‡½æ•°"></a>actions å¤„ç†å¼‚æ­¥å‡½æ•°</h4><p>å› ä¸ºåœ¨æˆ‘ä»¬çš„ mutations ä¸­æ˜¯æ— æ³•å¤„ç†å¼‚æ­¥å‡½æ•°ï¼Œæ‰€ä»¥è¿™ä¸ªæ—¶å€™å°±è¦ç”¨åˆ°æˆ‘ä»¬çš„ actions äº†ï¼Œä½†æ˜¯æˆ‘ä»¬å¤„ç†æ•°æ®ä¸€æ ·è¦ä½¿ç”¨ mutationsï¼Œæ‰€ä»¥ä¸€èˆ¬éƒ½æ˜¯ä¸mutationsé…åˆä½¿ç”¨</p><p>åœ¨ <code>actions</code> ä¸­çš„æ¯ä¸ªå‡½æ•°éƒ½å¯ä»¥æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å½“å‰çš„ <code>store</code> ä»“åº“å®ä¾‹ï¼Œç¬¬äºŒä¸ªæ˜¯è°ƒç”¨æ—¶ä¼ å…¥çš„æ•°æ®ï¼Œæ¯ä¸ªæ–¹æ³•ä¸­å¯ä»¥è¿”å›ä¸€ä¸ªæ•°æ®ï¼Œè°ƒç”¨æ–¹æ³•çš„ä½¿ç”¨å¯ä»¥é€šè¿‡ <code>.then</code> å›è°ƒå‡½æ•°æ¥å¤„ç†è¿™ä¸ªæ”¾å›çš„å€¼</p><p>åœ¨å…¨å±€ä¸­å¯ä»¥é€šè¿‡ <code>this.$store.dispatch()</code> æ¥è°ƒç”¨actionsä¸­çš„æ–¹æ³•ï¼Œéœ€è¦ä¼ é€’ä¸¤ä¸ªå‚æ•°</p><p>ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ actions çš„åœ°å€ / éœ€è¦è°ƒç”¨çš„æ–¹æ³•ï¼Œç¬¬äºŒä¸ªä¸ºéœ€è¦è¿›è¡Œæ“ä½œçš„æ•°æ®</p><p>è¯¥æ–¹æ³•å­˜åœ¨ <code>.then</code> å›è°ƒå‡½æ•°ï¼Œå¯ä»¥æ¥å—åˆ°è¿”å›å€¼è¿›è¡Œå¤„ç†</p> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> actions = &#123;</span><br><span class="line">    login(store, data) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.$axios(&#123;</span><br><span class="line">            method: <span class="string">&#x27;post&#x27;</span>,</span><br><span class="line">            url: <span class="string">&#x27;/accounts/login&#x27;</span>,</span><br><span class="line">            data</span><br><span class="line">        &#125;).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(res.data);</span><br><span class="line">            <span class="comment">// åœ¨è¿™é‡Œä¸ç”¨ä¼ æ•°æ®å‡ºå»å¯ä»¥ç›´æ¥è°ƒç”¨å½“å‰çš„ store.commit è§¦å‘mutations å°±å¯ä»¥äº†</span></span><br><span class="line">            store.commit(<span class="string">&#x27;setUserInfo&#x27;</span>, res.data)</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> res</span><br><span class="line">        &#125;)</span><br><span class="line">        <span class="comment">// å¤–é¢çš„.thenå¦‚æœå¸Œæœ›è·å–æ•°æ®</span></span><br><span class="line">        <span class="comment">// åœ¨è¿™ä¸ª .then é‡Œé¢returnæ•°æ®</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">this</span>.$store.dispatch(<span class="string">&quot;user/login&quot;</span>, <span class="built_in">this</span>.form).then(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">this</span>.$message.success(<span class="string">&quot;ç™»å½•æˆåŠŸ&quot;</span>);</span><br><span class="line">  <span class="built_in">this</span>.$router.back();</span><br><span class="line">  <span class="built_in">this</span>.$emit(<span class="string">&quot;logins&quot;</span>);</span><br><span class="line">  <span class="built_in">console</span>.log(res);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h4 id="getterså¯¹æ•°æ®è¿›è¡Œè®¡ç®—"><a href="#getterså¯¹æ•°æ®è¿›è¡Œè®¡ç®—" class="headerlink" title="getterså¯¹æ•°æ®è¿›è¡Œè®¡ç®—"></a>getterså¯¹æ•°æ®è¿›è¡Œè®¡ç®—</h4><p>gettersçš„ä¸»è¦ä½œç”¨æ˜¯å¯¹stateä¸­å­˜å‚¨çš„æ•°æ®è¿›è¡Œè®¡ç®—ï¼Œç„¶åå†returnå‡ºå»ä¸€ä¸ªæ–°çš„æ•°æ®ï¼Œå¯ä»¥ç†è§£ä¸ºVueä¸­çš„computedï¼Œgettersçš„è¿”å›å€¼ä¼šæ ¹æ®å®ƒçš„ä¾èµ–é¡¹è¢«ç¼“å­˜èµ·æ¥ï¼Œä¸”åªæœ‰å½“å®ƒçš„ä¾èµ–å€¼å‘ç”Ÿå˜åŒ–æ‰ä¼šè¢«é‡æ–°è®¡ç®—ã€‚</p><p>å†å…¨å±€ä¸­é€šè¿‡ <code>this.$store.getters[æ¨¡å—å,æ–¹æ³•å]</code> æ¥è¿”å›ä¸€ä¸ªæ•°æ®ï¼Œä½ å¦‚æœæƒ³è¦ä¼ é€’ä¸€ä¸ªæ•°æ®è¿‡å»è¿›è¡Œå¤„ç†ï¼Œä¸€æ ·æ˜¯å¯ä»¥çš„ï¼Œåªéœ€è¦å†è¯¥æ–¹æ³•åæ·»åŠ ä¸€ä¸ªæ‹¬å·ï¼Œæ‹¬å·ä¸­æ·»åŠ éœ€è¦ä¼ é€’çš„æ•°æ®ä¾¿å¯ä»¥ä¼ é€’æ•°ï¼Œç„¶ååœ¨ <code>getters</code> ä¸­è¿›è¡Œæ¥æ”¶å¤„ç†å³å¯ï¼Œè¯¥æ–¹æ³•å½“ç„¶ä¹Ÿå¯ä»¥ç›´æ¥åœ¨ template ä¸­ç›´æ¥è°ƒç”¨ï¼Œè®°å¾—å»æ‰ this </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> getters = &#123;</span><br><span class="line">    getNum: <span class="function">(<span class="params">state</span>) =&gt;</span> <span class="function">(<span class="params">val</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> state.num + val</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">computed: &#123;</span><br><span class="line">    getNumber()&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="built_in">this</span>.$store.getters[<span class="string">&#x27;user/getNum&#x27;</span>](<span class="number">2</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><h4 id="Vuexçš„ä½¿ç”¨å°ç»“ï¼š"><a href="#Vuexçš„ä½¿ç”¨å°ç»“ï¼š" class="headerlink" title="Vuexçš„ä½¿ç”¨å°ç»“ï¼š"></a>Vuexçš„ä½¿ç”¨å°ç»“ï¼š</h4><p>è¿™é‡Œè®°è½½çš„åªæ˜¯Vuexçš„åŸºæœ¬ä½¿ç”¨ï¼Œè¿˜æœ‰ä¸€äº›è¾…åŠ©å‡½æ•°å’Œè¾“å‡ºæ—¶çš„namespacedå±æ€§æ²¡æœ‰ç”¨åˆ°ï¼Œåç»­åœ¨è¿›è¡Œå­¦ä¹ çš„æ—¶å€™ä¼šä¸“é—¨è®°è½½çš„ğŸ˜</p><h3 id="é¡µé¢åˆ·æ–°Vuexä¸­çš„æ•°æ®ä¸¢å¤±é—®é¢˜"><a href="#é¡µé¢åˆ·æ–°Vuexä¸­çš„æ•°æ®ä¸¢å¤±é—®é¢˜" class="headerlink" title="é¡µé¢åˆ·æ–°Vuexä¸­çš„æ•°æ®ä¸¢å¤±é—®é¢˜"></a>é¡µé¢åˆ·æ–°Vuexä¸­çš„æ•°æ®ä¸¢å¤±é—®é¢˜</h3><h4 id="ä½¿ç”¨èƒŒæ™¯ï¼š"><a href="#ä½¿ç”¨èƒŒæ™¯ï¼š" class="headerlink" title="ä½¿ç”¨èƒŒæ™¯ï¼š"></a>ä½¿ç”¨èƒŒæ™¯ï¼š</h4><p>åœ¨æœºç¥¨åˆ—è¡¨é¡µçš„ä¾§è¾¹æ ä¸­éœ€è¦å±•ç¤ºç”¨æˆ·æµè§ˆè¿‡çš„æœºç¥¨ï¼Œåœ¨Vuexä¸­å­˜å‚¨çš„æµè§ˆè¿‡çš„æœºç¥¨ä¿¡æ¯åœ¨é¡µé¢åˆ·æ–°ä¹‹åï¼Œå°†ä¸å¤å­˜åœ¨ï¼Œè¿™æ˜æ˜¾æ˜¯ä¸ç¬¦åˆç”¨æˆ·éœ€æ±‚çš„ã€‚æ‰€ä»¥æˆ‘ä»¬è¦åœ¨é¡µé¢åˆ·æ–°ä¹‹åï¼ŒVuexä¸­ä¾ç„¶å­˜åœ¨æ•°æ®</p><h4 id="å®ç°æ€è·¯ï¼š"><a href="#å®ç°æ€è·¯ï¼š" class="headerlink" title="å®ç°æ€è·¯ï¼š"></a>å®ç°æ€è·¯ï¼š</h4><p>æåˆ°é¡µé¢åˆ·æ–°ï¼Œæ•°æ®ä¾æ—§å­˜åœ¨ï¼Œæˆ‘ç¬¬ä¸€ååº”å°±æƒ³åˆ°äº† <code>localStorage</code> å’Œ <code>cookie </code></p><p>ä½†æ˜¯ cookie ä¸èƒ½å‚¨å­˜å¤§æ•°æ®ä¸”ä¸æ˜“è¯»å–ï¼Œè€Œä¸”éœ€è¦è·Ÿåå°è¿›è¡Œäº¤äº’ï¼Œæ‰€ä»¥è¿™é‡Œä½¿ç”¨ <code>localStorage</code>æ˜¯æœ€åˆé€‚çš„</p><p>ä½†æ˜¯æƒ³åˆ°å…¶ä»–çš„é¡µé¢ä¸Šéœ€è¦é¡µé¢åˆ·æ–°ä¹‹åä¿ç•™çš„æ•°æ®å¾ˆå¤šï¼Œæ‰€ä»¥æˆ‘é€‰æ‹©äº†å°†æ•´ä¸ªVuexä¸­çš„æ•°æ®éƒ½å­˜å‚¨åœ¨äº† <code>localStorage</code> ä¸­ã€‚ä¸ºæ­¤æˆ‘ä»¬éœ€è¦ä¸‹è½½ä¸€ä¸ªç¬¬ä¸‰æ–¹åŒ…</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i -S vuex-persistedstate</span><br></pre></td></tr></table></figure><h4 id="é…ç½®ä½¿ç”¨"><a href="#é…ç½®ä½¿ç”¨" class="headerlink" title="é…ç½®ä½¿ç”¨"></a>é…ç½®ä½¿ç”¨</h4><p>æˆ‘ä»¬åœ¨ä¸‹è½½äº†ç¬¬ä¸‰æ–¹åŒ…ä¹‹åæ˜æ˜¾æ˜¯éœ€è¦è¿›è¡Œé…ç½®ä½¿ç”¨çš„ï¼Œè€Œæˆ‘ä»¬è¿›è¡Œé…ç½®çš„åœ°æ–¹ä»ä¹‹å‰çš„ <code>main.js</code> æ–‡ä»¶ç§»åˆ°äº† <code>plugins</code> æ–‡ä»¶å¤¹ä¸­ï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªjsæ–‡ä»¶è¿›è¡Œé…ç½®ï¼Œå–åéšæ„ï¼Œè¿™é‡Œæˆ‘å°±åˆ›å»ºä¸€ä¸ª <code>localstorage.js</code> æ–‡ä»¶è¿›è¡Œæ¼”ç¤º</p><blockquote><p>plugins / localstorage.js</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> createPersistedState <span class="keyword">from</span> <span class="string">&#x27;vuex-persistedstate&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// åœ¨æ‰€æœ‰çš„æ’ä»¶é‡Œé¢</span></span><br><span class="line"><span class="comment">// å¦‚æœç”¨ export default å¯¼å‡ºä¸€ä¸ªé»˜è®¤å‡½æ•°çš„è¯</span></span><br><span class="line"><span class="comment">// è¿™ä¸ªå‡½æ•°ä¼šè‡ªåŠ¨è·å¾—ä¸€ä¸ª nuxt å®ä¾‹çš„ä¼ å‚</span></span><br><span class="line"><span class="comment">// export default (nuxt) =&gt; &#123;</span></span><br><span class="line"><span class="comment">//     nuxt.$axios</span></span><br><span class="line"><span class="comment">//     nuxt.store</span></span><br><span class="line"><span class="comment">//     å¦‚æœåªéœ€è¦å…¶ä¸­æŸäº›å±æ€§, å¯ä»¥ç”¨ç»“æ„çš„æ–¹å¼å®ç°</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> ( &#123; store &#125; ) =&gt; &#123;</span><br><span class="line">    <span class="comment">// ç±»ä¼¼window.onload</span></span><br><span class="line">    <span class="comment">// window.onNuxtReady æ˜¯é¡µé¢ä¸Š nuxt å‡†å¤‡å®Œæ¯•çš„ä¸€ä¸ªå›è°ƒäº‹ä»¶</span></span><br><span class="line">    <span class="built_in">window</span>.onNuxtReady( <span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">// å¼•å…¥äº†æ’ä»¶çš„ç¬¬ä¸‰æ–¹åŒ…, è°ƒç”¨å®ƒå®ç°æ•°æ®æŒä¹…åŒ–å³å¯</span></span><br><span class="line">        <span class="comment">// è¿™ä¸ªæ’ä»¶çš„ç”¨æ³•æ˜¯ä½œè€…è§„å®šçš„</span></span><br><span class="line">        createPersistedState( &#123;</span><br><span class="line">            <span class="comment">// è¿™ä¸ªæ’ä»¶çš„ç›®æ ‡æ˜¯å°† vuex å­˜æ”¾åˆ°æœ¬åœ°å‚¨å­˜</span></span><br><span class="line">            <span class="comment">// localStorage.setItem(key, this.$store)</span></span><br><span class="line">            key: <span class="string">&quot;store&quot;</span>, <span class="comment">// è¯»å–æœ¬åœ°å­˜å‚¨çš„æ•°æ®åˆ°store</span></span><br><span class="line">        &#125; )( store )</span><br><span class="line">    &#125; )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ‰€æœ‰åŸæ¥ å†™åœ¨ main.js new Vue() ä¹‹å‰çš„é€»è¾‘</span></span><br><span class="line"><span class="comment">// åœ¨ nuxt å½“ä¸­éƒ½å¯ä»¥åˆ©ç”¨æ’ä»¶æœºåˆ¶å®ç°</span></span><br><span class="line"><span class="comment">// æ‰€æœ‰é…ç½®è¿‡çš„æ’ä»¶ä¼šè‡ªåŠ¨åœ¨ å®ä¾‹åˆ›å»ºå‰æ‰§è¡Œ</span></span><br></pre></td></tr></table></figure><p>å› ä¸ºæˆ‘ä»¬çš„Nuxtæ¡†æ¶ç”¨åˆ°SSRæœåŠ¡ç«¯æ¸²æŸ“ï¼Œæˆ‘ä»¬çš„æ’ä»¶æ˜¯åœ¨æœåŠ¡ç«¯ä¸­è°ƒç”¨ <code>localStorage</code> çš„æ–¹æ³•è¿›è¡Œå­˜å‚¨çš„ï¼Œè¿™æ˜æ˜¾æ˜¯ä¸è¡Œçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿˜éœ€è¦ç»™æˆ‘ä»¬çš„æ’ä»¶é…ç½®ï¼Œä¸åœ¨æœåŠ¡ç«¯æ‰§è¡Œã€‚</p><blockquote><p>nuxt.config.jsé…ç½®æ–‡ä»¶ </p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">plugins: [</span><br><span class="line">        &#123;</span><br><span class="line">            src: <span class="string">&#x27;@/plugins/localstorage&#x27;</span>,</span><br><span class="line">            <span class="comment">// æŒ‡å®šè¿™ä¸ªæ’ä»¶ä¸å¯ä»¥åœ¨æœåŠ¡ç«¯æ‰§è¡Œ(åªèƒ½ç­‰åˆ°æµè§ˆå™¨å½“ä¸­å†æ‰§è¡Œ)</span></span><br><span class="line">            ssr: <span class="literal">false</span></span><br><span class="line">        &#125;,</span><br><span class="line">    ],</span><br></pre></td></tr></table></figure><h4 id="å°ç»“ï¼š"><a href="#å°ç»“ï¼š" class="headerlink" title="å°ç»“ï¼š"></a>å°ç»“ï¼š</h4><p>è¿™æ ·æˆ‘ä»¬å°±é…ç½®å®Œæˆäº†ï¼Œæˆ‘ä»¬ä¼šå‘ç°æˆ‘ä»¬å­˜å‚¨åœ¨Vuexä¸­çš„æ•°æ®éƒ½è¢«å­˜å‚¨åˆ°äº† <code>localStorage</code> ä¸­ï¼Œè¿™æ ·æˆ‘ä»¬å°±è§£å†³äº†é¡µé¢åˆ·æ–°æ•°æ®ä¸¢å¤±çš„æƒ…å†µ</p><p><img src="https://pic.downk.cc/item/5f9fc2881cd1bbb86b6ecea5.png"></p><h3 id="async-await-çš„åŸºæœ¬ä½¿ç”¨"><a href="#async-await-çš„åŸºæœ¬ä½¿ç”¨" class="headerlink" title="async await çš„åŸºæœ¬ä½¿ç”¨"></a>async await çš„åŸºæœ¬ä½¿ç”¨</h3><h4 id="ä½¿ç”¨èƒŒæ™¯"><a href="#ä½¿ç”¨èƒŒæ™¯" class="headerlink" title="ä½¿ç”¨èƒŒæ™¯"></a>ä½¿ç”¨èƒŒæ™¯</h4><p>åœ¨é…’åº—é¦–é¡µä¸­è·å–é…’åº—åˆ—è¡¨å’Œæ™¯ç‚¹æ•°æ®çš„æ—¶å€™éƒ½æ˜¯è¦ä¾èµ–äºåŸå¸‚çš„idæ‰èƒ½è·å–ï¼ŒåµŒå¥—å›è°ƒç¡®å®æ˜¯å¯ä»¥å®ç°ï¼Œä½†æ˜¯é‚£æ ·çš„è¯ä»£ç ä¸æ•´æ´ï¼ŒåæœŸçš„ç»´æŠ¤å’Œdebugä¹Ÿå¾ˆä¸æ–¹ä¾¿ï¼Œæ‰€ä»¥å°±é€‰æ‹©äº†ä½¿ç”¨ async å’Œ await ã€‚</p><p>åˆšå¥½ä¹‹å‰ä½¿ç”¨çš„æ—¶å€™éƒ½æ²¡è®°è½½è¿‡ï¼Œè¿™æ¬¡é¡¹ç›®å°±å¤§é‡çš„ç”¨åˆ°äº† asyncã€awaitï¼Œæ‰€ä»¥å°±åœ¨è¿™é‡Œè®°è½½ä¸€ä¸‹å§</p><h4 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h4><p>å…¶å® asyncã€await å°±æ˜¯ <code>Promise</code> çš„è¯­æ³•ç³–</p><p><code>Promise</code>ä¸»è¦ç”¨thenå‡½æ•°çš„é“¾å¼è°ƒç”¨ï¼Œä¸€ç›´ç‚¹ç‚¹ç‚¹ï¼Œæ˜¯ä¸€ç§ä»å·¦å‘å³çš„æ¨ªå‘å†™æ³•ã€‚<code>Promise</code> çš„å†™æ³•è¿˜æ˜¯å­˜åœ¨ä¸€å®šçš„åµŒå¥—å›è°ƒé—®é¢˜</p><p><code>async/await</code> ä»ä¸Šåˆ°ä¸‹ï¼Œé¡ºåºæ‰§è¡Œï¼Œå°±åƒå†™åŒæ­¥ä»£ç ä¸€æ ·ã€‚è¿™æ›´ç¬¦åˆäººç¼–å†™ä»£ç çš„ä¹ æƒ¯ </p><h4 id="ä½¿ç”¨æ–¹æ³•"><a href="#ä½¿ç”¨æ–¹æ³•" class="headerlink" title="ä½¿ç”¨æ–¹æ³•"></a>ä½¿ç”¨æ–¹æ³•</h4><p>åœ¨ä¸€ä¸ªå£°æ˜å‡½æ•°çš„æ—¶å€™ï¼Œåœ¨å‰é¢æ·»åŠ ä¸Š async ï¼Œå®šä¹‰è¿™æ˜¯ä¸€ä¸ªå¼‚æ­¥å‡½æ•°ï¼Œç„¶åå†å…¶ä¸­çš„å¼‚æ­¥å‡½æ•°å‰æ·»åŠ ä¸Š awaitï¼Œè¿™æ ·åé¢çš„ä»£ç ä¼šåœ¨è¿™ä¸ªå¼‚æ­¥å‡½æ•°æ‰§è¡Œå®Œæ¯•ä¹‹åæ‰ä¼šæ‰§è¡Œ</p><p>waitåé¢æ¥çš„ä¸€èˆ¬æ˜¯promiseï¼Œè¿”å›å€¼æ˜¯promiseçš„resolveçš„å‚æ•°ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> p1 = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">                <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">                    resolve(<span class="string">&#x27;å¤§å¨ƒé€å®Œäº†&#x27;</span>)        <span class="comment">// ç»§ç»­æ‰§è¡Œåé¢çš„ä»£ç </span></span><br><span class="line">                &#125;, <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * <span class="number">5</span> + <span class="number">1</span>) * <span class="number">500</span>)</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">const</span> p2 = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">     <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">         <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">             resolve(<span class="string">&#x27;äºŒå¨ƒé€å®Œäº†&#x27;</span>)        <span class="comment">// ç»§ç»­æ‰§è¡Œåé¢çš„ä»£ç </span></span><br><span class="line">         &#125;, <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * <span class="number">5</span> + <span class="number">1</span>) * <span class="number">500</span>)</span><br><span class="line">     &#125;)</span><br><span class="line"> &#125; </span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">const</span> data1 = <span class="keyword">await</span> p1();</span><br><span class="line">        <span class="built_in">console</span>.log(data1);</span><br><span class="line">        <span class="keyword">const</span> data2 = <span class="keyword">await</span> p2();</span><br><span class="line">        <span class="built_in">console</span>.log(data2);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">1</span>)</span><br><span class="line">&#125;</span><br><span class="line">fn();</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å¯ä»¥å¾ˆæ¸…æ¥šçš„çœ‹åˆ°ï¼Œæˆ‘ä»¬æ§åˆ¶å°æ‰“å°çš„å…ˆåé¡ºåºä¸ºå¤§å¨ƒç„¶åå†æ˜¯äºŒå¨ƒæœ€åæ‰æ˜¯æˆ‘ä»¬æ•°å­—1</p><p><img src="https://pic.downk.cc/item/5f9fd6211cd1bbb86b749c0a.jpg"></p><p>ä½†æ˜¯è¿™æ ·æ˜¯æ— æ³•å¤„ç†é”™è¯¯è¯·æ±‚çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿˜è¦ä½¿ç”¨ tryã€catch æ¥å¤„ç†é”™è¯¯è¯·æ±‚ï¼Œè¿™é‡Œæˆ‘ä»¬æ¥æ¨¡æ‹Ÿä¸€ä¸‹é”™è¯¯</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> p1 = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            resolve(<span class="string">&#x27;å¤§å¨ƒé€å®Œäº†&#x27;</span>)</span><br><span class="line">        &#125;, <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * <span class="number">5</span> + <span class="number">1</span>) * <span class="number">500</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">const</span> p2 = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">     <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">         <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">             reject(<span class="string">&#x27;äºŒå¨ƒè¿˜æ²¡é€å‡ºå»&#x27;</span>)</span><br><span class="line">         &#125;, <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * <span class="number">5</span> + <span class="number">1</span>) * <span class="number">500</span>)</span><br><span class="line">     &#125;)</span><br><span class="line"> &#125;</span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> data1 = <span class="keyword">await</span> p1();</span><br><span class="line">        <span class="built_in">console</span>.log(data1);</span><br><span class="line">        <span class="keyword">const</span> data2 = <span class="keyword">await</span> p2();</span><br><span class="line">        <span class="built_in">console</span>.log(data2);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(err);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">1</span>)</span><br><span class="line">&#125;</span><br><span class="line">fn();</span><br></pre></td></tr></table></figure><p><img src="https://pic.downk.cc/item/5f9fe8ec1cd1bbb86b7a2ebb.jpg"></p><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><ul><li>å›¢é˜Ÿåä½œä¹‹å‰æœ€å¥½å…ˆç»Ÿä¸€ä»£ç é£æ ¼ï¼Œä¸ç„¶åœ¨æ‹‰å–ä»£ç çš„æ—¶å€™ä¸€æ¨æŠ¥é”™</li><li>æƒ³ä¿®æ”¹æŸä¸ªç»„ä»¶çš„æ ·å¼çš„æ—¶å€™ï¼Œä½†æ˜¯å®˜æ–¹åˆæ²¡æœ‰æä¾›æ–¹æ³•çš„æ—¶å€™ï¼Œå¯ä»¥é€šè¿‡æµè§ˆå™¨æ£€æŸ¥éœ€è¦ä¿®æ”¹çš„ç»„ä»¶çš„ç±»åï¼Œä¸è¡Œå°±åŠ  <code>important </code>ï¼Œå†ä¸è¡Œå°±åŠ  <code>/deep/</code> ç©¿é€ï¼Œå°½é‡é¿å…ä½¿ç”¨</li><li>æŸ¥æ–‡æ¡£èƒ½åŠ›è¿˜æœ‰å¾…æé«˜â€¦..é«˜å¾·åœ°å›¾APIçš„å‘æ˜¯çœŸçš„å¤šğŸ¤¬</li></ul>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue.js </tag>
            
            <tag> é¡¹ç›®æ€»ç»“ </tag>
            
            <tag> Nuxt.js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è‹±é›„å¤´æ¡é¡¹ç›®æ€»ç»“</title>
      <link href="yxtoutiao/"/>
      <url>yxtoutiao/</url>
      
        <content type="html"><![CDATA[<h1 id="è‹±é›„å¤´æ¡ï¼ˆç§»åŠ¨ç«¯ï¼‰çš„ä¸€äº›æ„Ÿæ‚Ÿ"><a href="#è‹±é›„å¤´æ¡ï¼ˆç§»åŠ¨ç«¯ï¼‰çš„ä¸€äº›æ„Ÿæ‚Ÿ" class="headerlink" title="è‹±é›„å¤´æ¡ï¼ˆç§»åŠ¨ç«¯ï¼‰çš„ä¸€äº›æ„Ÿæ‚Ÿ"></a>è‹±é›„å¤´æ¡ï¼ˆç§»åŠ¨ç«¯ï¼‰çš„ä¸€äº›æ„Ÿæ‚Ÿ</h1><h2 id="é¡¹ç›®ä»‹ç»"><a href="#é¡¹ç›®ä»‹ç»" class="headerlink" title="é¡¹ç›®ä»‹ç»"></a>é¡¹ç›®ä»‹ç»</h2><p>è‹±é›„å¤´æ¡æ˜¯ä¸€ä¸ªé€šç”¨ä¿¡æ¯å¹³å°ï¼Œè‡´åŠ›äºè¿æ¥äººä¸ä¿¡æ¯ï¼Œè®©ä¼˜è´¨ä¸°å¯Œçš„ä¿¡æ¯å¾—åˆ°é«˜æ•ˆç²¾å‡†çš„åˆ†å‘ï¼Œä¿ƒä½¿ä¿¡æ¯åˆ›é€ ä»·å€¼ã€‚</p><p>è‹±é›„å¤´æ¡ç›®å‰æ‹¥æœ‰æ¨èå¼•æ“ã€æœç´¢å¼•æ“ã€å…³æ³¨è®¢é˜…å’Œå†…å®¹è¿è¥ç­‰å¤šç§åˆ†å‘æ–¹å¼ï¼Œå›Šæ‹¬å›¾æ–‡ã€è§†é¢‘ã€é—®ç­”ç­‰å¤šç§å†…å®¹ä½“è£ï¼Œå¹¶æ¶µç›–ç§‘æŠ€ã€ä½“è‚²ã€å¥åº·ã€ç¾é£Ÿã€æ•™è‚²ç­‰å¤šä¸ªå†…å®¹é¢†åŸŸã€‚</p><p>è‹±é›„å¤´æ¡åŒ…æ‹¬ç§»åŠ¨ç«¯å‰å°æµè§ˆæ–‡ç« ã€ä¸ªäººä¸­å¿ƒã€è¯„è®ºç­‰é¡µé¢ã€‚Pcç«¯åå°ç®¡ç†æ–‡ç« ã€å‘å¸ƒæ–‡ç« ã€ç¼–è¾‘æ–‡ç« ç­‰ã€‚</p><h3 id="é¡¹ç›®åŸå‹"><a href="#é¡¹ç›®åŸå‹" class="headerlink" title="é¡¹ç›®åŸå‹"></a>é¡¹ç›®åŸå‹</h3><p><a href="http://cai-yingxiong.gitee.io/yxtoutiao/#/">è‹±é›„å¤´æ¡å‰å°</a>è¿™ä¸ªé€šè¿‡ç äº‘éƒ¨ç½²åˆ°çº¿ä¸Šçš„é¡µé¢ï¼Œå¦‚æœå…è´¹è¯•ç”¨è¿‡æœŸçš„è¯ï¼Œå¯ä»¥å°è¯•æ‰“å¼€é€šè¿‡æ‰‹æœºæ‰“å¼€<a href="https://caiyx0666.github.io/toutiao/dist/index.html#/">è¿™ä¸ª</a>ğŸ˜œ,å› ä¸ºæ˜¯ä½¿ç”¨GitHub Page æœåŠ¡éƒ¨ç½²åˆ°çº¿ä¸Šçš„ï¼ŒGitHub Page æ˜¯ä¸æ”¯æŒä½¿ç”¨ http çš„ï¼Œæ‰€ä»¥åœ¨Pcç«¯çš„è¯å¯èƒ½æ˜¯æ‰“ä¸å¼€çš„ğŸ˜±</p><p><strong>è‹±é›„å¤´æ¡åå°å› ä¸ºçº¿ä¸Šçš„æœåŠ¡å™¨æ•°æ®çš„é”™ä¹±è¿™é‡Œå°±ä¸å±•ç¤ºäº†</strong>ğŸ˜³</p><h3 id="æŠ€æœ¯æ ˆ"><a href="#æŠ€æœ¯æ ˆ" class="headerlink" title="æŠ€æœ¯æ ˆ"></a>æŠ€æœ¯æ ˆ</h3><ul><li>Vue</li><li>Vue-router</li><li>Element-ui</li><li>Vue2Editor å¯Œæ–‡æœ¬ç¼–è¾‘å™¨</li><li>Vant</li><li>Axios</li><li>Token</li></ul><h2 id="é¡¹ç›®èƒŒæ™¯"><a href="#é¡¹ç›®èƒŒæ™¯" class="headerlink" title="é¡¹ç›®èƒŒæ™¯"></a>é¡¹ç›®èƒŒæ™¯</h2><p>å› ä¸ºæ¥è§¦Vueçš„æ—¶é—´ä¸é•¿ï¼Œä¸ä¹…å‰åˆšå­¦ä¹ å®ŒVueçš„åŸºæœ¬ä½¿ç”¨ï¼Œæ‰€ä»¥æƒ³é€šè¿‡è¯¥é¡¹ç›®æ¥åŠ æ·±å¯¹Vueæ¡†æ¶çš„äº†è§£ï¼Œå…¶ç›®çš„ä¹Ÿæ˜¯ä¸ºäº†å­¦ä¹ vueæ¡†æ¶çš„ä½¿ç”¨ï¼Œä½¿æˆ‘èƒ½ä»ä¸­å­¦ä¹ åˆ°å¾ˆå¤šä»¥åå·¥ä½œæœ‰ç”¨çš„ä¸œè¥¿ï¼Œä¸€åˆ‡éƒ½æ˜¯ä¸ºäº†å·¥ä½œï¼ï¼ï¼ğŸ’ª</p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><h3 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h3><p>è¿™æ˜¯ä¸€ä¸ªä½¿ç”¨ <code>Vue-cli</code> è„šæ‰‹æ¶åˆ›å»ºçš„é¡¹ç›®ï¼Œå› ä¸ºä¹‹å‰å·²ç»ç³»ç»Ÿçš„å­¦ä¹ è¿‡Vueçš„åŸºæœ¬ä½¿ç”¨äº†ï¼Œæ‰€ä»¥è¿™é‡Œå°±ä¸ä»‹ç»çš„é‚£ä¹ˆè¯¦ç»†ï¼Œå°±ç®€å•çš„æ€»ç»“ä¸€ä¸‹é€šè¿‡è¿™ä¸ªé¡¹ç›®å­¦ä¹ åˆ°çš„ä¸œè¥¿å’Œéš¾ç‚¹ğŸ¤­</p><h3 id="è·¯ç”±å®ˆå«-å¯¼èˆªå®ˆå«"><a href="#è·¯ç”±å®ˆå«-å¯¼èˆªå®ˆå«" class="headerlink" title="è·¯ç”±å®ˆå«(å¯¼èˆªå®ˆå«)"></a>è·¯ç”±å®ˆå«(å¯¼èˆªå®ˆå«)</h3><p>å®˜æ–¹è§£é‡Šï¼š  æ­£å¦‚å…¶åï¼Œ<code>vue-router</code>Â æä¾›çš„å¯¼èˆªå®ˆå«ä¸»è¦ç”¨æ¥é€šè¿‡è·³è½¬æˆ–å–æ¶ˆçš„æ–¹å¼å®ˆå«å¯¼èˆªã€‚æœ‰å¤šç§æœºä¼šæ¤å…¥è·¯ç”±å¯¼èˆªè¿‡ç¨‹ä¸­ï¼šå…¨å±€çš„, å•ä¸ªè·¯ç”±ç‹¬äº«çš„, æˆ–è€…ç»„ä»¶çº§çš„ã€‚ </p><h4 id="ä½¿ç”¨èƒŒæ™¯"><a href="#ä½¿ç”¨èƒŒæ™¯" class="headerlink" title="ä½¿ç”¨èƒŒæ™¯"></a>ä½¿ç”¨èƒŒæ™¯</h4><p>åœ¨æˆ‘ä»¬ç™»å½•è¿›åˆ°ä¸€ä¸ªéœ€è¦ <code>token</code> æƒé™çš„ç½‘ç«™çš„æ—¶å€™ï¼Œå¦‚æœæœ¬åœ°çš„ token å€¼è¢«åˆ é™¤ï¼Œæˆ–è€…æ˜¯é€šè¿‡å¦å¤–çš„æ–¹æ³•è¿›å…¥åˆ°è¯¥é¡µé¢æ—¶ï¼Œæˆ‘ä»¬éœ€è¦ç”¨åˆ°è·¯ç”±å®ˆå«ï¼Œè·¯ç”±å®ˆå«å¯ä»¥ç†è§£ä¸º<strong>é¡µé¢è·³è½¬ä¹‹å‰</strong>çš„æ‹¦æˆªæ‰‹æ®µï¼Œå¯ä»¥åœ¨æ‹¦æˆªæ—¶åˆ¤æ–­éªŒè¯ç”¨æˆ·ä¿¡æ¯ï¼Œå†å†³å®šæ˜¯å¦å…è®¸ç”¨æˆ·è·³è½¬åˆ°è¯¥é¡µé¢ã€‚</p><h4 id="ä½¿ç”¨æ–¹æ³•"><a href="#ä½¿ç”¨æ–¹æ³•" class="headerlink" title="ä½¿ç”¨æ–¹æ³•"></a>ä½¿ç”¨æ–¹æ³•</h4><p>åœ¨  <code>src/main.js</code>  æ–‡ä»¶é‡Œæ³¨å†Œä¸€ä¸ª router.beforeEach  å…¨å±€å‰ç½®å®ˆå«</p><p><strong>ç›®æ ‡:</strong> ä½¿ç”¨è·¯ç”±å®ˆå«, æ¯å½“è·³è½¬åˆ°ä¸ªäººä¸­å¿ƒçš„æ—¶å€™, å…ˆæ ¡éªŒ token å¦‚æœæ²¡æœ‰,é‡å®šå‘åˆ°ç™»å½•é¡µ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&#x27;./router&#x27;</span>        <span class="comment">// éœ€å¼•å…¥router</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å¼•å…¥äº† router ä»¥åå°±å¯ä»¥åˆ›å»ºè·¯ç”±å®ˆå«</span></span><br><span class="line"><span class="comment">// beforeEach æ˜¯å…¨å±€å‰ç½®å®ˆå«ï¼Œä¼šæ‹¦æˆªæ‰€æœ‰çš„é¡µé¢è·³è½¬</span></span><br><span class="line"><span class="comment">// æ¥å—ä¸€ä¸ªå›è°ƒå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œå¯¹è°ƒè½¬è¿›è¡Œå¤„ç†</span></span><br><span class="line">router.beforeEach(<span class="function">(<span class="params">to,<span class="keyword">from</span>,next</span>) =&gt;</span>&#123;</span><br><span class="line">    <span class="comment">// è¿™ä¸ªå‡½æ•°é»˜è®¤æœ‰ä¸‰ä¸ªå‚æ•°</span></span><br><span class="line">    <span class="comment">// to ç›®çš„åœ°çš„è·¯ç”±é…ç½®</span></span><br><span class="line">    <span class="comment">// from  æ¥æºè·¯ç”±é…ç½®</span></span><br><span class="line">    <span class="comment">// next  æ­£å¸¸ç»§ç»­ä¸‹é¢æ“ä½œçš„æ”¾è¡Œå‡½æ•°</span></span><br><span class="line">    <span class="comment">// åˆ¤æ–­è¦è·³è½¬åˆ°çš„é¡µé¢æ˜¯å¦ä¸ºä¸ªäººä¸»é¡µ</span></span><br><span class="line">    <span class="keyword">if</span> (to.path == <span class="string">&#x27;/personage&#x27;</span>) &#123;</span><br><span class="line">        <span class="comment">// åˆ¤æ–­æœ¬åœ°æ˜¯å¦å­˜åœ¨ token</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">localStorage</span>.getItem(<span class="string">&#x27;token&#x27;</span>)) &#123;</span><br><span class="line">            <span class="comment">// æœ‰ç™»å½•å°±æ”¾è¡Œ</span></span><br><span class="line">            next()</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// æ²¡æœ‰ç™»å½•å°±è·³è½¬åˆ°ç™»å½•é¡µ</span></span><br><span class="line">            router.push(<span class="string">&#x27;/login&#x27;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// ä¸æ˜¯è·³è½¬åˆ°ä¸ªäººä¸»é¡µå°±ä¸ç®¡</span></span><br><span class="line">        next()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>è¿™æ˜¯åœ¨ä¸ªäººä¸­å¿ƒé¡µé€€å‡ºåˆ°ç™»å½•é¡µæ—¶é€šè¿‡åœ¨å¯¼èˆªå«å£«ä¸­æ‰“å°çš„ <code>to</code> çš„ä¿¡æ¯</p><p><img src="https://pic.downk.cc/item/5f8a41471cd1bbb86bebcb8a.png"></p><p><strong>æ³¨æ„ç‚¹ï¼š</strong></p><p>å®ˆå«æ–¹æ³•æ¥æ”¶ä¸‰ä¸ªå‚æ•°ï¼š</p><ul><li>toï¼šä»£è¡¨è¦è·³è½¬åˆ°å“ªä¸ªè·¯ç”±ï¼ˆé¡µé¢ï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ <code>to.path</code> è·å–è¦è·³è½¬åˆ°çš„é¡µé¢çš„åœ°å€ï¼Œ</li><li>fromï¼šä»£è¡¨ä»å“ªä¸ªè·¯ç”±è·³è½¬è¿‡æ¥ï¼Œ<code>from.path</code> ä¸€æ ·å¯ä»¥æ‹¿åˆ°ä»å“ªä¸ªé¡µé¢è·³è½¬è¿‡æ¥çš„åœ°å€</li><li>nextï¼šæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå¿…é¡»è¦è°ƒç”¨æ‰èƒ½è·³è½¬åˆ°ä¸‹ä¸€ä¸ªé¡µé¢ï¼Œä¸è°ƒç”¨åˆ™ä¸è·³è½¬,æ‰€ä»¥ä¸€å®šè¦è®°å¾—next()<ul><li>next() : è¡¨ç¤ºæ­£å¸¸è·³è½¬åˆ°ä¸‹ä¸€é¡µ</li><li><strong>(æ–°ç‰ˆä¸èƒ½è¿™ä¹ˆç”¨)</strong>  next(â€œ/loginâ€) è¡¨ç¤ºé‡å®šå‘åˆ°æŒ‡å®šçš„é¡µé¢ </li><li>æœ€æ–°çš„è·¯ç”±, é‡å®šå‘å¯ä»¥ä½¿ç”¨ router.push (ä¸åœ¨ç»„ä»¶å†…å°±æ²¡æœ‰ this.$router äº†)</li></ul></li></ul><p><strong>è¡¥å……</strong>:</p><p>åœ¨æˆ‘ä»¬çš„é¡¹ç›®ä¸­æœ‰å¾ˆå¤šä¸ªé¡µé¢éƒ½æ˜¯éœ€è¦æœ‰æƒé™ <code>token</code> æ‰èƒ½è¿›å…¥ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿™é‡Œè¦å¯¹ <code>to.path</code> è¿›è¡Œå¤šæ¬¡éªŒè¯ï¼Œä½†æ˜¯åƒä¸Šè¿°æ–¹æ³•ä¸€æ ·çš„è¯å°±æ˜¾å¾—ä»£ç æœ‰ç‚¹å†—ä½™äº†ï¼Œè¿™é‡Œçš„è¯ï¼Œæˆ‘æƒ³åˆ°äº†ä¸¤ç§æ–¹æ³•ï¼š</p><p>ç¬¬ä¸€ç§ï¼š</p><p>é€šè¿‡å°†æ‰€æœ‰éœ€è¦è¿›è¡ŒéªŒè¯çš„é¡µé¢å…¨éƒ½æ”¾åœ¨ä¸€ä¸ªæ•°ç»„ä¸­ï¼Œå†åˆ¤æ–­ <code>to.path</code> æ˜¯å¦å­˜åœ¨è¯¥æ•°ç»„å½“ä¸­å³å¯</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">router.beforeEach(<span class="function">(<span class="params">to, <span class="keyword">from</span>, next</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">// å°†æ‰€æœ‰éœ€è¦æ ¡éªŒçš„é¡µé¢æå‡ºæ¥ï¼Œå˜æˆä¸€ä¸ªæ•°ç»„ç®¡ç†</span></span><br><span class="line">        <span class="comment">// 2ã€åªéœ€è¦åˆ¤æ–­ to.path æ˜¯å¦å­˜åœ¨äºæ•°ç»„ä¸­å³å¯</span></span><br><span class="line">        <span class="keyword">const</span> pageNeedAuth = [</span><br><span class="line">            <span class="string">&#x27;/personage&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;/compile&#x27;</span></span><br><span class="line">        ]</span><br><span class="line">        <span class="keyword">if</span> (pageNeedAuth.indexOf(to.path) &gt; <span class="number">-1</span>) &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">localStorage</span>.getItem(<span class="string">&#x27;token&#x27;</span>)) &#123;</span><br><span class="line">            <span class="comment">// æœ‰ç™»å½•å°±æ”¾è¡Œ</span></span><br><span class="line">            next()</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// æ²¡æœ‰ç™»å½•å°±è·³è½¬åˆ°ç™»å½•é¡µ</span></span><br><span class="line">            router.push(<span class="string">&#x27;/login&#x27;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// ä¸æ˜¯è·³è½¬åˆ°ä¸ªäººä¸»é¡µå°±ä¸ç®¡</span></span><br><span class="line">        next()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>ç¬¬äºŒç§ï¼š</p><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡åˆ©ç”¨è·¯ç”±Â metaÂ å±æ€§ï¼Œé…ç½®æ˜¯å¦éœ€è¦ç™»å½•çš„é€‰é¡¹ï¼Œå¦‚æœè¦ç™»å½•å°±è®¾ç½®Â needAuthÂ ==Â true</p><p><code>src/router/index.js</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">        path: <span class="string">&#x27;/personage&#x27;</span>, <span class="comment">// ä¸ªäººä¸­å¿ƒ</span></span><br><span class="line">        name: <span class="string">&#x27;Personage&#x27;</span>,</span><br><span class="line">        component: Personage,</span><br><span class="line">        meta: &#123;</span><br><span class="line">            needAuth: <span class="literal">true</span>  <span class="comment">// éœ€è¦éªŒè¯</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br></pre></td></tr></table></figure><p><code>src/main.js</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">router.beforeEach(<span class="function">(<span class="params">to, <span class="keyword">from</span>, next</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// åˆ©ç”¨è·¯ç”± meta å±æ€§ï¼Œé…ç½®æ˜¯å¦éœ€è¦ç™»å½•çš„é€‰é¡¹</span></span><br><span class="line">    <span class="comment">// åˆ¤æ–­æ˜¯å¦éœ€è¦éªŒè¯</span></span><br><span class="line">    <span class="keyword">if</span> (to.path.needAuth) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">localStorage</span>.getItem(<span class="string">&#x27;token&#x27;</span>)) &#123;</span><br><span class="line">            <span class="comment">// æœ‰ç™»å½•å°±æ”¾è¡Œ</span></span><br><span class="line">            next()</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// æ²¡æœ‰ç™»å½•å°±è·³è½¬åˆ°ç™»å½•é¡µ</span></span><br><span class="line">            router.push(<span class="string">&#x27;/login&#x27;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// ä¸æ˜¯è·³è½¬åˆ°ä¸ªäººä¸»é¡µå°±ä¸ç®¡</span></span><br><span class="line">        next()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>è¿™æ ·å°±å¯ä»¥ï¼Œè¿™ä¸¤ç§æ–¹æ³•æ•ˆæœéƒ½æ˜¯ä¸€æ ·çš„ï¼Œä½†æ˜¯ä¸ªäººæ„Ÿè§‰ç¬¬äºŒç§æ–¹æ³•ä¼šæ–¹ä¾¿ä¸€ç‚¹ï¼Œæ¯”è¾ƒè¿™æ ·çš„è¯ï¼Œåœ¨è¿›è¡Œè·¯ç”±é…ç½®çš„æ—¶å€™å°±å¯ä»¥å¯¹å…¶è¿›è¡Œéœ€è¦éªŒè¯çš„è®¾ç½®äº†ï¼Œä¸ç”¨å†æ‰¾åˆ° <code>main.js</code> æ–‡ä»¶çš„è·¯ç”±å¯¼èˆªéƒ¨åˆ†è¿›è¡Œæ·»åŠ äº†ğŸ¤­</p><h4 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“:"></a>å°ç»“:</h4><ol><li>åˆ›å»ºè·¯ç”±å®ˆå«</li><li>åœ¨å›è°ƒä¸­æ ¡éªŒæƒé™ (æ˜¯å¦æœ‰ token)</li><li>å¦‚æœæœ‰ token åˆæ³•è®¿é—®, return next();</li><li>å¦‚æœæ²¡æœ‰å°±æ˜¯éæ³•è®¿é—®, return  router.push({path:â€™/loginâ€™}) è·³è½¬åˆ°ç™»å½•é¡µ</li><li>æœ€ååœ¨æ•´ä¸ªè·¯ç”±å®ˆå«çš„æœ€ä¸‹æ–¹å¿…é¡»æœ‰ä¸€ä¸ª next() ç”¨æ¥å¤„ç†å…¶ä»–é¡µé¢çš„æƒ…å†µ</li><li>æ¯ä¸ªé¡µé¢éƒ½ä¼šæ‰§è¡Œå…¨å±€å®ˆå«</li></ol><h3 id="axiosè®¾ç½®é»˜è®¤åŸºå‡†è·¯å¾„"><a href="#axiosè®¾ç½®é»˜è®¤åŸºå‡†è·¯å¾„" class="headerlink" title="axiosè®¾ç½®é»˜è®¤åŸºå‡†è·¯å¾„"></a>axiosè®¾ç½®é»˜è®¤åŸºå‡†è·¯å¾„</h3><h4 id="ä½¿ç”¨èƒŒæ™¯-1"><a href="#ä½¿ç”¨èƒŒæ™¯-1" class="headerlink" title="ä½¿ç”¨èƒŒæ™¯"></a>ä½¿ç”¨èƒŒæ™¯</h4><p>æ¯æ¬¡å‘é€è¯·æ±‚çš„æ—¶å€™éƒ½è¦æ·»åŠ æœåŠ¡å™¨åœ°å€çš„é—®é¢˜ï¼š</p><ol><li>é‡å¤ã€å¤ªéº»çƒ¦äº†â€¦</li><li>å‡å¦‚æœ‰ä¸€å¤©,ä½ çš„æœåŠ¡å™¨æ¬è¿äº†, æ¢æœåŠ¡å™¨äº†, æ¯”å¦‚ä»åœ¨çº¿çš„å˜æˆæœ¬åœ°çš„ http:127.0.0.1:3000ï¼Œç»´æŠ¤èµ·æ¥å°±å¾ˆéº»çƒ¦</li></ol><h4 id="ä½¿ç”¨æ–¹æ³•-1"><a href="#ä½¿ç”¨æ–¹æ³•-1" class="headerlink" title="ä½¿ç”¨æ–¹æ³•"></a>ä½¿ç”¨æ–¹æ³•</h4><p>æˆ‘ä»¬å¯ä»¥æå–è¯·æ±‚çš„ç»Ÿä¸€çš„æœåŠ¡å™¨åŸŸåçš„éƒ¨åˆ†è¿›è¡ŒæŠ½ç¦»è®¾ç½®</p><p>åœ¨ <code>main.js</code> æ–‡ä»¶ä¸­ é‡Œé¢è®¾ç½® <code>axios.defaults.baseURL</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">axios.dafaults.baseURL = <span class="string">&#x27;http://157.122.54.189:9083&#x27;</span>    <span class="comment">// åœ¨çº¿çš„æœåŠ¡å™¨</span></span><br><span class="line"><span class="comment">// axios.dafaults.baseURL = &#x27;http://127.0.0.1ï¼š3000&#x27;        // æœ¬åœ°æœåŠ¡å™¨</span></span><br></pre></td></tr></table></figure><p>è¿™æ ·ï¼Œæˆ‘ä»¬åœ¨å‘é€è¯·æ±‚çš„æ—¶å€™ï¼Œå°±ä¸ç”¨å†å†™æœåŠ¡å™¨åœ°å€äº†</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">this</span>.$axios(&#123;</span><br><span class="line">url:<span class="string">&#x27;/login&#x27;</span>,</span><br><span class="line">data:&#123;&#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="axiosæ‹¦æˆªå™¨"><a href="#axiosæ‹¦æˆªå™¨" class="headerlink" title="axiosæ‹¦æˆªå™¨"></a>axiosæ‹¦æˆªå™¨</h3><p>åœ¨è¯·æ±‚æˆ–å“åº”è¢«Â <code>then</code> æˆ–Â <code>catch</code>Â å‡½æ•°å¤„ç†å‰æ‹¦æˆªå®ƒä»¬</p><h4 id="ä½¿ç”¨èƒŒæ™¯-2"><a href="#ä½¿ç”¨èƒŒæ™¯-2" class="headerlink" title="ä½¿ç”¨èƒŒæ™¯"></a>ä½¿ç”¨èƒŒæ™¯</h4><p>å¦‚æœç”¨æˆ·ä½¿ç”¨é”™è¯¯çš„ <code>token</code> ç»•è¿‡äº†å…¨å±€å¯¼èˆªå®ˆå«ï¼Œè¿›å…¥äº†é¡µé¢ï¼Œé¡µé¢ä¼šå‘é€è¯·æ±‚ï¼Œå¦‚æœå“åº”çš„æ˜¯ç”¨æˆ·ä¿¡æ¯éªŒè¯å¤±è´¥ï¼Œå°±åº”è¯¥åœ¨é¡µé¢å†…éƒ¨è¿›è¡Œè·³è½¬ï¼Œå¦‚æœæ¯ä¸ªé¡µé¢éƒ½è¿™ä¹ˆå†™çš„è¯ï¼Œå°±æ¯”è¾ƒçƒ¦ã€‚è€Œä¸”ï¼Œåœ¨æˆ‘ä»¬å‘é€è¯·æ±‚çš„æ—¶å€™ï¼Œå¤§å¤šéƒ½æ˜¯è¦ç»è¿‡éªŒè¯çš„ï¼Œä¹Ÿå°±æ˜¯åœ¨å‘é€è¯·æ±‚çš„æ—¶å€™ï¼Œéœ€è¦åœ¨è¯·æ±‚å¤´ <code>headers</code> ä¸­æ·»åŠ éªŒè¯ä¿¡æ¯ <code>token</code> ,ä½†æ˜¯æ¯ä¸ªè¯·æ±‚éƒ½å†™å°±æ˜¾å¾—æœ‰ç‚¹çƒ¦äººäº†ğŸ¤¯ï¼Œæ‰€ä»¥è¿™é‡Œç”¨æˆ‘ä»¬ axios çš„æ‹¦æˆªå™¨æ¥åšå†åˆé€‚ä¸è¿‡äº†ã€‚</p><h4 id="ä½¿ç”¨æ–¹æ³•-2"><a href="#ä½¿ç”¨æ–¹æ³•-2" class="headerlink" title="ä½¿ç”¨æ–¹æ³•"></a>ä½¿ç”¨æ–¹æ³•</h4><p>é™„ä¸Šå›¾è§£</p><p><img src="https://pic.downk.cc/item/5f8a42f11cd1bbb86bec344e.png"></p><p><code>src/main.js</code> æ–‡ä»¶ä¸­</p><ol><li>å› ä¸ºéœ€è¦ç»Ÿä¸€å¤„ç†é”™è¯¯, æ‰€ä»¥æ˜¯å…¨å±€çš„, å† main.js å½“ä¸­å£°æ˜æ‹¦æˆªå™¨</li><li><code>axios.interceptors.resquest.use()</code>å£°æ˜ä¸€ä¸ªè¯·æ±‚æ‹¦æˆªå™¨, å¯ä»¥æ¥å—ä¸€ä¸ªå›è°ƒå‡½æ•°åšå‚æ•°, å¸¦æœ‰è¯·æ±‚æ•°æ® config ï¼Œ å“åº”æ‹¦æˆªå™¨çš„å£°æ˜æ–¹æ³•åªè¦å°†ä¸Šè¿°æ–¹æ³•ä¸­çš„ <code>request</code> æ›´æ”¹ä¸º <code>response</code> å°±å¯ä»¥äº†ï¼Œä¸€æ ·å¯ä»¥æ¥æ”¶ä¸€ä¸ªå›è°ƒå‡½æ•°åšå‚æ•°ï¼Œå¸¦æœ‰å“åº”æ•°æ® res</li><li>æ‹¦æˆªå™¨æ‹¦æˆªæ•°æ®, å¤„ç†åå¿…é¡»æ”¾è¡Œ (return)</li><li>å°†æˆ‘ä»¬çš„é”™è¯¯é€»è¾‘ä» .then æŠ½ç¦»å‡ºæ¥æ”¾åˆ°å“åº”æ‹¦æˆªå™¨é‡Œé¢</li></ol><h5 id="è¯·æ±‚æ‹¦æˆªå™¨"><a href="#è¯·æ±‚æ‹¦æˆªå™¨" class="headerlink" title="è¯·æ±‚æ‹¦æˆªå™¨"></a>è¯·æ±‚æ‹¦æˆªå™¨</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»ºä¸€ä¸ªè¯·æ±‚æ‹¦æˆªå™¨</span></span><br><span class="line">axios.interceptors.request.use(<span class="function"><span class="params">config</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// è¿™é‡Œå¯ä»¥æ¥æ”¶ä¸€ä¸ªå½¢å‚ï¼Œæ‹¿åˆ°å½“å‰è¯·æ±‚çš„é…ç½®</span></span><br><span class="line">    <span class="comment">// å¦‚æœæœ¬åœ°å­˜åœ¨ token å¹¶ä¸” è¯·æ±‚æ•°æ®ä¸­æ²¡æœ‰è®¾ç½® token å°±æ‹¦æˆªä¸‹æ¥ç»™è¯·æ±‚å¤´æ·»åŠ  token</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">localStorage</span>.getItem(<span class="string">&#x27;token&#x27;</span>) &amp;&amp; !config.headers.Authorization) &#123;</span><br><span class="line">        config.headers.Authorization = <span class="string">&quot;Bearer &quot;</span> + <span class="built_in">localStorage</span>.getItem(<span class="string">&#x27;token&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ç»§ç»­å‘é€è¯·æ±‚</span></span><br><span class="line">    <span class="keyword">return</span> config</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h5 id="å“åº”æ‹¦æˆªå™¨"><a href="#å“åº”æ‹¦æˆªå™¨" class="headerlink" title="å“åº”æ‹¦æˆªå™¨"></a>å“åº”æ‹¦æˆªå™¨</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»ºä¸€ä¸ªå“åº”æ‹¦æˆªå™¨</span></span><br><span class="line">axios.interceptors.response.use(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// res ä¸ºå‘é€è¯·æ±‚åè¿”å›çš„æ•°æ®</span></span><br><span class="line">    <span class="comment">// åˆ¤æ–­è¿›æ¥çš„ç”¨æˆ·æ˜¯å¦æœ‰æƒé™</span></span><br><span class="line">    <span class="keyword">if</span> (res.data.message == <span class="string">&#x27;ç”¨æˆ·ä¿¡æ¯éªŒè¯å¤±è´¥&#x27;</span>) &#123;</span><br><span class="line">        <span class="comment">// æ¸…é™¤é”™è¯¯æ•°æ®ï¼Œå†è·³è½¬</span></span><br><span class="line">        <span class="built_in">localStorage</span>.clear()</span><br><span class="line">        router.replace(<span class="string">&#x27;/login&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// é™¤äº†æ˜ç¡®ç”¨æˆ·ä¿¡æ¯éªŒè¯å¤±è´¥è·³è½¬åˆ°ç™»å½•é¡µä»¥å¤–</span></span><br><span class="line">    <span class="comment">// è¿˜å¯ä»¥å°è£…å…¶ä»–çš„é€šç”¨å¤„ç†ï¼Œæ¯”å¦‚ çŠ¶æ€ç  statusCode æ˜¯ä»¥4å¼€å¤´çš„ä¸‰ä½æ•°çš„è¯·æ±‚</span></span><br><span class="line">    <span class="comment">// ä¸çŸ¥é“å¦‚ä½•å¤„ç†çš„æƒ…å†µä¸‹ï¼Œåªéœ€ç»Ÿä¸€å°† message ç»™æç¤ºå‡ºæ¥å°±å¯ä»¥äº†</span></span><br><span class="line">    <span class="comment">// ç»Ÿä¸€å¤„ç†å‘é€è¯·æ±‚é”™è¯¯</span></span><br><span class="line">    <span class="keyword">const</span> reg = <span class="regexp">/^4\d&#123;2&#125;$/</span></span><br><span class="line">    <span class="keyword">if</span> (reg.test(res.data.statusCode)) &#123;</span><br><span class="line">        Toast.fail(res.data.message)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„ç‚¹</strong></p><ol><li><p><code>src/main.js</code> æ–‡ä»¶ä¸­å¦‚æœæƒ³ä½¿ç”¨ vant ç»„ä»¶çš„è¯ï¼Œå› ä¸ºä¹‹å‰çš„é…ç½®æ˜¯å…¨å±€çš„ï¼Œåœ¨è¿™é‡Œæ˜¯ä¸èƒ½ç”¨çš„ï¼Œæ‰€ä»¥è¦å•ç‹¬å¼•å…¥</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import &#123; Toast &#125; from &#39;vant&#39;</span><br></pre></td></tr></table></figure></li><li><p>åœ¨ä¸çŸ¥é“æ˜¯å¦ä¸ºé”™è¯¯çš„æƒ…å†µä¸‹ï¼Œæ£€æŸ¥ res.data.statusCode å¦‚æœå­˜åœ¨å¹¶ä¸”æ˜¯ 4 å¼€å¤´çš„ä¸‰ä½æ•°, é‚£ä¹ˆå°±å¯ä»¥è¯æ˜å‡ºé”™</p></li><li><p>è®°å¾—å¤„ç†æ‹¦æˆªåå¿…é¡»æ”¾è¡Œ, ä¸ç„¶å°±å¡æ­»åœ¨è¿™äº†</p></li><li><p><strong>å¯¼èˆªå®ˆå«(è·¯ç”±å®ˆå«) è·Ÿ å“åº”æ‹¦æˆªå™¨ å®¹æ˜“æ··æ·†, ä½†æ˜¯ä½œç”¨å¾ˆä¸ä¸€æ ·, ç‰¹åˆ«æ˜¯ç”Ÿæ•ˆæ—¶é—´ç‚¹</strong></p></li></ol><p><img src="https://pic.downk.cc/item/5f8a41f41cd1bbb86bebf5ea.png"></p><h3 id="é¦–é¡µTab-æ ‡ç­¾é¡µå’Œæ–‡ç« ç»„ä»¶çš„ä½¿ç”¨"><a href="#é¦–é¡µTab-æ ‡ç­¾é¡µå’Œæ–‡ç« ç»„ä»¶çš„ä½¿ç”¨" class="headerlink" title="é¦–é¡µTab æ ‡ç­¾é¡µå’Œæ–‡ç« ç»„ä»¶çš„ä½¿ç”¨"></a>é¦–é¡µTab æ ‡ç­¾é¡µå’Œæ–‡ç« ç»„ä»¶çš„ä½¿ç”¨</h3><p>è¿™é‡Œé¦–é¡µçš„ä¸»è¦å†…å®¹æ˜¯ä¾é  Vant ç»„ä»¶åº“ä¸­çš„Tabæ ‡ç­¾é¡µç»„ä»¶ é…åˆ è‡ªå·±å°è£…çš„æ–‡ç« ç»„ä»¶å®Œæˆçš„ã€‚è¿™é‡Œè¿˜æ·»åŠ äº† Vantç»„ä»¶åº“çš„ Listç»„ä»¶ï¼Œå®ç°ä¸‹æ‹‰åŠ è½½æ›´å¤šåŠŸèƒ½ï¼Œå¹¶åšäº†ä¼˜åŒ–å¤„ç†ï¼Œæ‰€ä»¥è‡ªå·±è®¤ä¸ºå¯¹åˆå­¦è€…çš„æˆ‘è¿˜æ˜¯æœ‰ä¸€å®šçš„éš¾åº¦çš„ğŸ˜</p><p>è¿™é‡Œé™„ä¸Š <a href="https://youzan.github.io/vant/#/zh-CN/">Vantç»„ä»¶åº“çš„åœ°å€</a></p><p>è¿™æ˜¯æˆ‘è‡ªå·±å°è£…çš„é¦–é¡µæ–‡ç« ç»„ä»¶</p><p>å¿½ç•¥å…¶ä¸­çš„æ ·å¼å’Œ js éƒ¨åˆ†</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> @<span class="attr">click</span>=<span class="string">&quot;$router.push(`/postdetail?id=$&#123;postData.id&#125;`)&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- ä¸“é—¨æ˜¾ç¤ºå•å›¾ç‰‡æ–°é—» --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 1. type == 1</span></span><br><span class="line"><span class="comment">      2. cover.length &gt;=1 &amp;&amp; &lt; 3 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span></span></span><br><span class="line"><span class="tag">            </span></span><br><span class="line"><span class="tag">            <span class="attr">class</span>=<span class="string">&quot;singleNews&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">v-if</span>=<span class="string">&quot;</span></span></span><br><span class="line"><span class="tag"><span class="string">                postData.type == 1 &amp;&amp;</span></span></span><br><span class="line"><span class="tag"><span class="string">                postData.cover.length &gt;= 1 &amp;&amp;</span></span></span><br><span class="line"><span class="tag"><span class="string">                postData.cover.length &lt; 3</span></span></span><br><span class="line"><span class="tag"><span class="string">            &quot;</span></span></span><br><span class="line"><span class="tag">        &gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;left&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;title&quot;</span>&gt;</span></span><br><span class="line">                    &#123;&#123; postData.title &#125;&#125;</span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;info&quot;</span>&gt;</span></span><br><span class="line">                    &#123;&#123; postData.user.nickname &#125;&#125;</span><br><span class="line">                    &#123;&#123; postData.comment_length &#125;&#125; è·Ÿå¸–</span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">img</span> <span class="attr">:src</span>=<span class="string">&quot;fnFixImgUrl(postData.cover[0].url)&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> <span class="attr">class</span>=<span class="string">&quot;cover&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- ä¸“é—¨æ˜¾ç¤ºå¤šå›¾ç‰‡æ–°é—» --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 1. type == 1</span></span><br><span class="line"><span class="comment">      2. cover.length &gt;= 3 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span></span></span><br><span class="line"><span class="tag">            </span></span><br><span class="line"><span class="tag">            <span class="attr">class</span>=<span class="string">&quot;multipNews&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">v-if</span>=<span class="string">&quot;postData.type == 1 &amp;&amp; postData.cover.length &gt;= 3&quot;</span></span></span><br><span class="line"><span class="tag">        &gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;title&quot;</span>&gt;</span>&#123;&#123; postData.title &#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;coversWrapper&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">&quot;cover&quot;</span> <span class="attr">:src</span>=<span class="string">&quot;fnFixImgUrl(postData.cover[0].url)&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> /&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">&quot;cover&quot;</span> <span class="attr">:src</span>=<span class="string">&quot;fnFixImgUrl(postData.cover[1].url)&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> /&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">&quot;cover&quot;</span> <span class="attr">:src</span>=<span class="string">&quot;fnFixImgUrl(postData.cover[2].url)&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;info&quot;</span>&gt;</span></span><br><span class="line">                &#123;&#123; postData.user.nickname &#125;&#125; &#123;&#123; postData.comment_length &#125;&#125; è·Ÿå¸–</span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- ä¸“é—¨æ˜¾ç¤ºè§†é¢‘ --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 1. type == 2</span></span><br><span class="line"><span class="comment">      2. å°é¢æœ€å°‘æœ‰ä¸€å¼  --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span></span></span><br><span class="line"><span class="tag">            </span></span><br><span class="line"><span class="tag">            <span class="attr">class</span>=<span class="string">&quot;singleVideo&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">v-if</span>=<span class="string">&quot;postData.type == 2 &amp;&amp; postData.cover.length &gt;= 1&quot;</span></span></span><br><span class="line"><span class="tag">        &gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;title&quot;</span>&gt;</span>&#123;&#123; postData.title &#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;coverWrapper&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">img</span> <span class="attr">:src</span>=<span class="string">&quot;fnFixImgUrl(postData.cover[0].url)&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> <span class="attr">class</span>=<span class="string">&quot;cover&quot;</span> /&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;iconfont iconshipin&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;info&quot;</span>&gt;</span></span><br><span class="line">                &#123;&#123; postData.user.nickname &#125;&#125; &#123;&#123; postData.comment_length &#125;&#125; è·Ÿå¸–</span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æƒ³è¦è®©æˆ‘ä»¬çš„ç»„ä»¶æ˜¾ç¤ºåªè¦ä¼ å…¥ä¸€ä¸ª <code>postData</code> å•ä¸ªæ–‡ç« æ•°æ®å°±èƒ½æ¸²æŸ“å‡ºæ¥ï¼Œé…åˆæˆ‘ä»¬ Vant ä¸­çš„tabæ ‡ç­¾é¡µç»„ä»¶ä½¿ç”¨æ­£å¸¸æ¸²æŸ“é—®é¢˜éƒ½ä¸å¤§ï¼Œ</p><h4 id="é—®é¢˜è¯´æ˜"><a href="#é—®é¢˜è¯´æ˜" class="headerlink" title="é—®é¢˜è¯´æ˜"></a>é—®é¢˜è¯´æ˜</h4><p>ä½†æ˜¯ä¹Ÿå­˜åœ¨ä¸€ä¸ªè‡´å‘½çš„é—®é¢˜ï¼Œé‚£å°±æ˜¯ï¼Œæˆ‘ä»¬æ¯ä¸€æ¬¡åˆ‡æ¢é¡µé¢éƒ½è¦å‘é€è¯·æ±‚ï¼Œä¸ç®¡æ˜¯å¦æµè§ˆè¿‡è¯¥æ ç›®éƒ½ä¼šå†æ¬¡å‘é€è¯·æ±‚ï¼Œè¿™æ ·çš„è¯ï¼Œå¯¹æœåŠ¡å™¨é€ æˆçš„è´Ÿæ‹…ä¼šæ¯”è¾ƒå¤§ã€‚æ‰€ä»¥ï¼Œè¿™é‡Œè¦è¿›è¡Œä¸€ä¸‹ä¼˜åŒ–</p><p>å®ç°æ–¹æ³•ï¼š</p><ol><li><p>åœ¨é¡µé¢è·å–æ‰€æœ‰çš„æ ç›®æ—¶ï¼Œåœ¨ç»™æ¯ä¸€ä¸ªæ ç›®æ•°æ®æ·»åŠ ä¸€ä¸ªç©ºçš„æ•°ç»„æ¥æ”¾ç½®ç›¸åº”çš„æ–‡ç« åˆ—è¡¨æ•°æ®</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">getcategoryList()&#123;</span><br><span class="line">      <span class="built_in">this</span>.$axios(&#123;</span><br><span class="line">        url:<span class="string">&#x27;/category&#x27;</span>     <span class="comment">// è·å–æ‰€æœ‰çš„æ ç›®æ•°æ®</span></span><br><span class="line">      &#125;).then(<span class="function"><span class="params">res</span>=&gt;</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.categoryList = res.data.data.map(<span class="function"><span class="params">category</span> =&gt;</span>&#123;</span><br><span class="line">          <span class="keyword">return</span>&#123;</span><br><span class="line">            ...category,</span><br><span class="line">            <span class="comment">// åœ¨è·å–æ–‡ç« åˆ†ç±»æ—¶æ·»åŠ  postListç©ºæ•°ç»„æ¥å­˜å‚¨æ–‡ç« åˆ—è¡¨æ•°ç»„</span></span><br><span class="line">            postList: [],</span><br><span class="line">            pageIndex:<span class="number">1</span>, <span class="comment">// å½“å‰é¡µæ•°</span></span><br><span class="line">            pageSize:<span class="number">5</span>,  <span class="comment">// æ¯é¡µæ•°æ®æ¡æ•°</span></span><br><span class="line">            loading:<span class="literal">false</span>,  <span class="comment">// å½“å‰æ˜¯å¦åœ¨åŠ è½½ä¸­</span></span><br><span class="line">            finished:<span class="literal">false</span>, <span class="comment">// æ˜¯å¦åŠ è½½å®Œæ¯•</span></span><br><span class="line">          &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">         <span class="comment">// åŠ è½½ç›¸åº”çš„æ–‡ç« æ•°æ®</span></span><br><span class="line">        <span class="built_in">this</span>.loadPost()</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;,</span><br></pre></td></tr></table></figure></li><li><p>åœ¨æ¯æ¬¡æ¿€æ´»è¯¥æ ç›®çš„æ—¶å€™ï¼Œåœ¨è·å–åˆ°ç›¸åº”çš„æ–‡ç« æ•°æ®æ—¶ï¼Œå°±å°†ç›¸åº”çš„æ–‡ç« æ•°æ®æ·»åŠ åˆ°ç›¸åº”çš„æ ç›®ç”Ÿæˆçš„ç©ºæ•°ç»„ <code>postList</code> ä¸­,å¦‚æœæœ‰æ–°çš„æ–‡ç« å°±å°†æ–°çš„æ•°æ®æ‹¼æ¥åœ¨ä¹‹å‰çš„æ•°æ®åé¢</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">loadPost()&#123;</span><br><span class="line">      <span class="built_in">this</span>.$axios(&#123;</span><br><span class="line">        url:<span class="string">&#x27;/post&#x27;</span>,</span><br><span class="line">        params:&#123;</span><br><span class="line">          <span class="comment">// ä¼ å…¥æ–‡ç« åˆ†ç±»çš„id</span></span><br><span class="line">          category:<span class="built_in">this</span>.curCate.id,</span><br><span class="line">          pageIndex:<span class="built_in">this</span>.curCate.pageIndex, <span class="comment">// å½“å‰é¡µæ•°</span></span><br><span class="line">          pageSize:<span class="built_in">this</span>.curCate.pageSize, </span><br><span class="line">        &#125;</span><br><span class="line">      &#125;).then(<span class="function"><span class="params">res</span> =&gt;</span>&#123;</span><br><span class="line">        <span class="comment">// å°†è·å–åˆ°çš„æ–‡ç« åˆ—è¡¨æ·»åŠ åˆ°æ–‡ç« åˆ†ç±»ä¸­å¯¹åº”çš„ä½ç½®ä¸­å»</span></span><br><span class="line">        <span class="built_in">this</span>.curCate.postList = [</span><br><span class="line">          ...this.curCate.postList,</span><br><span class="line">          ...res.data.data</span><br><span class="line">        ]</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;,</span><br></pre></td></tr></table></figure></li><li><p>åœ¨æˆ‘ä»¬ç›‘å¬åˆ°äº†åˆ†ç±»æ ç›®å‘ç”Ÿå˜åŒ–çš„æ—¶å€™ï¼Œæˆ‘ä»¬è¦è¿›è¡Œç›¸åº”çš„åˆ¤æ–­ï¼Œå½“å‰æ ç›®åˆ†ç±»çš„ <code>postList</code> æ˜¯å¦å­˜åœ¨æ–‡ç« åˆ—è¡¨æ•°æ®ï¼Œè‹¥æ˜¯ä¸å­˜åœ¨ï¼Œå†å‘é€è¯·æ±‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">activeIndex()&#123;</span><br><span class="line">       <span class="comment">// è¿™é‡Œæ£€æµ‹åˆ°åˆ†ç±»åˆ‡æ¢ï¼ŒåŠ è½½æ–°åˆ†ç±»æ•°æ®</span></span><br><span class="line">        <span class="comment">// ä½†æ˜¯ï¼Œç”±äºæˆ‘ä»¬å·²ç»åˆ†æ ç›®ç®¡ç†æ•°æ®äº†</span></span><br><span class="line">        <span class="comment">// åªæœ‰æ–‡ç« ä¸å­˜åœ¨æ—¶æ‰ä¼šå‘é€è¯·æ±‚è·å–æ–‡ç« åˆ—è¡¨</span></span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">this</span>.curCate.postList.length == <span class="number">0</span>)&#123;</span><br><span class="line">          <span class="built_in">this</span>.loadPost()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>è¿™æ ·ï¼Œæˆ‘ä»¬å°±å¯ä»¥è¾¾åˆ°æˆ‘ä»¬è¦çš„æ•ˆæœäº†ğŸ¤­</p></li></ol><h4 id="å°ç»“-1"><a href="#å°ç»“-1" class="headerlink" title="å°ç»“"></a>å°ç»“</h4><p>å…¶å®è¿™ä¸ªåœ¨å®Œæˆé¡¹ç›®å®Œæˆä¹‹åï¼Œå›è¿‡å¤´æ¥çœ‹å°±è§‰å¾—ä¹Ÿä¸æ˜¯å¾ˆéš¾ï¼Œä¸»è¦æ˜¯æ•°æ®æœ‰ç‚¹å¤æ‚ï¼Œä¸€å±‚å¥—ä¸€å±‚ï¼Œåˆšå¼€å§‹æ•²çš„æ—¶å€™å¾ˆéš¾ç†æ¸…æ¥šã€‚ç´¢æ€§æœ€åè¿˜æ˜¯ç†æ¸…æ¥šäº†ğŸ¤­</p><h3 id="é€’å½’ç»„ä»¶å®ç°è¯„è®ºæ¨¡å—"><a href="#é€’å½’ç»„ä»¶å®ç°è¯„è®ºæ¨¡å—" class="headerlink" title="é€’å½’ç»„ä»¶å®ç°è¯„è®ºæ¨¡å—"></a>é€’å½’ç»„ä»¶å®ç°è¯„è®ºæ¨¡å—</h3><p>è¯´èµ·é€’å½’ç»„ä»¶ï¼Œå¯¹äºä¸€ä¸ªåˆå­¦è€…è¿˜æ˜¯æœ‰ä¸€å®šçš„å¨æ…‘åŠ›çš„ğŸ˜œï¼Œè¿™é‡Œä½œä¸ºå›é¡¾çš„è¯ï¼Œå°±æŠŠé€’å½’ä¹Ÿä¸€èµ·å¤ä¹ ä¸€ä¸‹å§</p><h4 id="ä»€ä¹ˆæ˜¯é€’å½’"><a href="#ä»€ä¹ˆæ˜¯é€’å½’" class="headerlink" title="ä»€ä¹ˆæ˜¯é€’å½’"></a>ä»€ä¹ˆæ˜¯é€’å½’</h4><p>é€’å½’å°±æ˜¯ä¸€ä¸ªå‡½æ•°ç›´æ¥æˆ–é—´æ¥çš„è°ƒç”¨è‡ªå·±ï¼Œæˆ‘ä»¬åœ¨ä½¿ç”¨çš„æ—¶å€™ä¸€å®šè¦è®©å®ƒèƒ½å¤Ÿåœä¸‹æ¥ï¼Œå¦åˆ™åœä¸ä¸‹æ¥çš„è¯ä¼šå‡ºäº‹å–”ğŸ¤­</p><h4 id="ä»€ä¹ˆæ˜¯é€’å½’ç»„ä»¶"><a href="#ä»€ä¹ˆæ˜¯é€’å½’ç»„ä»¶" class="headerlink" title="ä»€ä¹ˆæ˜¯é€’å½’ç»„ä»¶"></a>ä»€ä¹ˆæ˜¯é€’å½’ç»„ä»¶</h4><p>å…¶å®é€’å½’ç»„ä»¶è·Ÿé€’å½’æ˜¯å·®ä¸å¤šçš„ï¼Œåªæ˜¯é€’å½’æ˜¯å‡½æ•°è‡ªèº«çš„è°ƒç”¨ï¼Œè€Œé€’å½’ç»„ä»¶åˆ™æ˜¯ç»„ä»¶åœ¨æ»¡è¶³ä¸€å®šçš„æ¡ä»¶ä¸‹ç»„ä»¶å†…éƒ¨è°ƒç”¨è‡ªèº«ï¼Œè¯ä¸å¤šè¯´ï¼Œç›´æ¥ä¸Šä»£ç ğŸ‘‡</p><p><img src="https://pic.downk.cc/item/5f8a42251cd1bbb86bec0247.png"></p><p><img src="https://pic.downk.cc/item/5f8a42431cd1bbb86bec089a.png"></p><h4 id="åˆ†ææ€è·¯"><a href="#åˆ†ææ€è·¯" class="headerlink" title="åˆ†ææ€è·¯"></a>åˆ†ææ€è·¯</h4><p>è¿™æ˜¯æˆ‘ä»¬ä»æœåŠ¡å™¨æ‹¿åˆ°çš„æ•°æ®è¿˜æœ‰æˆ‘ä»¬è¦å®ç°çš„æ ·å¼ï¼Œä¸€ä¸ªè¯„è®ºé‡Œé¢è¿˜æœ‰å¯èƒ½åœ¨åµŒå¥—å¤šä¸€ä¸ªè¯„è®ºæ•°æ® <code>parent</code> ã€‚æ‰€ä»¥æˆ‘ä»¬çš„é€’å½’ç»„ä»¶çš„æ¡ä»¶ä¾¿æ˜¯è¿™ä¸ª <code>parent</code> æ˜¯å¦å­˜åœ¨ï¼Œåˆè€ƒè™‘åˆ°è¿™ä¸ªæœ€å¤–éƒ¨çš„ä¸»è¯„è®ºçš„æ ·å¼ä¸­è¿˜åŒ…æ‹¬äº†å…¶ä»–çš„ä¸€äº›æ ·å¼ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿™é‡Œå°±åˆ›å»ºäº†ä¸¤ä¸ªç»„ä»¶ï¼Œä¸€ä¸ªçˆ¶ç»„ä»¶ç¼–å†™æœ€å¤–å±‚çš„ä¸»è¯„è®ºï¼Œå­ç»„ä»¶æ¥å®Œæˆè¯„è®ºå†…éƒ¨çš„é€’å½’ç»„ä»¶ã€‚çˆ¶ç»„ä»¶ä¸­åµŒå¥—å­ç»„ä»¶ï¼Œæ¥å®Œæˆæˆ‘ä»¬çš„è¯„è®ºåˆ—è¡¨çš„æ¸²æŸ“</p><p>å­ç»„ä»¶ç»“æ„å¦‚ä¸‹ğŸ‘‡</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;parentWrapper&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">Parent</span> <span class="attr">v-if</span>=<span class="string">&quot;parentData.parent&quot;</span> <span class="attr">:parentData</span>=<span class="string">&quot;parentData.parent&quot;</span> /&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;info&quot;</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;name&quot;</span>&gt;</span>&#123;&#123; parentData.user.nickname &#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;date&quot;</span>&gt;</span>3å°æ—¶å‰<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;btnReply&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;headleClick&quot;</span>&gt;</span>å›å¤<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;ParentContent&quot;</span>&gt;</span></span><br><span class="line">              &#123;&#123; parentData.content &#125;&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„ç‚¹</strong></p><p>ç»„ä»¶å†…éƒ¨è°ƒç”¨è‡ªèº«ï¼Œè¦è®°å¾—ç»™è‡ªèº«è®¾ç½® <code>name</code> å±æ€§</p><h3 id="äº‹ä»¶æ€»çº¿EventBus"><a href="#äº‹ä»¶æ€»çº¿EventBus" class="headerlink" title="äº‹ä»¶æ€»çº¿EventBus"></a>äº‹ä»¶æ€»çº¿EventBus</h3><h4 id="æ¦‚è¿°ï¼š"><a href="#æ¦‚è¿°ï¼š" class="headerlink" title="æ¦‚è¿°ï¼š"></a>æ¦‚è¿°ï¼š</h4><p>åœ¨Vueä¸­å¯ä»¥ä½¿ç”¨Â <code>EventBus</code>Â æ¥ä½œä¸ºæ²Ÿé€šæ¡¥æ¢çš„æ¦‚å¿µï¼Œå°±åƒæ˜¯æ‰€æœ‰ç»„ä»¶å…±ç”¨ç›¸åŒçš„äº‹ä»¶ä¸­å¿ƒï¼Œå¯ä»¥å‘è¯¥ä¸­å¿ƒæ³¨å†Œå‘é€äº‹ä»¶æˆ–æ¥æ”¶äº‹ä»¶ï¼Œæ‰€ä»¥ç»„ä»¶éƒ½å¯ä»¥ä¸Šä¸‹å¹³è¡Œåœ°é€šçŸ¥å…¶ä»–ç»„ä»¶ï¼Œä½†ä¹Ÿå°±æ˜¯å¤ªæ–¹ä¾¿æ‰€ä»¥è‹¥ä½¿ç”¨ä¸æ…ï¼Œå°±ä¼šé€ æˆéš¾ä»¥ç»´æŠ¤çš„ç¾éš¾ï¼Œå› æ­¤æ‰éœ€è¦æ›´å®Œå–„çš„Vuexä½œä¸ºçŠ¶æ€ç®¡ç†ä¸­å¿ƒï¼Œå°†é€šçŸ¥çš„æ¦‚å¿µä¸Šå‡åˆ°å…±äº«çŠ¶æ€å±‚æ¬¡ </p><h4 id="ä½¿ç”¨èƒŒæ™¯-3"><a href="#ä½¿ç”¨èƒŒæ™¯-3" class="headerlink" title="ä½¿ç”¨èƒŒæ™¯"></a>ä½¿ç”¨èƒŒæ™¯</h4><p>ç”±äºé€’å½’ç»„ä»¶çš„å¤šå±‚åµŒå¥—ï¼Œæˆ‘ä»¬åœ¨å®Œæˆè¯„è®ºçš„å‘å¸ƒåŠŸèƒ½çš„æ—¶å€™ä¼ é€’æ•°æ®å’Œå“åº”äº‹ä»¶å°±æ˜¾çš„ç‰¹åˆ«éº»çƒ¦ï¼Œä½†æ˜¯è¿™ä¸ªæ—¶å€™æˆ‘è¿˜æ²¡æœ‰å­¦ä¹ vuexï¼Œæ‰€ä»¥å°±ä½¿ç”¨åˆ°äº†äº‹ä»¶æ€»çº¿ <code>EventBus</code> </p><h4 id="ä½¿ç”¨æ–¹æ³•-3"><a href="#ä½¿ç”¨æ–¹æ³•-3" class="headerlink" title="ä½¿ç”¨æ–¹æ³•"></a>ä½¿ç”¨æ–¹æ³•</h4><ol><li>åˆ›å»ºäº‹ä»¶æ€»çº¿å¹¶å°†å…¶å¯¼å‡ºï¼Œä»¥ä¾¿å…¶å®ƒæ¨¡å—å¯ä»¥ä½¿ç”¨æˆ–è€…ç›‘å¬å®ƒã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸¤ç§æ–¹å¼æ¥å®ç°ã€‚å…ˆæ¥çœ‹ç¬¬ä¸€ç§ï¼Œæ–°åˆ›å»ºä¸€ä¸ªjsæ–‡ä»¶ï¼Œæ¯”å¦‚Â <code>eventBus.js</code> ,ç¬¬äºŒç§æ–¹æ³•å°±æ˜¯ç›´æ¥åœ¨ <code>main.js</code> æ–‡ä»¶ä¸­åˆå§‹åŒ– <code>eventBus</code></li></ol><p>   <code>ulit/eventBus.js</code></p>   <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¿™é‡Œåˆ›å»ºä¸€ä¸ª vue å®ä¾‹</span></span><br><span class="line"><span class="comment">// ä½œä¸ºå…¬å…±äº‹ä»¶æ€»çº¿ eventBus</span></span><br><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">const</span> eventBus = <span class="keyword">new</span> Vue()</span><br><span class="line"><span class="comment">// å°†è¿™ä¸ªå®ä¾‹å¯¼å‡º</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> eventBus</span><br></pre></td></tr></table></figure><p>   <code>main.js</code></p>   <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Vue.prototype.$EventBus = <span class="keyword">new</span> Vue()</span><br></pre></td></tr></table></figure><p>   è¿™ä¸¤ç§æ–¹æ³•ä»»é€‰ä¸€ç§å³å¯ï¼Œè¿™é‡Œæˆ‘ä½¿ç”¨çš„æ˜¯ç¬¬ä¸€ç§æ–¹æ³•ã€‚</p><ol start="2"><li><p>æ¥ä¸‹æ¥å°±æ˜¯å‘é€äº‹ä»¶äº†ï¼Œæ¯”å¦‚æˆ‘ä»¬è¦åœ¨çˆ¶ç»„ä»¶ä¸Šç›‘å¬å­ç»„ä»¶ä¸­çš„æ¢å¤æŒ‰é’® <code>click</code> äº‹ä»¶ <code>headleClick</code> ,æˆ‘ä»¬éœ€è¦åœ¨å­ç»„ä»¶ä¸­å¼•å…¥æˆ‘ä»¬çš„äº‹ä»¶æ€»çº¿ï¼Œåœ¨é€šè¿‡æˆ‘ä»¬çš„ <code>eventBus.$emit()</code> ï¼Œå°†æˆ‘ä»¬çš„äº‹ä»¶å‘é€å‡ºå»</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> eventBus <span class="keyword">from</span> <span class="string">&#x27;../../utils/eventBus&#x27;</span>   <span class="comment">// å¼•å…¥æˆ‘ä»¬çš„äº‹ä»¶æ€»çº¿</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    methods:&#123;</span><br><span class="line">        headleClick()&#123;</span><br><span class="line">            <span class="comment">// callReplyä¸ºä¼ é€’è¿‡å»çš„äº‹ä»¶åï¼Œå¯ä»¥è‡ªå®šä¹‰ï¼Œthis.parentDataä¸ºä¼ é€’è¿‡å»çš„æ•°æ®</span></span><br><span class="line">            eventBus.$emit(<span class="string">&#x27;callReply&#x27;</span>, <span class="built_in">this</span>.parentData)</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>å†å°±æ˜¯åœ¨çˆ¶ç»„ä»¶ä¸­æ¥æ”¶äº‹ä»¶äº†ï¼Œæˆ‘ä»¬éœ€è¦åœ¨çˆ¶ç»„ä»¶ä¸­å¼•å…¥æˆ‘ä»¬çš„äº‹ä»¶æ€»çº¿ï¼Œåœ¨é€šè¿‡æˆ‘ä»¬çš„<code>eventBus.$on</code> æ¥ç›‘å¬äº‹ä»¶ï¼Œè¿™ä¸ªäº‹ä»¶å¯ä»¥æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªä¸ºè¦ç›‘å¬çš„æ—¶é—´åï¼Œä¹Ÿå°±æ˜¯å­ç»„ä»¶ä¼ é€’è¿‡æ¥çš„äº‹ä»¶åï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºä¸€ä¸ªå‡½æ•°ï¼Œå¯ä»¥æ¥æ”¶åˆ°å­ç»„ä»¶ä¼ é€’è¿‡æ¥çš„æ•°æ®ï¼Œç„¶åå†å‡½æ•°å†…éƒ¨å¤„ç†ç›¸å…³çš„ä¸šåŠ¡é€»è¾‘å°±å¯ä»¥äº†</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">created()&#123;</span><br><span class="line">       <span class="comment">// å¯ä»¥ç›‘å¬è¿™ä¸ªå®ä¾‹è§¦å‘çš„æ—¶é—´</span></span><br><span class="line">       <span class="comment">// æœ‰ä¸¤ä¸ªå‚æ•°</span></span><br><span class="line">       <span class="comment">// ä¸€ä¸ªäº‹ä»¶å</span></span><br><span class="line">       <span class="comment">// å›è°ƒå‡½æ•°ï¼Œä¸€æ ·å¯ä»¥æ¥å—æ•°æ®</span></span><br><span class="line">       eventBus.$on(<span class="string">&#x27;callReply&#x27;</span>,<span class="function">(<span class="params">comment</span>)=&gt;</span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(comment)      </span><br><span class="line">           <span class="comment">// è¿™é‡Œæ‰“å°å‡ºæ¥çš„ç»“æœå°±æ˜¯å­ç»„ä»¶ä¼ é€’è¿‡æ¥çš„æ•°æ®ï¼Œthis.parentData</span></span><br><span class="line">       &#125;),</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure></li><li><p>æœ€åå½“ç„¶å°±æ˜¯åœ¨é¡µé¢é”€æ¯çš„æ—¶å€™é”€æ¯ç›‘å¬äº‹ä»¶äº†ğŸ˜ï¼Œå¤§å®¶éƒ½çŸ¥é“<code>vue</code>æ˜¯å•é¡µåº”ç”¨ï¼Œå¦‚æœä½ åœ¨æŸä¸€ä¸ªé¡µé¢åˆ·æ–°äº†ä¹‹åï¼Œä¸ä¹‹ç›¸å…³çš„<code>EventBus</code>ä¼šè¢«ç§»é™¤ï¼Œè¿™æ ·å°±å¯¼è‡´ä¸šåŠ¡èµ°ä¸ä¸‹å»ã€‚è¿˜è¦å°±æ˜¯å¦‚æœä¸šåŠ¡æœ‰åå¤æ“ä½œçš„é¡µé¢ï¼Œ<code>EventBus</code>åœ¨ç›‘å¬çš„æ—¶å€™å°±ä¼šè§¦å‘å¾ˆå¤šæ¬¡ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªéå¸¸å¤§çš„éšæ‚£ã€‚è¿™æ—¶å€™æˆ‘ä»¬å°±éœ€è¦å¥½å¥½å¤„ç†<code>EventBus</code>åœ¨é¡¹ç›®ä¸­çš„å…³ç³»ã€‚é€šå¸¸ä¼šç”¨åˆ°ï¼Œåœ¨<code>vue</code>é¡µé¢é”€æ¯æ—¶ï¼ŒåŒæ—¶ç§»é™¤<code>EventBus</code>äº‹ä»¶ç›‘å¬ã€‚æˆ‘ä»¬åªéœ€è¦åœ¨ç›‘å¬äº‹ä»¶çš„é¡µé¢ä¸Šæ·»åŠ ä¸‹é¢è¿™å‡ è¡Œä»£ç å°±å¯ä»¥äº†ğŸ‘‡</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">destroyed() &#123;</span><br><span class="line">    <span class="comment">// é”€æ¯æ—¶å–æ¶ˆç›‘å¬</span></span><br><span class="line">    eventBus.$off(<span class="string">&#x27;callReply&#x27;</span>)</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><p> è¿™æ ·ï¼Œæˆ‘ä»¬çš„æ•´ä¸ªäº‹ä»¶æ€»çº¿çš„ä½¿ç”¨å°±å¯ä»¥è¾¾åˆ°æˆ‘ä»¬æƒ³è¦çš„æ•ˆæœäº†ğŸ˜„</p></li></ol>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue.js </tag>
            
            <tag> é¡¹ç›®æ€»ç»“ </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
