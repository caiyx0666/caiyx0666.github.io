<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>è‹±é›„å¤´æ¡é¡¹ç›®æ€»ç»“ | è”¡è‹±é›„çš„ä¸ªäººåšå®¢ğŸ¤­</title><meta name="keywords" content="Vue.js,é¡¹ç›®æ€»ç»“"><meta name="author" content="è”¡è‹±é›„,caiyx0666@gmail.com"><meta name="copyright" content="è”¡è‹±é›„"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta name="description" content="è‹±é›„å¤´æ¡ï¼ˆç§»åŠ¨ç«¯ï¼‰çš„ä¸€äº›æ„Ÿæ‚Ÿé¡¹ç›®ä»‹ç»è‹±é›„å¤´æ¡æ˜¯ä¸€ä¸ªé€šç”¨ä¿¡æ¯å¹³å°ï¼Œè‡´åŠ›äºè¿æ¥äººä¸ä¿¡æ¯ï¼Œè®©ä¼˜è´¨ä¸°å¯Œçš„ä¿¡æ¯å¾—åˆ°é«˜æ•ˆç²¾å‡†çš„åˆ†å‘ï¼Œä¿ƒä½¿ä¿¡æ¯åˆ›é€ ä»·å€¼ã€‚ è‹±é›„å¤´æ¡ç›®å‰æ‹¥æœ‰æ¨èå¼•æ“ã€æœç´¢å¼•æ“ã€å…³æ³¨è®¢é˜…å’Œå†…å®¹è¿è¥ç­‰å¤šç§åˆ†å‘æ–¹å¼ï¼Œå›Šæ‹¬å›¾æ–‡ã€è§†é¢‘ã€é—®ç­”ç­‰å¤šç§å†…å®¹ä½“è£ï¼Œå¹¶æ¶µç›–ç§‘æŠ€ã€ä½“è‚²ã€å¥åº·ã€ç¾é£Ÿã€æ•™è‚²ç­‰å¤šä¸ªå†…å®¹é¢†åŸŸã€‚ è‹±é›„å¤´æ¡åŒ…æ‹¬ç§»åŠ¨ç«¯å‰å°æµè§ˆæ–‡ç« ã€ä¸ªäººä¸­å¿ƒã€è¯„è®ºç­‰é¡µé¢ã€‚Pcç«¯åå°ç®¡ç†æ–‡ç« ã€å‘å¸ƒæ–‡ç« ã€ç¼–è¾‘æ–‡ç« ç­‰ã€‚ é¡¹ç›®">
<meta property="og:type" content="article">
<meta property="og:title" content="è‹±é›„å¤´æ¡é¡¹ç›®æ€»ç»“">
<meta property="og:url" content="http://caiyx0666.github.io/yxtoutiao/index.html">
<meta property="og:site_name" content="è”¡è‹±é›„çš„ä¸ªäººåšå®¢ğŸ¤­">
<meta property="og:description" content="è‹±é›„å¤´æ¡ï¼ˆç§»åŠ¨ç«¯ï¼‰çš„ä¸€äº›æ„Ÿæ‚Ÿé¡¹ç›®ä»‹ç»è‹±é›„å¤´æ¡æ˜¯ä¸€ä¸ªé€šç”¨ä¿¡æ¯å¹³å°ï¼Œè‡´åŠ›äºè¿æ¥äººä¸ä¿¡æ¯ï¼Œè®©ä¼˜è´¨ä¸°å¯Œçš„ä¿¡æ¯å¾—åˆ°é«˜æ•ˆç²¾å‡†çš„åˆ†å‘ï¼Œä¿ƒä½¿ä¿¡æ¯åˆ›é€ ä»·å€¼ã€‚ è‹±é›„å¤´æ¡ç›®å‰æ‹¥æœ‰æ¨èå¼•æ“ã€æœç´¢å¼•æ“ã€å…³æ³¨è®¢é˜…å’Œå†…å®¹è¿è¥ç­‰å¤šç§åˆ†å‘æ–¹å¼ï¼Œå›Šæ‹¬å›¾æ–‡ã€è§†é¢‘ã€é—®ç­”ç­‰å¤šç§å†…å®¹ä½“è£ï¼Œå¹¶æ¶µç›–ç§‘æŠ€ã€ä½“è‚²ã€å¥åº·ã€ç¾é£Ÿã€æ•™è‚²ç­‰å¤šä¸ªå†…å®¹é¢†åŸŸã€‚ è‹±é›„å¤´æ¡åŒ…æ‹¬ç§»åŠ¨ç«¯å‰å°æµè§ˆæ–‡ç« ã€ä¸ªäººä¸­å¿ƒã€è¯„è®ºç­‰é¡µé¢ã€‚Pcç«¯åå°ç®¡ç†æ–‡ç« ã€å‘å¸ƒæ–‡ç« ã€ç¼–è¾‘æ–‡ç« ç­‰ã€‚ é¡¹ç›®">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://s1.ax1x.com/2020/10/18/0OLw6S.jpg">
<meta property="article:published_time" content="2020-06-26T05:53:08.000Z">
<meta property="article:modified_time" content="2020-11-13T08:39:22.756Z">
<meta property="article:author" content="è”¡è‹±é›„">
<meta property="article:tag" content="Vue.js">
<meta property="article:tag" content="é¡¹ç›®æ€»ç»“">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://s1.ax1x.com/2020/10/18/0OLw6S.jpg"><link rel="shortcut icon" href="https://pic.downk.cc/item/5f85574e1cd1bbb86ba5685e.jpg"><link rel="canonical" href="http://caiyx0666.github.io/yxtoutiao/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"æ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹ï¼š${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true},
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶é”™è¯¯',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: 'åˆšåˆš',
    min: 'åˆ†é’Ÿå‰',
    hour: 'å°æ—¶å‰',
    day: 'å¤©å‰',
    month: 'ä¸ªæœˆå‰'
  },
  copyright: undefined,
  ClickShowText: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  justifiedGallery: {
    js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
    css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
};

var saveToLocal = {
  set: function setWithExpiry(key, value, ttl) {
    const now = new Date()
    const expiryDay = ttl * 86400000
    const item = {
      value: value,
      expiry: now.getTime() + expiryDay,
    }
    localStorage.setItem(key, JSON.stringify(item))
  },

  get: function getWithExpiry(key) {
    const itemStr = localStorage.getItem(key)

    if (!itemStr) {
      return undefined
    }
    const item = JSON.parse(itemStr)
    const now = new Date()

    if (now.getTime() > item.expiry) {
      localStorage.removeItem(key)
      return undefined
    }
    return item.value
  }
}</script><script id="config_change">var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2020-11-13 16:39:22'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(function () {
  window.activateDarkMode = function () {
    document.documentElement.setAttribute('data-theme', 'dark')
    if (document.querySelector('meta[name="theme-color"]') !== null) {
      document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
    }
  }
  window.activateLightMode = function () {
    document.documentElement.setAttribute('data-theme', 'light')
    if (document.querySelector('meta[name="theme-color"]') !== null) {
      document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
    }
  }

  const autoChangeMode = 'false'
  const t = saveToLocal.get('theme')
  if (autoChangeMode === '1') {
    const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
    const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
    const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
    const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

    if (t === undefined) {
      if (isLightMode) activateLightMode()
      else if (isDarkMode) activateDarkMode()
      else if (isNotSpecified || hasNoSupport) {
        const now = new Date()
        const hour = now.getHours()
        const isNight = hour <= 6 || hour >= 18
        isNight ? activateDarkMode() : activateLightMode()
      }
      window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
        if (saveToLocal.get('theme') === undefined) {
          e.matches ? activateDarkMode() : activateLightMode()
        }
      })
    } else if (t === 'light') activateLightMode()
    else activateDarkMode()
  } else if (autoChangeMode === '2') {
    const now = new Date()
    const hour = now.getHours()
    const isNight = hour <= 6 || hour >= 18
    if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
    else if (t === 'light') activateLightMode()
    else activateDarkMode()
  } else {
    if (t === 'dark') activateDarkMode()
    else if (t === 'light') activateLightMode()
  }
})()</script><meta name="generator" content="Hexo 5.2.0"></head><body><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="https://pic.downk.cc/item/5f85574e1cd1bbb86ba5685e.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length_num">16</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length_num">10</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length_num">3</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> é¦–é </span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> æ™‚é–“è»¸</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> åˆ†ç±»</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fa fa-heartbeat"></i><span> æ¸…å•</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fas fa-music"></i><span> éŸ³æ¨‚</span></a></li><li><a class="site-page" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> ç…§ç‰‡</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fas fa-video"></i><span> é›»å½±</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> å‹é“¾</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> å…³äº</span></a></div></div></div></div><div id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(https://s1.ax1x.com/2020/10/18/0OLw6S.jpg)"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">è”¡è‹±é›„çš„ä¸ªäººåšå®¢ğŸ¤­</a></span><span id="menus"><div id="search_button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> æœç´¢</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> é¦–é </span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> æ™‚é–“è»¸</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> åˆ†ç±»</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fa fa-heartbeat"></i><span> æ¸…å•</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fas fa-music"></i><span> éŸ³æ¨‚</span></a></li><li><a class="site-page" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> ç…§ç‰‡</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fas fa-video"></i><span> é›»å½±</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> å‹é“¾</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> å…³äº</span></a></div></div><span class="close" id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></span></span></nav><div id="post-info"><div id="post-title"><div class="posttitle">è‹±é›„å¤´æ¡é¡¹ç›®æ€»ç»“</div></div><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="fa-fw post-meta-icon fas fa-history"></i><span class="post-meta-label">æ›´æ–°äº</span><time datetime="2020-11-13T08:39:22.756Z" title="undefined 2020-11-13 16:39:22">2020-11-13</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%89%8D%E7%AB%AF/">å‰ç«¯</a></span></div><div class="meta-secondline"> <span class="post-meta-separator">|</span><span class="post-meta-pv-cv"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">é˜…è¯»é‡:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="è‹±é›„å¤´æ¡ï¼ˆç§»åŠ¨ç«¯ï¼‰çš„ä¸€äº›æ„Ÿæ‚Ÿ"><a href="#è‹±é›„å¤´æ¡ï¼ˆç§»åŠ¨ç«¯ï¼‰çš„ä¸€äº›æ„Ÿæ‚Ÿ" class="headerlink" title="è‹±é›„å¤´æ¡ï¼ˆç§»åŠ¨ç«¯ï¼‰çš„ä¸€äº›æ„Ÿæ‚Ÿ"></a>è‹±é›„å¤´æ¡ï¼ˆç§»åŠ¨ç«¯ï¼‰çš„ä¸€äº›æ„Ÿæ‚Ÿ</h1><h2 id="é¡¹ç›®ä»‹ç»"><a href="#é¡¹ç›®ä»‹ç»" class="headerlink" title="é¡¹ç›®ä»‹ç»"></a>é¡¹ç›®ä»‹ç»</h2><p>è‹±é›„å¤´æ¡æ˜¯ä¸€ä¸ªé€šç”¨ä¿¡æ¯å¹³å°ï¼Œè‡´åŠ›äºè¿æ¥äººä¸ä¿¡æ¯ï¼Œè®©ä¼˜è´¨ä¸°å¯Œçš„ä¿¡æ¯å¾—åˆ°é«˜æ•ˆç²¾å‡†çš„åˆ†å‘ï¼Œä¿ƒä½¿ä¿¡æ¯åˆ›é€ ä»·å€¼ã€‚</p>
<p>è‹±é›„å¤´æ¡ç›®å‰æ‹¥æœ‰æ¨èå¼•æ“ã€æœç´¢å¼•æ“ã€å…³æ³¨è®¢é˜…å’Œå†…å®¹è¿è¥ç­‰å¤šç§åˆ†å‘æ–¹å¼ï¼Œå›Šæ‹¬å›¾æ–‡ã€è§†é¢‘ã€é—®ç­”ç­‰å¤šç§å†…å®¹ä½“è£ï¼Œå¹¶æ¶µç›–ç§‘æŠ€ã€ä½“è‚²ã€å¥åº·ã€ç¾é£Ÿã€æ•™è‚²ç­‰å¤šä¸ªå†…å®¹é¢†åŸŸã€‚</p>
<p>è‹±é›„å¤´æ¡åŒ…æ‹¬ç§»åŠ¨ç«¯å‰å°æµè§ˆæ–‡ç« ã€ä¸ªäººä¸­å¿ƒã€è¯„è®ºç­‰é¡µé¢ã€‚Pcç«¯åå°ç®¡ç†æ–‡ç« ã€å‘å¸ƒæ–‡ç« ã€ç¼–è¾‘æ–‡ç« ç­‰ã€‚</p>
<h3 id="é¡¹ç›®åŸå‹"><a href="#é¡¹ç›®åŸå‹" class="headerlink" title="é¡¹ç›®åŸå‹"></a>é¡¹ç›®åŸå‹</h3><p><a target="_blank" rel="noopener" href="http://cai-yingxiong.gitee.io/yxtoutiao/#/">è‹±é›„å¤´æ¡å‰å°</a>è¿™ä¸ªé€šè¿‡ç äº‘éƒ¨ç½²åˆ°çº¿ä¸Šçš„é¡µé¢ï¼Œå¦‚æœå…è´¹è¯•ç”¨è¿‡æœŸçš„è¯ï¼Œå¯ä»¥å°è¯•æ‰“å¼€é€šè¿‡æ‰‹æœºæ‰“å¼€<a href="https://caiyx0666.github.io/toutiao/dist/index.html#/">è¿™ä¸ª</a>ğŸ˜œ,å› ä¸ºæ˜¯ä½¿ç”¨GitHub Page æœåŠ¡éƒ¨ç½²åˆ°çº¿ä¸Šçš„ï¼ŒGitHub Page æ˜¯ä¸æ”¯æŒä½¿ç”¨ http çš„ï¼Œæ‰€ä»¥åœ¨Pcç«¯çš„è¯å¯èƒ½æ˜¯æ‰“ä¸å¼€çš„ğŸ˜±</p>
<p><strong>è‹±é›„å¤´æ¡åå°å› ä¸ºçº¿ä¸Šçš„æœåŠ¡å™¨æ•°æ®çš„é”™ä¹±è¿™é‡Œå°±ä¸å±•ç¤ºäº†</strong>ğŸ˜³</p>
<h3 id="æŠ€æœ¯æ ˆ"><a href="#æŠ€æœ¯æ ˆ" class="headerlink" title="æŠ€æœ¯æ ˆ"></a>æŠ€æœ¯æ ˆ</h3><ul>
<li>Vue</li>
<li>Vue-router</li>
<li>Element-ui</li>
<li>Vue2Editor å¯Œæ–‡æœ¬ç¼–è¾‘å™¨</li>
<li>Vant</li>
<li>Axios</li>
<li>Token</li>
</ul>
<h2 id="é¡¹ç›®èƒŒæ™¯"><a href="#é¡¹ç›®èƒŒæ™¯" class="headerlink" title="é¡¹ç›®èƒŒæ™¯"></a>é¡¹ç›®èƒŒæ™¯</h2><p>å› ä¸ºæ¥è§¦Vueçš„æ—¶é—´ä¸é•¿ï¼Œä¸ä¹…å‰åˆšå­¦ä¹ å®ŒVueçš„åŸºæœ¬ä½¿ç”¨ï¼Œæ‰€ä»¥æƒ³é€šè¿‡è¯¥é¡¹ç›®æ¥åŠ æ·±å¯¹Vueæ¡†æ¶çš„äº†è§£ï¼Œå…¶ç›®çš„ä¹Ÿæ˜¯ä¸ºäº†å­¦ä¹ vueæ¡†æ¶çš„ä½¿ç”¨ï¼Œä½¿æˆ‘èƒ½ä»ä¸­å­¦ä¹ åˆ°å¾ˆå¤šä»¥åå·¥ä½œæœ‰ç”¨çš„ä¸œè¥¿ï¼Œä¸€åˆ‡éƒ½æ˜¯ä¸ºäº†å·¥ä½œï¼ï¼ï¼ğŸ’ª</p>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><h3 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h3><p>è¿™æ˜¯ä¸€ä¸ªä½¿ç”¨ <code>Vue-cli</code> è„šæ‰‹æ¶åˆ›å»ºçš„é¡¹ç›®ï¼Œå› ä¸ºä¹‹å‰å·²ç»ç³»ç»Ÿçš„å­¦ä¹ è¿‡Vueçš„åŸºæœ¬ä½¿ç”¨äº†ï¼Œæ‰€ä»¥è¿™é‡Œå°±ä¸ä»‹ç»çš„é‚£ä¹ˆè¯¦ç»†ï¼Œå°±ç®€å•çš„æ€»ç»“ä¸€ä¸‹é€šè¿‡è¿™ä¸ªé¡¹ç›®å­¦ä¹ åˆ°çš„ä¸œè¥¿å’Œéš¾ç‚¹ğŸ¤­</p>
<h3 id="è·¯ç”±å®ˆå«-å¯¼èˆªå®ˆå«"><a href="#è·¯ç”±å®ˆå«-å¯¼èˆªå®ˆå«" class="headerlink" title="è·¯ç”±å®ˆå«(å¯¼èˆªå®ˆå«)"></a>è·¯ç”±å®ˆå«(å¯¼èˆªå®ˆå«)</h3><p>å®˜æ–¹è§£é‡Šï¼š  æ­£å¦‚å…¶åï¼Œ<code>vue-router</code>Â æä¾›çš„å¯¼èˆªå®ˆå«ä¸»è¦ç”¨æ¥é€šè¿‡è·³è½¬æˆ–å–æ¶ˆçš„æ–¹å¼å®ˆå«å¯¼èˆªã€‚æœ‰å¤šç§æœºä¼šæ¤å…¥è·¯ç”±å¯¼èˆªè¿‡ç¨‹ä¸­ï¼šå…¨å±€çš„, å•ä¸ªè·¯ç”±ç‹¬äº«çš„, æˆ–è€…ç»„ä»¶çº§çš„ã€‚ </p>
<h4 id="ä½¿ç”¨èƒŒæ™¯"><a href="#ä½¿ç”¨èƒŒæ™¯" class="headerlink" title="ä½¿ç”¨èƒŒæ™¯"></a>ä½¿ç”¨èƒŒæ™¯</h4><p>åœ¨æˆ‘ä»¬ç™»å½•è¿›åˆ°ä¸€ä¸ªéœ€è¦ <code>token</code> æƒé™çš„ç½‘ç«™çš„æ—¶å€™ï¼Œå¦‚æœæœ¬åœ°çš„ token å€¼è¢«åˆ é™¤ï¼Œæˆ–è€…æ˜¯é€šè¿‡å¦å¤–çš„æ–¹æ³•è¿›å…¥åˆ°è¯¥é¡µé¢æ—¶ï¼Œæˆ‘ä»¬éœ€è¦ç”¨åˆ°è·¯ç”±å®ˆå«ï¼Œè·¯ç”±å®ˆå«å¯ä»¥ç†è§£ä¸º<strong>é¡µé¢è·³è½¬ä¹‹å‰</strong>çš„æ‹¦æˆªæ‰‹æ®µï¼Œå¯ä»¥åœ¨æ‹¦æˆªæ—¶åˆ¤æ–­éªŒè¯ç”¨æˆ·ä¿¡æ¯ï¼Œå†å†³å®šæ˜¯å¦å…è®¸ç”¨æˆ·è·³è½¬åˆ°è¯¥é¡µé¢ã€‚</p>
<h4 id="ä½¿ç”¨æ–¹æ³•"><a href="#ä½¿ç”¨æ–¹æ³•" class="headerlink" title="ä½¿ç”¨æ–¹æ³•"></a>ä½¿ç”¨æ–¹æ³•</h4><p>åœ¨  <code>src/main.js</code>  æ–‡ä»¶é‡Œæ³¨å†Œä¸€ä¸ª router.beforeEach  å…¨å±€å‰ç½®å®ˆå«</p>
<p><strong>ç›®æ ‡:</strong> ä½¿ç”¨è·¯ç”±å®ˆå«, æ¯å½“è·³è½¬åˆ°ä¸ªäººä¸­å¿ƒçš„æ—¶å€™, å…ˆæ ¡éªŒ token å¦‚æœæ²¡æœ‰,é‡å®šå‘åˆ°ç™»å½•é¡µ</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&#x27;./router&#x27;</span>        <span class="comment">// éœ€å¼•å…¥router</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å¼•å…¥äº† router ä»¥åå°±å¯ä»¥åˆ›å»ºè·¯ç”±å®ˆå«</span></span><br><span class="line"><span class="comment">// beforeEach æ˜¯å…¨å±€å‰ç½®å®ˆå«ï¼Œä¼šæ‹¦æˆªæ‰€æœ‰çš„é¡µé¢è·³è½¬</span></span><br><span class="line"><span class="comment">// æ¥å—ä¸€ä¸ªå›è°ƒå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œå¯¹è°ƒè½¬è¿›è¡Œå¤„ç†</span></span><br><span class="line">router.beforeEach(<span class="function">(<span class="params">to,<span class="keyword">from</span>,next</span>) =&gt;</span>&#123;</span><br><span class="line">    <span class="comment">// è¿™ä¸ªå‡½æ•°é»˜è®¤æœ‰ä¸‰ä¸ªå‚æ•°</span></span><br><span class="line">    <span class="comment">// to ç›®çš„åœ°çš„è·¯ç”±é…ç½®</span></span><br><span class="line">    <span class="comment">// from  æ¥æºè·¯ç”±é…ç½®</span></span><br><span class="line">    <span class="comment">// next  æ­£å¸¸ç»§ç»­ä¸‹é¢æ“ä½œçš„æ”¾è¡Œå‡½æ•°</span></span><br><span class="line">    <span class="comment">// åˆ¤æ–­è¦è·³è½¬åˆ°çš„é¡µé¢æ˜¯å¦ä¸ºä¸ªäººä¸»é¡µ</span></span><br><span class="line">    <span class="keyword">if</span> (to.path == <span class="string">&#x27;/personage&#x27;</span>) &#123;</span><br><span class="line">        <span class="comment">// åˆ¤æ–­æœ¬åœ°æ˜¯å¦å­˜åœ¨ token</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">localStorage</span>.getItem(<span class="string">&#x27;token&#x27;</span>)) &#123;</span><br><span class="line">            <span class="comment">// æœ‰ç™»å½•å°±æ”¾è¡Œ</span></span><br><span class="line">            next()</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// æ²¡æœ‰ç™»å½•å°±è·³è½¬åˆ°ç™»å½•é¡µ</span></span><br><span class="line">            router.push(<span class="string">&#x27;/login&#x27;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// ä¸æ˜¯è·³è½¬åˆ°ä¸ªäººä¸»é¡µå°±ä¸ç®¡</span></span><br><span class="line">        next()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>è¿™æ˜¯åœ¨ä¸ªäººä¸­å¿ƒé¡µé€€å‡ºåˆ°ç™»å½•é¡µæ—¶é€šè¿‡åœ¨å¯¼èˆªå«å£«ä¸­æ‰“å°çš„ <code>to</code> çš„ä¿¡æ¯</p>
<p><img src="https://pic.downk.cc/item/5f8a41471cd1bbb86bebcb8a.png"></p>
<p><strong>æ³¨æ„ç‚¹ï¼š</strong></p>
<p>å®ˆå«æ–¹æ³•æ¥æ”¶ä¸‰ä¸ªå‚æ•°ï¼š</p>
<ul>
<li>toï¼šä»£è¡¨è¦è·³è½¬åˆ°å“ªä¸ªè·¯ç”±ï¼ˆé¡µé¢ï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ <code>to.path</code> è·å–è¦è·³è½¬åˆ°çš„é¡µé¢çš„åœ°å€ï¼Œ</li>
<li>fromï¼šä»£è¡¨ä»å“ªä¸ªè·¯ç”±è·³è½¬è¿‡æ¥ï¼Œ<code>from.path</code> ä¸€æ ·å¯ä»¥æ‹¿åˆ°ä»å“ªä¸ªé¡µé¢è·³è½¬è¿‡æ¥çš„åœ°å€</li>
<li>nextï¼šæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå¿…é¡»è¦è°ƒç”¨æ‰èƒ½è·³è½¬åˆ°ä¸‹ä¸€ä¸ªé¡µé¢ï¼Œä¸è°ƒç”¨åˆ™ä¸è·³è½¬,æ‰€ä»¥ä¸€å®šè¦è®°å¾—next()<ul>
<li>next() : è¡¨ç¤ºæ­£å¸¸è·³è½¬åˆ°ä¸‹ä¸€é¡µ</li>
<li><strong>(æ–°ç‰ˆä¸èƒ½è¿™ä¹ˆç”¨)</strong>  next(â€œ/loginâ€) è¡¨ç¤ºé‡å®šå‘åˆ°æŒ‡å®šçš„é¡µé¢ </li>
<li>æœ€æ–°çš„è·¯ç”±, é‡å®šå‘å¯ä»¥ä½¿ç”¨ router.push (ä¸åœ¨ç»„ä»¶å†…å°±æ²¡æœ‰ this.$router äº†)</li>
</ul>
</li>
</ul>
<p><strong>è¡¥å……</strong>:</p>
<p>åœ¨æˆ‘ä»¬çš„é¡¹ç›®ä¸­æœ‰å¾ˆå¤šä¸ªé¡µé¢éƒ½æ˜¯éœ€è¦æœ‰æƒé™ <code>token</code> æ‰èƒ½è¿›å…¥ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿™é‡Œè¦å¯¹ <code>to.path</code> è¿›è¡Œå¤šæ¬¡éªŒè¯ï¼Œä½†æ˜¯åƒä¸Šè¿°æ–¹æ³•ä¸€æ ·çš„è¯å°±æ˜¾å¾—ä»£ç æœ‰ç‚¹å†—ä½™äº†ï¼Œè¿™é‡Œçš„è¯ï¼Œæˆ‘æƒ³åˆ°äº†ä¸¤ç§æ–¹æ³•ï¼š</p>
<p>ç¬¬ä¸€ç§ï¼š</p>
<p>é€šè¿‡å°†æ‰€æœ‰éœ€è¦è¿›è¡ŒéªŒè¯çš„é¡µé¢å…¨éƒ½æ”¾åœ¨ä¸€ä¸ªæ•°ç»„ä¸­ï¼Œå†åˆ¤æ–­ <code>to.path</code> æ˜¯å¦å­˜åœ¨è¯¥æ•°ç»„å½“ä¸­å³å¯</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">router.beforeEach(<span class="function">(<span class="params">to, <span class="keyword">from</span>, next</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">// å°†æ‰€æœ‰éœ€è¦æ ¡éªŒçš„é¡µé¢æå‡ºæ¥ï¼Œå˜æˆä¸€ä¸ªæ•°ç»„ç®¡ç†</span></span><br><span class="line">        <span class="comment">// 2ã€åªéœ€è¦åˆ¤æ–­ to.path æ˜¯å¦å­˜åœ¨äºæ•°ç»„ä¸­å³å¯</span></span><br><span class="line">        <span class="keyword">const</span> pageNeedAuth = [</span><br><span class="line">            <span class="string">&#x27;/personage&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;/compile&#x27;</span></span><br><span class="line">        ]</span><br><span class="line">        <span class="keyword">if</span> (pageNeedAuth.indexOf(to.path) &gt; <span class="number">-1</span>) &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">localStorage</span>.getItem(<span class="string">&#x27;token&#x27;</span>)) &#123;</span><br><span class="line">            <span class="comment">// æœ‰ç™»å½•å°±æ”¾è¡Œ</span></span><br><span class="line">            next()</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// æ²¡æœ‰ç™»å½•å°±è·³è½¬åˆ°ç™»å½•é¡µ</span></span><br><span class="line">            router.push(<span class="string">&#x27;/login&#x27;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// ä¸æ˜¯è·³è½¬åˆ°ä¸ªäººä¸»é¡µå°±ä¸ç®¡</span></span><br><span class="line">        next()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>ç¬¬äºŒç§ï¼š</p>
<p>æˆ‘ä»¬å¯ä»¥é€šè¿‡åˆ©ç”¨è·¯ç”±Â metaÂ å±æ€§ï¼Œé…ç½®æ˜¯å¦éœ€è¦ç™»å½•çš„é€‰é¡¹ï¼Œå¦‚æœè¦ç™»å½•å°±è®¾ç½®Â needAuthÂ ==Â true</p>
<p><code>src/router/index.js</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">        path: <span class="string">&#x27;/personage&#x27;</span>, <span class="comment">// ä¸ªäººä¸­å¿ƒ</span></span><br><span class="line">        name: <span class="string">&#x27;Personage&#x27;</span>,</span><br><span class="line">        component: Personage,</span><br><span class="line">        meta: &#123;</span><br><span class="line">            needAuth: <span class="literal">true</span>  <span class="comment">// éœ€è¦éªŒè¯</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br></pre></td></tr></table></figure>

<p><code>src/main.js</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">router.beforeEach(<span class="function">(<span class="params">to, <span class="keyword">from</span>, next</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// åˆ©ç”¨è·¯ç”± meta å±æ€§ï¼Œé…ç½®æ˜¯å¦éœ€è¦ç™»å½•çš„é€‰é¡¹</span></span><br><span class="line">    <span class="comment">// åˆ¤æ–­æ˜¯å¦éœ€è¦éªŒè¯</span></span><br><span class="line">    <span class="keyword">if</span> (to.path.needAuth) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">localStorage</span>.getItem(<span class="string">&#x27;token&#x27;</span>)) &#123;</span><br><span class="line">            <span class="comment">// æœ‰ç™»å½•å°±æ”¾è¡Œ</span></span><br><span class="line">            next()</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// æ²¡æœ‰ç™»å½•å°±è·³è½¬åˆ°ç™»å½•é¡µ</span></span><br><span class="line">            router.push(<span class="string">&#x27;/login&#x27;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// ä¸æ˜¯è·³è½¬åˆ°ä¸ªäººä¸»é¡µå°±ä¸ç®¡</span></span><br><span class="line">        next()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·å°±å¯ä»¥ï¼Œè¿™ä¸¤ç§æ–¹æ³•æ•ˆæœéƒ½æ˜¯ä¸€æ ·çš„ï¼Œä½†æ˜¯ä¸ªäººæ„Ÿè§‰ç¬¬äºŒç§æ–¹æ³•ä¼šæ–¹ä¾¿ä¸€ç‚¹ï¼Œæ¯”è¾ƒè¿™æ ·çš„è¯ï¼Œåœ¨è¿›è¡Œè·¯ç”±é…ç½®çš„æ—¶å€™å°±å¯ä»¥å¯¹å…¶è¿›è¡Œéœ€è¦éªŒè¯çš„è®¾ç½®äº†ï¼Œä¸ç”¨å†æ‰¾åˆ° <code>main.js</code> æ–‡ä»¶çš„è·¯ç”±å¯¼èˆªéƒ¨åˆ†è¿›è¡Œæ·»åŠ äº†ğŸ¤­</p>
<h4 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“:"></a>å°ç»“:</h4><ol>
<li>åˆ›å»ºè·¯ç”±å®ˆå«</li>
<li>åœ¨å›è°ƒä¸­æ ¡éªŒæƒé™ (æ˜¯å¦æœ‰ token)</li>
<li>å¦‚æœæœ‰ token åˆæ³•è®¿é—®, return next();</li>
<li>å¦‚æœæ²¡æœ‰å°±æ˜¯éæ³•è®¿é—®, return  router.push({path:â€™/loginâ€™}) è·³è½¬åˆ°ç™»å½•é¡µ</li>
<li>æœ€ååœ¨æ•´ä¸ªè·¯ç”±å®ˆå«çš„æœ€ä¸‹æ–¹å¿…é¡»æœ‰ä¸€ä¸ª next() ç”¨æ¥å¤„ç†å…¶ä»–é¡µé¢çš„æƒ…å†µ</li>
<li>æ¯ä¸ªé¡µé¢éƒ½ä¼šæ‰§è¡Œå…¨å±€å®ˆå«</li>
</ol>
<h3 id="axiosè®¾ç½®é»˜è®¤åŸºå‡†è·¯å¾„"><a href="#axiosè®¾ç½®é»˜è®¤åŸºå‡†è·¯å¾„" class="headerlink" title="axiosè®¾ç½®é»˜è®¤åŸºå‡†è·¯å¾„"></a>axiosè®¾ç½®é»˜è®¤åŸºå‡†è·¯å¾„</h3><h4 id="ä½¿ç”¨èƒŒæ™¯-1"><a href="#ä½¿ç”¨èƒŒæ™¯-1" class="headerlink" title="ä½¿ç”¨èƒŒæ™¯"></a>ä½¿ç”¨èƒŒæ™¯</h4><p>æ¯æ¬¡å‘é€è¯·æ±‚çš„æ—¶å€™éƒ½è¦æ·»åŠ æœåŠ¡å™¨åœ°å€çš„é—®é¢˜ï¼š</p>
<ol>
<li>é‡å¤ã€å¤ªéº»çƒ¦äº†â€¦</li>
<li>å‡å¦‚æœ‰ä¸€å¤©,ä½ çš„æœåŠ¡å™¨æ¬è¿äº†, æ¢æœåŠ¡å™¨äº†, æ¯”å¦‚ä»åœ¨çº¿çš„å˜æˆæœ¬åœ°çš„ http:127.0.0.1:3000ï¼Œç»´æŠ¤èµ·æ¥å°±å¾ˆéº»çƒ¦</li>
</ol>
<h4 id="ä½¿ç”¨æ–¹æ³•-1"><a href="#ä½¿ç”¨æ–¹æ³•-1" class="headerlink" title="ä½¿ç”¨æ–¹æ³•"></a>ä½¿ç”¨æ–¹æ³•</h4><p>æˆ‘ä»¬å¯ä»¥æå–è¯·æ±‚çš„ç»Ÿä¸€çš„æœåŠ¡å™¨åŸŸåçš„éƒ¨åˆ†è¿›è¡ŒæŠ½ç¦»è®¾ç½®</p>
<p>åœ¨ <code>main.js</code> æ–‡ä»¶ä¸­ é‡Œé¢è®¾ç½® <code>axios.defaults.baseURL</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">axios.dafaults.baseURL = <span class="string">&#x27;http://157.122.54.189:9083&#x27;</span>    <span class="comment">// åœ¨çº¿çš„æœåŠ¡å™¨</span></span><br><span class="line"><span class="comment">// axios.dafaults.baseURL = &#x27;http://127.0.0.1ï¼š3000&#x27;        // æœ¬åœ°æœåŠ¡å™¨</span></span><br></pre></td></tr></table></figure>

<p>è¿™æ ·ï¼Œæˆ‘ä»¬åœ¨å‘é€è¯·æ±‚çš„æ—¶å€™ï¼Œå°±ä¸ç”¨å†å†™æœåŠ¡å™¨åœ°å€äº†</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">this</span>.$axios(&#123;</span><br><span class="line">	url:<span class="string">&#x27;/login&#x27;</span>,</span><br><span class="line">	data:&#123;&#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>





<h3 id="axiosæ‹¦æˆªå™¨"><a href="#axiosæ‹¦æˆªå™¨" class="headerlink" title="axiosæ‹¦æˆªå™¨"></a>axiosæ‹¦æˆªå™¨</h3><p>åœ¨è¯·æ±‚æˆ–å“åº”è¢«Â <code>then</code> æˆ–Â <code>catch</code>Â å‡½æ•°å¤„ç†å‰æ‹¦æˆªå®ƒä»¬</p>
<h4 id="ä½¿ç”¨èƒŒæ™¯-2"><a href="#ä½¿ç”¨èƒŒæ™¯-2" class="headerlink" title="ä½¿ç”¨èƒŒæ™¯"></a>ä½¿ç”¨èƒŒæ™¯</h4><p>å¦‚æœç”¨æˆ·ä½¿ç”¨é”™è¯¯çš„ <code>token</code> ç»•è¿‡äº†å…¨å±€å¯¼èˆªå®ˆå«ï¼Œè¿›å…¥äº†é¡µé¢ï¼Œé¡µé¢ä¼šå‘é€è¯·æ±‚ï¼Œå¦‚æœå“åº”çš„æ˜¯ç”¨æˆ·ä¿¡æ¯éªŒè¯å¤±è´¥ï¼Œå°±åº”è¯¥åœ¨é¡µé¢å†…éƒ¨è¿›è¡Œè·³è½¬ï¼Œå¦‚æœæ¯ä¸ªé¡µé¢éƒ½è¿™ä¹ˆå†™çš„è¯ï¼Œå°±æ¯”è¾ƒçƒ¦ã€‚è€Œä¸”ï¼Œåœ¨æˆ‘ä»¬å‘é€è¯·æ±‚çš„æ—¶å€™ï¼Œå¤§å¤šéƒ½æ˜¯è¦ç»è¿‡éªŒè¯çš„ï¼Œä¹Ÿå°±æ˜¯åœ¨å‘é€è¯·æ±‚çš„æ—¶å€™ï¼Œéœ€è¦åœ¨è¯·æ±‚å¤´ <code>headers</code> ä¸­æ·»åŠ éªŒè¯ä¿¡æ¯ <code>token</code> ,ä½†æ˜¯æ¯ä¸ªè¯·æ±‚éƒ½å†™å°±æ˜¾å¾—æœ‰ç‚¹çƒ¦äººäº†ğŸ¤¯ï¼Œæ‰€ä»¥è¿™é‡Œç”¨æˆ‘ä»¬ axios çš„æ‹¦æˆªå™¨æ¥åšå†åˆé€‚ä¸è¿‡äº†ã€‚</p>
<h4 id="ä½¿ç”¨æ–¹æ³•-2"><a href="#ä½¿ç”¨æ–¹æ³•-2" class="headerlink" title="ä½¿ç”¨æ–¹æ³•"></a>ä½¿ç”¨æ–¹æ³•</h4><p>é™„ä¸Šå›¾è§£</p>
<p><img src="https://pic.downk.cc/item/5f8a42f11cd1bbb86bec344e.png"></p>
<p><code>src/main.js</code> æ–‡ä»¶ä¸­</p>
<ol>
<li>å› ä¸ºéœ€è¦ç»Ÿä¸€å¤„ç†é”™è¯¯, æ‰€ä»¥æ˜¯å…¨å±€çš„, å† main.js å½“ä¸­å£°æ˜æ‹¦æˆªå™¨</li>
<li><code>axios.interceptors.resquest.use()</code>å£°æ˜ä¸€ä¸ªè¯·æ±‚æ‹¦æˆªå™¨, å¯ä»¥æ¥å—ä¸€ä¸ªå›è°ƒå‡½æ•°åšå‚æ•°, å¸¦æœ‰è¯·æ±‚æ•°æ® config ï¼Œ å“åº”æ‹¦æˆªå™¨çš„å£°æ˜æ–¹æ³•åªè¦å°†ä¸Šè¿°æ–¹æ³•ä¸­çš„ <code>request</code> æ›´æ”¹ä¸º <code>response</code> å°±å¯ä»¥äº†ï¼Œä¸€æ ·å¯ä»¥æ¥æ”¶ä¸€ä¸ªå›è°ƒå‡½æ•°åšå‚æ•°ï¼Œå¸¦æœ‰å“åº”æ•°æ® res</li>
<li>æ‹¦æˆªå™¨æ‹¦æˆªæ•°æ®, å¤„ç†åå¿…é¡»æ”¾è¡Œ (return)</li>
<li>å°†æˆ‘ä»¬çš„é”™è¯¯é€»è¾‘ä» .then æŠ½ç¦»å‡ºæ¥æ”¾åˆ°å“åº”æ‹¦æˆªå™¨é‡Œé¢</li>
</ol>
<h5 id="è¯·æ±‚æ‹¦æˆªå™¨"><a href="#è¯·æ±‚æ‹¦æˆªå™¨" class="headerlink" title="è¯·æ±‚æ‹¦æˆªå™¨"></a>è¯·æ±‚æ‹¦æˆªå™¨</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»ºä¸€ä¸ªè¯·æ±‚æ‹¦æˆªå™¨</span></span><br><span class="line">axios.interceptors.request.use(<span class="function"><span class="params">config</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// è¿™é‡Œå¯ä»¥æ¥æ”¶ä¸€ä¸ªå½¢å‚ï¼Œæ‹¿åˆ°å½“å‰è¯·æ±‚çš„é…ç½®</span></span><br><span class="line">    <span class="comment">// å¦‚æœæœ¬åœ°å­˜åœ¨ token å¹¶ä¸” è¯·æ±‚æ•°æ®ä¸­æ²¡æœ‰è®¾ç½® token å°±æ‹¦æˆªä¸‹æ¥ç»™è¯·æ±‚å¤´æ·»åŠ  token</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">localStorage</span>.getItem(<span class="string">&#x27;token&#x27;</span>) &amp;&amp; !config.headers.Authorization) &#123;</span><br><span class="line">        config.headers.Authorization = <span class="string">&quot;Bearer &quot;</span> + <span class="built_in">localStorage</span>.getItem(<span class="string">&#x27;token&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ç»§ç»­å‘é€è¯·æ±‚</span></span><br><span class="line">    <span class="keyword">return</span> config</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



<h5 id="å“åº”æ‹¦æˆªå™¨"><a href="#å“åº”æ‹¦æˆªå™¨" class="headerlink" title="å“åº”æ‹¦æˆªå™¨"></a>å“åº”æ‹¦æˆªå™¨</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»ºä¸€ä¸ªå“åº”æ‹¦æˆªå™¨</span></span><br><span class="line">axios.interceptors.response.use(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// res ä¸ºå‘é€è¯·æ±‚åè¿”å›çš„æ•°æ®</span></span><br><span class="line">    <span class="comment">// åˆ¤æ–­è¿›æ¥çš„ç”¨æˆ·æ˜¯å¦æœ‰æƒé™</span></span><br><span class="line">    <span class="keyword">if</span> (res.data.message == <span class="string">&#x27;ç”¨æˆ·ä¿¡æ¯éªŒè¯å¤±è´¥&#x27;</span>) &#123;</span><br><span class="line">        <span class="comment">// æ¸…é™¤é”™è¯¯æ•°æ®ï¼Œå†è·³è½¬</span></span><br><span class="line">        <span class="built_in">localStorage</span>.clear()</span><br><span class="line">        router.replace(<span class="string">&#x27;/login&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// é™¤äº†æ˜ç¡®ç”¨æˆ·ä¿¡æ¯éªŒè¯å¤±è´¥è·³è½¬åˆ°ç™»å½•é¡µä»¥å¤–</span></span><br><span class="line">    <span class="comment">// è¿˜å¯ä»¥å°è£…å…¶ä»–çš„é€šç”¨å¤„ç†ï¼Œæ¯”å¦‚ çŠ¶æ€ç  statusCode æ˜¯ä»¥4å¼€å¤´çš„ä¸‰ä½æ•°çš„è¯·æ±‚</span></span><br><span class="line">    <span class="comment">// ä¸çŸ¥é“å¦‚ä½•å¤„ç†çš„æƒ…å†µä¸‹ï¼Œåªéœ€ç»Ÿä¸€å°† message ç»™æç¤ºå‡ºæ¥å°±å¯ä»¥äº†</span></span><br><span class="line">    <span class="comment">// ç»Ÿä¸€å¤„ç†å‘é€è¯·æ±‚é”™è¯¯</span></span><br><span class="line">    <span class="keyword">const</span> reg = <span class="regexp">/^4\d&#123;2&#125;$/</span></span><br><span class="line">    <span class="keyword">if</span> (reg.test(res.data.statusCode)) &#123;</span><br><span class="line">        Toast.fail(res.data.message)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p><strong>æ³¨æ„ç‚¹</strong></p>
<ol>
<li><p><code>src/main.js</code> æ–‡ä»¶ä¸­å¦‚æœæƒ³ä½¿ç”¨ vant ç»„ä»¶çš„è¯ï¼Œå› ä¸ºä¹‹å‰çš„é…ç½®æ˜¯å…¨å±€çš„ï¼Œåœ¨è¿™é‡Œæ˜¯ä¸èƒ½ç”¨çš„ï¼Œæ‰€ä»¥è¦å•ç‹¬å¼•å…¥</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import &#123; Toast &#125; from &#39;vant&#39;</span><br></pre></td></tr></table></figure>
</li>
<li><p>åœ¨ä¸çŸ¥é“æ˜¯å¦ä¸ºé”™è¯¯çš„æƒ…å†µä¸‹ï¼Œæ£€æŸ¥ res.data.statusCode å¦‚æœå­˜åœ¨å¹¶ä¸”æ˜¯ 4 å¼€å¤´çš„ä¸‰ä½æ•°, é‚£ä¹ˆå°±å¯ä»¥è¯æ˜å‡ºé”™</p>
</li>
<li><p>è®°å¾—å¤„ç†æ‹¦æˆªåå¿…é¡»æ”¾è¡Œ, ä¸ç„¶å°±å¡æ­»åœ¨è¿™äº†</p>
</li>
<li><p><strong>å¯¼èˆªå®ˆå«(è·¯ç”±å®ˆå«) è·Ÿ å“åº”æ‹¦æˆªå™¨ å®¹æ˜“æ··æ·†, ä½†æ˜¯ä½œç”¨å¾ˆä¸ä¸€æ ·, ç‰¹åˆ«æ˜¯ç”Ÿæ•ˆæ—¶é—´ç‚¹</strong></p>
</li>
</ol>
<p><img src="https://pic.downk.cc/item/5f8a41f41cd1bbb86bebf5ea.png"></p>
<h3 id="é¦–é¡µTab-æ ‡ç­¾é¡µå’Œæ–‡ç« ç»„ä»¶çš„ä½¿ç”¨"><a href="#é¦–é¡µTab-æ ‡ç­¾é¡µå’Œæ–‡ç« ç»„ä»¶çš„ä½¿ç”¨" class="headerlink" title="é¦–é¡µTab æ ‡ç­¾é¡µå’Œæ–‡ç« ç»„ä»¶çš„ä½¿ç”¨"></a>é¦–é¡µTab æ ‡ç­¾é¡µå’Œæ–‡ç« ç»„ä»¶çš„ä½¿ç”¨</h3><p>è¿™é‡Œé¦–é¡µçš„ä¸»è¦å†…å®¹æ˜¯ä¾é  Vant ç»„ä»¶åº“ä¸­çš„Tabæ ‡ç­¾é¡µç»„ä»¶ é…åˆ è‡ªå·±å°è£…çš„æ–‡ç« ç»„ä»¶å®Œæˆçš„ã€‚è¿™é‡Œè¿˜æ·»åŠ äº† Vantç»„ä»¶åº“çš„ Listç»„ä»¶ï¼Œå®ç°ä¸‹æ‹‰åŠ è½½æ›´å¤šåŠŸèƒ½ï¼Œå¹¶åšäº†ä¼˜åŒ–å¤„ç†ï¼Œæ‰€ä»¥è‡ªå·±è®¤ä¸ºå¯¹åˆå­¦è€…çš„æˆ‘è¿˜æ˜¯æœ‰ä¸€å®šçš„éš¾åº¦çš„ğŸ˜</p>
<p>è¿™é‡Œé™„ä¸Š <a target="_blank" rel="noopener" href="https://youzan.github.io/vant/#/zh-CN/">Vantç»„ä»¶åº“çš„åœ°å€</a></p>
<p>è¿™æ˜¯æˆ‘è‡ªå·±å°è£…çš„é¦–é¡µæ–‡ç« ç»„ä»¶</p>
<p>å¿½ç•¥å…¶ä¸­çš„æ ·å¼å’Œ js éƒ¨åˆ†</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> @<span class="attr">click</span>=<span class="string">&quot;$router.push(`/postdetail?id=$&#123;postData.id&#125;`)&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- ä¸“é—¨æ˜¾ç¤ºå•å›¾ç‰‡æ–°é—» --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 1. type == 1</span></span><br><span class="line"><span class="comment">      2. cover.length &gt;=1 &amp;&amp; &lt; 3 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span></span></span><br><span class="line"><span class="tag">            </span></span><br><span class="line"><span class="tag">            <span class="attr">class</span>=<span class="string">&quot;singleNews&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">v-if</span>=<span class="string">&quot;</span></span></span><br><span class="line"><span class="tag"><span class="string">                postData.type == 1 &amp;&amp;</span></span></span><br><span class="line"><span class="tag"><span class="string">                postData.cover.length &gt;= 1 &amp;&amp;</span></span></span><br><span class="line"><span class="tag"><span class="string">                postData.cover.length &lt; 3</span></span></span><br><span class="line"><span class="tag"><span class="string">            &quot;</span></span></span><br><span class="line"><span class="tag">        &gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;left&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;title&quot;</span>&gt;</span></span><br><span class="line">                    &#123;&#123; postData.title &#125;&#125;</span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;info&quot;</span>&gt;</span></span><br><span class="line">                    &#123;&#123; postData.user.nickname &#125;&#125;</span><br><span class="line">                    &#123;&#123; postData.comment_length &#125;&#125; è·Ÿå¸–</span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">img</span> <span class="attr">:src</span>=<span class="string">&quot;fnFixImgUrl(postData.cover[0].url)&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> <span class="attr">class</span>=<span class="string">&quot;cover&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- ä¸“é—¨æ˜¾ç¤ºå¤šå›¾ç‰‡æ–°é—» --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 1. type == 1</span></span><br><span class="line"><span class="comment">      2. cover.length &gt;= 3 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span></span></span><br><span class="line"><span class="tag">            </span></span><br><span class="line"><span class="tag">            <span class="attr">class</span>=<span class="string">&quot;multipNews&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">v-if</span>=<span class="string">&quot;postData.type == 1 &amp;&amp; postData.cover.length &gt;= 3&quot;</span></span></span><br><span class="line"><span class="tag">        &gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;title&quot;</span>&gt;</span>&#123;&#123; postData.title &#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;coversWrapper&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">&quot;cover&quot;</span> <span class="attr">:src</span>=<span class="string">&quot;fnFixImgUrl(postData.cover[0].url)&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> /&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">&quot;cover&quot;</span> <span class="attr">:src</span>=<span class="string">&quot;fnFixImgUrl(postData.cover[1].url)&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> /&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">&quot;cover&quot;</span> <span class="attr">:src</span>=<span class="string">&quot;fnFixImgUrl(postData.cover[2].url)&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;info&quot;</span>&gt;</span></span><br><span class="line">                &#123;&#123; postData.user.nickname &#125;&#125; &#123;&#123; postData.comment_length &#125;&#125; è·Ÿå¸–</span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- ä¸“é—¨æ˜¾ç¤ºè§†é¢‘ --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 1. type == 2</span></span><br><span class="line"><span class="comment">      2. å°é¢æœ€å°‘æœ‰ä¸€å¼  --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span></span></span><br><span class="line"><span class="tag">            </span></span><br><span class="line"><span class="tag">            <span class="attr">class</span>=<span class="string">&quot;singleVideo&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">v-if</span>=<span class="string">&quot;postData.type == 2 &amp;&amp; postData.cover.length &gt;= 1&quot;</span></span></span><br><span class="line"><span class="tag">        &gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;title&quot;</span>&gt;</span>&#123;&#123; postData.title &#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;coverWrapper&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">img</span> <span class="attr">:src</span>=<span class="string">&quot;fnFixImgUrl(postData.cover[0].url)&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> <span class="attr">class</span>=<span class="string">&quot;cover&quot;</span> /&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;iconfont iconshipin&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;info&quot;</span>&gt;</span></span><br><span class="line">                &#123;&#123; postData.user.nickname &#125;&#125; &#123;&#123; postData.comment_length &#125;&#125; è·Ÿå¸–</span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>æƒ³è¦è®©æˆ‘ä»¬çš„ç»„ä»¶æ˜¾ç¤ºåªè¦ä¼ å…¥ä¸€ä¸ª <code>postData</code> å•ä¸ªæ–‡ç« æ•°æ®å°±èƒ½æ¸²æŸ“å‡ºæ¥ï¼Œé…åˆæˆ‘ä»¬ Vant ä¸­çš„tabæ ‡ç­¾é¡µç»„ä»¶ä½¿ç”¨æ­£å¸¸æ¸²æŸ“é—®é¢˜éƒ½ä¸å¤§ï¼Œ</p>
<h4 id="é—®é¢˜è¯´æ˜"><a href="#é—®é¢˜è¯´æ˜" class="headerlink" title="é—®é¢˜è¯´æ˜"></a>é—®é¢˜è¯´æ˜</h4><p>ä½†æ˜¯ä¹Ÿå­˜åœ¨ä¸€ä¸ªè‡´å‘½çš„é—®é¢˜ï¼Œé‚£å°±æ˜¯ï¼Œæˆ‘ä»¬æ¯ä¸€æ¬¡åˆ‡æ¢é¡µé¢éƒ½è¦å‘é€è¯·æ±‚ï¼Œä¸ç®¡æ˜¯å¦æµè§ˆè¿‡è¯¥æ ç›®éƒ½ä¼šå†æ¬¡å‘é€è¯·æ±‚ï¼Œè¿™æ ·çš„è¯ï¼Œå¯¹æœåŠ¡å™¨é€ æˆçš„è´Ÿæ‹…ä¼šæ¯”è¾ƒå¤§ã€‚æ‰€ä»¥ï¼Œè¿™é‡Œè¦è¿›è¡Œä¸€ä¸‹ä¼˜åŒ–</p>
<p>å®ç°æ–¹æ³•ï¼š</p>
<ol>
<li><p>åœ¨é¡µé¢è·å–æ‰€æœ‰çš„æ ç›®æ—¶ï¼Œåœ¨ç»™æ¯ä¸€ä¸ªæ ç›®æ•°æ®æ·»åŠ ä¸€ä¸ªç©ºçš„æ•°ç»„æ¥æ”¾ç½®ç›¸åº”çš„æ–‡ç« åˆ—è¡¨æ•°æ®</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">getcategoryList()&#123;</span><br><span class="line">      <span class="built_in">this</span>.$axios(&#123;</span><br><span class="line">        url:<span class="string">&#x27;/category&#x27;</span>     <span class="comment">// è·å–æ‰€æœ‰çš„æ ç›®æ•°æ®</span></span><br><span class="line">      &#125;).then(<span class="function"><span class="params">res</span>=&gt;</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.categoryList = res.data.data.map(<span class="function"><span class="params">category</span> =&gt;</span>&#123;</span><br><span class="line">          <span class="keyword">return</span>&#123;</span><br><span class="line">            ...category,</span><br><span class="line">            <span class="comment">// åœ¨è·å–æ–‡ç« åˆ†ç±»æ—¶æ·»åŠ  postListç©ºæ•°ç»„æ¥å­˜å‚¨æ–‡ç« åˆ—è¡¨æ•°ç»„</span></span><br><span class="line">            postList: [],</span><br><span class="line">            pageIndex:<span class="number">1</span>, <span class="comment">// å½“å‰é¡µæ•°</span></span><br><span class="line">            pageSize:<span class="number">5</span>,  <span class="comment">// æ¯é¡µæ•°æ®æ¡æ•°</span></span><br><span class="line">            loading:<span class="literal">false</span>,  <span class="comment">// å½“å‰æ˜¯å¦åœ¨åŠ è½½ä¸­</span></span><br><span class="line">            finished:<span class="literal">false</span>, <span class="comment">// æ˜¯å¦åŠ è½½å®Œæ¯•</span></span><br><span class="line">          &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">         <span class="comment">// åŠ è½½ç›¸åº”çš„æ–‡ç« æ•°æ®</span></span><br><span class="line">        <span class="built_in">this</span>.loadPost()</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;,</span><br></pre></td></tr></table></figure>
</li>
<li><p>åœ¨æ¯æ¬¡æ¿€æ´»è¯¥æ ç›®çš„æ—¶å€™ï¼Œåœ¨è·å–åˆ°ç›¸åº”çš„æ–‡ç« æ•°æ®æ—¶ï¼Œå°±å°†ç›¸åº”çš„æ–‡ç« æ•°æ®æ·»åŠ åˆ°ç›¸åº”çš„æ ç›®ç”Ÿæˆçš„ç©ºæ•°ç»„ <code>postList</code> ä¸­,å¦‚æœæœ‰æ–°çš„æ–‡ç« å°±å°†æ–°çš„æ•°æ®æ‹¼æ¥åœ¨ä¹‹å‰çš„æ•°æ®åé¢</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">loadPost()&#123;</span><br><span class="line">      <span class="built_in">this</span>.$axios(&#123;</span><br><span class="line">        url:<span class="string">&#x27;/post&#x27;</span>,</span><br><span class="line">        params:&#123;</span><br><span class="line">          <span class="comment">// ä¼ å…¥æ–‡ç« åˆ†ç±»çš„id</span></span><br><span class="line">          category:<span class="built_in">this</span>.curCate.id,</span><br><span class="line">          pageIndex:<span class="built_in">this</span>.curCate.pageIndex, <span class="comment">// å½“å‰é¡µæ•°</span></span><br><span class="line">          pageSize:<span class="built_in">this</span>.curCate.pageSize, </span><br><span class="line">        &#125;</span><br><span class="line">      &#125;).then(<span class="function"><span class="params">res</span> =&gt;</span>&#123;</span><br><span class="line">        <span class="comment">// å°†è·å–åˆ°çš„æ–‡ç« åˆ—è¡¨æ·»åŠ åˆ°æ–‡ç« åˆ†ç±»ä¸­å¯¹åº”çš„ä½ç½®ä¸­å»</span></span><br><span class="line">        <span class="built_in">this</span>.curCate.postList = [</span><br><span class="line">          ...this.curCate.postList,</span><br><span class="line">          ...res.data.data</span><br><span class="line">        ]</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;,</span><br></pre></td></tr></table></figure>
</li>
<li><p>åœ¨æˆ‘ä»¬ç›‘å¬åˆ°äº†åˆ†ç±»æ ç›®å‘ç”Ÿå˜åŒ–çš„æ—¶å€™ï¼Œæˆ‘ä»¬è¦è¿›è¡Œç›¸åº”çš„åˆ¤æ–­ï¼Œå½“å‰æ ç›®åˆ†ç±»çš„ <code>postList</code> æ˜¯å¦å­˜åœ¨æ–‡ç« åˆ—è¡¨æ•°æ®ï¼Œè‹¥æ˜¯ä¸å­˜åœ¨ï¼Œå†å‘é€è¯·æ±‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">activeIndex()&#123;</span><br><span class="line">       <span class="comment">// è¿™é‡Œæ£€æµ‹åˆ°åˆ†ç±»åˆ‡æ¢ï¼ŒåŠ è½½æ–°åˆ†ç±»æ•°æ®</span></span><br><span class="line">        <span class="comment">// ä½†æ˜¯ï¼Œç”±äºæˆ‘ä»¬å·²ç»åˆ†æ ç›®ç®¡ç†æ•°æ®äº†</span></span><br><span class="line">        <span class="comment">// åªæœ‰æ–‡ç« ä¸å­˜åœ¨æ—¶æ‰ä¼šå‘é€è¯·æ±‚è·å–æ–‡ç« åˆ—è¡¨</span></span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">this</span>.curCate.postList.length == <span class="number">0</span>)&#123;</span><br><span class="line">          <span class="built_in">this</span>.loadPost()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·ï¼Œæˆ‘ä»¬å°±å¯ä»¥è¾¾åˆ°æˆ‘ä»¬è¦çš„æ•ˆæœäº†ğŸ¤­</p>
</li>
</ol>
<h4 id="å°ç»“-1"><a href="#å°ç»“-1" class="headerlink" title="å°ç»“"></a>å°ç»“</h4><p>å…¶å®è¿™ä¸ªåœ¨å®Œæˆé¡¹ç›®å®Œæˆä¹‹åï¼Œå›è¿‡å¤´æ¥çœ‹å°±è§‰å¾—ä¹Ÿä¸æ˜¯å¾ˆéš¾ï¼Œä¸»è¦æ˜¯æ•°æ®æœ‰ç‚¹å¤æ‚ï¼Œä¸€å±‚å¥—ä¸€å±‚ï¼Œåˆšå¼€å§‹æ•²çš„æ—¶å€™å¾ˆéš¾ç†æ¸…æ¥šã€‚ç´¢æ€§æœ€åè¿˜æ˜¯ç†æ¸…æ¥šäº†ğŸ¤­</p>
<h3 id="é€’å½’ç»„ä»¶å®ç°è¯„è®ºæ¨¡å—"><a href="#é€’å½’ç»„ä»¶å®ç°è¯„è®ºæ¨¡å—" class="headerlink" title="é€’å½’ç»„ä»¶å®ç°è¯„è®ºæ¨¡å—"></a>é€’å½’ç»„ä»¶å®ç°è¯„è®ºæ¨¡å—</h3><p>è¯´èµ·é€’å½’ç»„ä»¶ï¼Œå¯¹äºä¸€ä¸ªåˆå­¦è€…è¿˜æ˜¯æœ‰ä¸€å®šçš„å¨æ…‘åŠ›çš„ğŸ˜œï¼Œè¿™é‡Œä½œä¸ºå›é¡¾çš„è¯ï¼Œå°±æŠŠé€’å½’ä¹Ÿä¸€èµ·å¤ä¹ ä¸€ä¸‹å§</p>
<h4 id="ä»€ä¹ˆæ˜¯é€’å½’"><a href="#ä»€ä¹ˆæ˜¯é€’å½’" class="headerlink" title="ä»€ä¹ˆæ˜¯é€’å½’"></a>ä»€ä¹ˆæ˜¯é€’å½’</h4><p>é€’å½’å°±æ˜¯ä¸€ä¸ªå‡½æ•°ç›´æ¥æˆ–é—´æ¥çš„è°ƒç”¨è‡ªå·±ï¼Œæˆ‘ä»¬åœ¨ä½¿ç”¨çš„æ—¶å€™ä¸€å®šè¦è®©å®ƒèƒ½å¤Ÿåœä¸‹æ¥ï¼Œå¦åˆ™åœä¸ä¸‹æ¥çš„è¯ä¼šå‡ºäº‹å–”ğŸ¤­</p>
<h4 id="ä»€ä¹ˆæ˜¯é€’å½’ç»„ä»¶"><a href="#ä»€ä¹ˆæ˜¯é€’å½’ç»„ä»¶" class="headerlink" title="ä»€ä¹ˆæ˜¯é€’å½’ç»„ä»¶"></a>ä»€ä¹ˆæ˜¯é€’å½’ç»„ä»¶</h4><p>å…¶å®é€’å½’ç»„ä»¶è·Ÿé€’å½’æ˜¯å·®ä¸å¤šçš„ï¼Œåªæ˜¯é€’å½’æ˜¯å‡½æ•°è‡ªèº«çš„è°ƒç”¨ï¼Œè€Œé€’å½’ç»„ä»¶åˆ™æ˜¯ç»„ä»¶åœ¨æ»¡è¶³ä¸€å®šçš„æ¡ä»¶ä¸‹ç»„ä»¶å†…éƒ¨è°ƒç”¨è‡ªèº«ï¼Œè¯ä¸å¤šè¯´ï¼Œç›´æ¥ä¸Šä»£ç ğŸ‘‡</p>
<p><img src="https://pic.downk.cc/item/5f8a42251cd1bbb86bec0247.png"></p>
<p><img src="https://pic.downk.cc/item/5f8a42431cd1bbb86bec089a.png"></p>
<h4 id="åˆ†ææ€è·¯"><a href="#åˆ†ææ€è·¯" class="headerlink" title="åˆ†ææ€è·¯"></a>åˆ†ææ€è·¯</h4><p>è¿™æ˜¯æˆ‘ä»¬ä»æœåŠ¡å™¨æ‹¿åˆ°çš„æ•°æ®è¿˜æœ‰æˆ‘ä»¬è¦å®ç°çš„æ ·å¼ï¼Œä¸€ä¸ªè¯„è®ºé‡Œé¢è¿˜æœ‰å¯èƒ½åœ¨åµŒå¥—å¤šä¸€ä¸ªè¯„è®ºæ•°æ® <code>parent</code> ã€‚æ‰€ä»¥æˆ‘ä»¬çš„é€’å½’ç»„ä»¶çš„æ¡ä»¶ä¾¿æ˜¯è¿™ä¸ª <code>parent</code> æ˜¯å¦å­˜åœ¨ï¼Œåˆè€ƒè™‘åˆ°è¿™ä¸ªæœ€å¤–éƒ¨çš„ä¸»è¯„è®ºçš„æ ·å¼ä¸­è¿˜åŒ…æ‹¬äº†å…¶ä»–çš„ä¸€äº›æ ·å¼ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿™é‡Œå°±åˆ›å»ºäº†ä¸¤ä¸ªç»„ä»¶ï¼Œä¸€ä¸ªçˆ¶ç»„ä»¶ç¼–å†™æœ€å¤–å±‚çš„ä¸»è¯„è®ºï¼Œå­ç»„ä»¶æ¥å®Œæˆè¯„è®ºå†…éƒ¨çš„é€’å½’ç»„ä»¶ã€‚çˆ¶ç»„ä»¶ä¸­åµŒå¥—å­ç»„ä»¶ï¼Œæ¥å®Œæˆæˆ‘ä»¬çš„è¯„è®ºåˆ—è¡¨çš„æ¸²æŸ“</p>
<p>å­ç»„ä»¶ç»“æ„å¦‚ä¸‹ğŸ‘‡</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;parentWrapper&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">Parent</span> <span class="attr">v-if</span>=<span class="string">&quot;parentData.parent&quot;</span> <span class="attr">:parentData</span>=<span class="string">&quot;parentData.parent&quot;</span> /&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;info&quot;</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;name&quot;</span>&gt;</span>&#123;&#123; parentData.user.nickname &#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;date&quot;</span>&gt;</span>3å°æ—¶å‰<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;btnReply&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;headleClick&quot;</span>&gt;</span>å›å¤<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;ParentContent&quot;</span>&gt;</span></span><br><span class="line">              &#123;&#123; parentData.content &#125;&#125;</span><br><span class="line">		  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>æ³¨æ„ç‚¹</strong></p>
<p>ç»„ä»¶å†…éƒ¨è°ƒç”¨è‡ªèº«ï¼Œè¦è®°å¾—ç»™è‡ªèº«è®¾ç½® <code>name</code> å±æ€§</p>
<h3 id="äº‹ä»¶æ€»çº¿EventBus"><a href="#äº‹ä»¶æ€»çº¿EventBus" class="headerlink" title="äº‹ä»¶æ€»çº¿EventBus"></a>äº‹ä»¶æ€»çº¿EventBus</h3><h4 id="æ¦‚è¿°ï¼š"><a href="#æ¦‚è¿°ï¼š" class="headerlink" title="æ¦‚è¿°ï¼š"></a>æ¦‚è¿°ï¼š</h4><p>åœ¨Vueä¸­å¯ä»¥ä½¿ç”¨Â <code>EventBus</code>Â æ¥ä½œä¸ºæ²Ÿé€šæ¡¥æ¢çš„æ¦‚å¿µï¼Œå°±åƒæ˜¯æ‰€æœ‰ç»„ä»¶å…±ç”¨ç›¸åŒçš„äº‹ä»¶ä¸­å¿ƒï¼Œå¯ä»¥å‘è¯¥ä¸­å¿ƒæ³¨å†Œå‘é€äº‹ä»¶æˆ–æ¥æ”¶äº‹ä»¶ï¼Œæ‰€ä»¥ç»„ä»¶éƒ½å¯ä»¥ä¸Šä¸‹å¹³è¡Œåœ°é€šçŸ¥å…¶ä»–ç»„ä»¶ï¼Œä½†ä¹Ÿå°±æ˜¯å¤ªæ–¹ä¾¿æ‰€ä»¥è‹¥ä½¿ç”¨ä¸æ…ï¼Œå°±ä¼šé€ æˆéš¾ä»¥ç»´æŠ¤çš„ç¾éš¾ï¼Œå› æ­¤æ‰éœ€è¦æ›´å®Œå–„çš„Vuexä½œä¸ºçŠ¶æ€ç®¡ç†ä¸­å¿ƒï¼Œå°†é€šçŸ¥çš„æ¦‚å¿µä¸Šå‡åˆ°å…±äº«çŠ¶æ€å±‚æ¬¡ </p>
<h4 id="ä½¿ç”¨èƒŒæ™¯-3"><a href="#ä½¿ç”¨èƒŒæ™¯-3" class="headerlink" title="ä½¿ç”¨èƒŒæ™¯"></a>ä½¿ç”¨èƒŒæ™¯</h4><p>ç”±äºé€’å½’ç»„ä»¶çš„å¤šå±‚åµŒå¥—ï¼Œæˆ‘ä»¬åœ¨å®Œæˆè¯„è®ºçš„å‘å¸ƒåŠŸèƒ½çš„æ—¶å€™ä¼ é€’æ•°æ®å’Œå“åº”äº‹ä»¶å°±æ˜¾çš„ç‰¹åˆ«éº»çƒ¦ï¼Œä½†æ˜¯è¿™ä¸ªæ—¶å€™æˆ‘è¿˜æ²¡æœ‰å­¦ä¹ vuexï¼Œæ‰€ä»¥å°±ä½¿ç”¨åˆ°äº†äº‹ä»¶æ€»çº¿ <code>EventBus</code> </p>
<h4 id="ä½¿ç”¨æ–¹æ³•-3"><a href="#ä½¿ç”¨æ–¹æ³•-3" class="headerlink" title="ä½¿ç”¨æ–¹æ³•"></a>ä½¿ç”¨æ–¹æ³•</h4><ol>
<li>åˆ›å»ºäº‹ä»¶æ€»çº¿å¹¶å°†å…¶å¯¼å‡ºï¼Œä»¥ä¾¿å…¶å®ƒæ¨¡å—å¯ä»¥ä½¿ç”¨æˆ–è€…ç›‘å¬å®ƒã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸¤ç§æ–¹å¼æ¥å®ç°ã€‚å…ˆæ¥çœ‹ç¬¬ä¸€ç§ï¼Œæ–°åˆ›å»ºä¸€ä¸ªjsæ–‡ä»¶ï¼Œæ¯”å¦‚Â <code>eventBus.js</code> ,ç¬¬äºŒç§æ–¹æ³•å°±æ˜¯ç›´æ¥åœ¨ <code>main.js</code> æ–‡ä»¶ä¸­åˆå§‹åŒ– <code>eventBus</code></li>
</ol>
<p>   <code>ulit/eventBus.js</code></p>
   <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¿™é‡Œåˆ›å»ºä¸€ä¸ª vue å®ä¾‹</span></span><br><span class="line"><span class="comment">// ä½œä¸ºå…¬å…±äº‹ä»¶æ€»çº¿ eventBus</span></span><br><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">const</span> eventBus = <span class="keyword">new</span> Vue()</span><br><span class="line"><span class="comment">// å°†è¿™ä¸ªå®ä¾‹å¯¼å‡º</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> eventBus</span><br></pre></td></tr></table></figure>

<p>   <code>main.js</code></p>
   <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Vue.prototype.$EventBus = <span class="keyword">new</span> Vue()</span><br></pre></td></tr></table></figure>

<p>   è¿™ä¸¤ç§æ–¹æ³•ä»»é€‰ä¸€ç§å³å¯ï¼Œè¿™é‡Œæˆ‘ä½¿ç”¨çš„æ˜¯ç¬¬ä¸€ç§æ–¹æ³•ã€‚</p>
<ol start="2">
<li><p>æ¥ä¸‹æ¥å°±æ˜¯å‘é€äº‹ä»¶äº†ï¼Œæ¯”å¦‚æˆ‘ä»¬è¦åœ¨çˆ¶ç»„ä»¶ä¸Šç›‘å¬å­ç»„ä»¶ä¸­çš„æ¢å¤æŒ‰é’® <code>click</code> äº‹ä»¶ <code>headleClick</code> ,æˆ‘ä»¬éœ€è¦åœ¨å­ç»„ä»¶ä¸­å¼•å…¥æˆ‘ä»¬çš„äº‹ä»¶æ€»çº¿ï¼Œåœ¨é€šè¿‡æˆ‘ä»¬çš„ <code>eventBus.$emit()</code> ï¼Œå°†æˆ‘ä»¬çš„äº‹ä»¶å‘é€å‡ºå»</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> eventBus <span class="keyword">from</span> <span class="string">&#x27;../../utils/eventBus&#x27;</span>   <span class="comment">// å¼•å…¥æˆ‘ä»¬çš„äº‹ä»¶æ€»çº¿</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    methods:&#123;</span><br><span class="line">        headleClick()&#123;</span><br><span class="line">            <span class="comment">// callReplyä¸ºä¼ é€’è¿‡å»çš„äº‹ä»¶åï¼Œå¯ä»¥è‡ªå®šä¹‰ï¼Œthis.parentDataä¸ºä¼ é€’è¿‡å»çš„æ•°æ®</span></span><br><span class="line">            eventBus.$emit(<span class="string">&#x27;callReply&#x27;</span>, <span class="built_in">this</span>.parentData)</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>å†å°±æ˜¯åœ¨çˆ¶ç»„ä»¶ä¸­æ¥æ”¶äº‹ä»¶äº†ï¼Œæˆ‘ä»¬éœ€è¦åœ¨çˆ¶ç»„ä»¶ä¸­å¼•å…¥æˆ‘ä»¬çš„äº‹ä»¶æ€»çº¿ï¼Œåœ¨é€šè¿‡æˆ‘ä»¬çš„<code>eventBus.$on</code> æ¥ç›‘å¬äº‹ä»¶ï¼Œè¿™ä¸ªäº‹ä»¶å¯ä»¥æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªä¸ºè¦ç›‘å¬çš„æ—¶é—´åï¼Œä¹Ÿå°±æ˜¯å­ç»„ä»¶ä¼ é€’è¿‡æ¥çš„äº‹ä»¶åï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºä¸€ä¸ªå‡½æ•°ï¼Œå¯ä»¥æ¥æ”¶åˆ°å­ç»„ä»¶ä¼ é€’è¿‡æ¥çš„æ•°æ®ï¼Œç„¶åå†å‡½æ•°å†…éƒ¨å¤„ç†ç›¸å…³çš„ä¸šåŠ¡é€»è¾‘å°±å¯ä»¥äº†</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">created()&#123;</span><br><span class="line">       <span class="comment">// å¯ä»¥ç›‘å¬è¿™ä¸ªå®ä¾‹è§¦å‘çš„æ—¶é—´</span></span><br><span class="line">       <span class="comment">// æœ‰ä¸¤ä¸ªå‚æ•°</span></span><br><span class="line">       <span class="comment">// ä¸€ä¸ªäº‹ä»¶å</span></span><br><span class="line">       <span class="comment">// å›è°ƒå‡½æ•°ï¼Œä¸€æ ·å¯ä»¥æ¥å—æ•°æ®</span></span><br><span class="line">       eventBus.$on(<span class="string">&#x27;callReply&#x27;</span>,<span class="function">(<span class="params">comment</span>)=&gt;</span>&#123;</span><br><span class="line">		<span class="built_in">console</span>.log(comment)      </span><br><span class="line">           <span class="comment">// è¿™é‡Œæ‰“å°å‡ºæ¥çš„ç»“æœå°±æ˜¯å­ç»„ä»¶ä¼ é€’è¿‡æ¥çš„æ•°æ®ï¼Œthis.parentData</span></span><br><span class="line">       &#125;),</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æœ€åå½“ç„¶å°±æ˜¯åœ¨é¡µé¢é”€æ¯çš„æ—¶å€™é”€æ¯ç›‘å¬äº‹ä»¶äº†ğŸ˜ï¼Œå¤§å®¶éƒ½çŸ¥é“<code>vue</code>æ˜¯å•é¡µåº”ç”¨ï¼Œå¦‚æœä½ åœ¨æŸä¸€ä¸ªé¡µé¢åˆ·æ–°äº†ä¹‹åï¼Œä¸ä¹‹ç›¸å…³çš„<code>EventBus</code>ä¼šè¢«ç§»é™¤ï¼Œè¿™æ ·å°±å¯¼è‡´ä¸šåŠ¡èµ°ä¸ä¸‹å»ã€‚è¿˜è¦å°±æ˜¯å¦‚æœä¸šåŠ¡æœ‰åå¤æ“ä½œçš„é¡µé¢ï¼Œ<code>EventBus</code>åœ¨ç›‘å¬çš„æ—¶å€™å°±ä¼šè§¦å‘å¾ˆå¤šæ¬¡ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªéå¸¸å¤§çš„éšæ‚£ã€‚è¿™æ—¶å€™æˆ‘ä»¬å°±éœ€è¦å¥½å¥½å¤„ç†<code>EventBus</code>åœ¨é¡¹ç›®ä¸­çš„å…³ç³»ã€‚é€šå¸¸ä¼šç”¨åˆ°ï¼Œåœ¨<code>vue</code>é¡µé¢é”€æ¯æ—¶ï¼ŒåŒæ—¶ç§»é™¤<code>EventBus</code>äº‹ä»¶ç›‘å¬ã€‚æˆ‘ä»¬åªéœ€è¦åœ¨ç›‘å¬äº‹ä»¶çš„é¡µé¢ä¸Šæ·»åŠ ä¸‹é¢è¿™å‡ è¡Œä»£ç å°±å¯ä»¥äº†ğŸ‘‡</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">destroyed() &#123;</span><br><span class="line">    <span class="comment">// é”€æ¯æ—¶å–æ¶ˆç›‘å¬</span></span><br><span class="line">    eventBus.$off(<span class="string">&#x27;callReply&#x27;</span>)</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<p> è¿™æ ·ï¼Œæˆ‘ä»¬çš„æ•´ä¸ªäº‹ä»¶æ€»çº¿çš„ä½¿ç”¨å°±å¯ä»¥è¾¾åˆ°æˆ‘ä»¬æƒ³è¦çš„æ•ˆæœäº†ğŸ˜„</p>
</li>
</ol>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">æ–‡ç« ä½œè€…: </span><span class="post-copyright-info"><a href="mailto:caiyx0666@gmail.com">è”¡è‹±é›„</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">æ–‡ç« é“¾æ¥: </span><span class="post-copyright-info"><a href="http://caiyx0666.github.io/yxtoutiao/">http://caiyx0666.github.io/yxtoutiao/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">ç‰ˆæƒå£°æ˜: </span><span class="post-copyright-info">æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜æ¥è‡ª <a href="http://caiyx0666.github.io" target="_blank">è”¡è‹±é›„çš„ä¸ªäººåšå®¢ğŸ¤­</a>ï¼</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Vue-js/">Vue.js</a><a class="post-meta__tags" href="/tags/%E9%A1%B9%E7%9B%AE%E6%80%BB%E7%BB%93/">é¡¹ç›®æ€»ç»“</a></div><div class="post_share"><div class="social-share" data-image="https://s1.ax1x.com/2020/10/18/0OLw6S.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-full"><a href="/xingyue/"><img class="prev-cover" src="https://pic.downk.cc/item/5f9ba5991cd1bbb86b17f99a.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">ä¸Šä¸€ç¯‡</div><div class="prev_info">æ˜Ÿæœˆæ—…è¡Œé¡¹ç›®æ€»ç»“</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span> ç›¸å…³æ¨è</span></div><div class="relatedPosts-list"><div><a href="/xingyue/" title="æ˜Ÿæœˆæ—…è¡Œé¡¹ç›®æ€»ç»“"><img class="cover" src="https://pic.downk.cc/item/5f9ba5991cd1bbb86b17f99a.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-09-10</div><div class="title">æ˜Ÿæœˆæ—…è¡Œé¡¹ç›®æ€»ç»“</div></div></a></div><div><a href="/vueshengming/" title="ç†è§£Vueç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°"><img class="cover" src="https://images.pexels.com/photos/5870819/pexels-photo-5870819.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=500" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-09-22</div><div class="title">ç†è§£Vueç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> è¯„è®º</span></div></div><div class="comment-wrap"><div><div class="vcomment" id="vcomment"></div></div></div></div></div><div class="aside_content" id="aside_content"><div class="card-widget card-info"><div class="card-content"><div class="card-info-avatar is-center"><img class="avatar-img" src="https://pic.downk.cc/item/5f85574e1cd1bbb86ba5685e.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-info__name">è”¡è‹±é›„</div><div class="author-info__description">ä¸€åçˆ±å­¦ä¹ çš„webå‰ç«¯å·¥ç¨‹å¸ˆ</div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length_num">16</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length_num">10</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length_num">3</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/caiyx0666" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="/caiyx0666@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div></div><div class="card-widget card-announcement"><div class="card-content"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>å…¬å‘Š</span></div><div class="announcement_content">å¸Œæœ›è¿›æ¥çš„ä½ èƒ½å­¦åˆ°ä¸œè¥¿ğŸ˜</div></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="card-content"><div class="item-headline"><i class="fas fa-stream"></i><span>ç›®å½•</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%8B%B1%E9%9B%84%E5%A4%B4%E6%9D%A1%EF%BC%88%E7%A7%BB%E5%8A%A8%E7%AB%AF%EF%BC%89%E7%9A%84%E4%B8%80%E4%BA%9B%E6%84%9F%E6%82%9F"><span class="toc-number">1.</span> <span class="toc-text">è‹±é›„å¤´æ¡ï¼ˆç§»åŠ¨ç«¯ï¼‰çš„ä¸€äº›æ„Ÿæ‚Ÿ</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.1.</span> <span class="toc-text">é¡¹ç›®ä»‹ç»</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E5%8E%9F%E5%9E%8B"><span class="toc-number">1.1.1.</span> <span class="toc-text">é¡¹ç›®åŸå‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8A%80%E6%9C%AF%E6%A0%88"><span class="toc-number">1.1.2.</span> <span class="toc-text">æŠ€æœ¯æ ˆ</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E8%83%8C%E6%99%AF"><span class="toc-number">1.2.</span> <span class="toc-text">é¡¹ç›®èƒŒæ™¯</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">1.3.</span> <span class="toc-text">æ€»ç»“</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%86%99%E5%9C%A8%E5%89%8D%E9%9D%A2"><span class="toc-number">1.3.1.</span> <span class="toc-text">å†™åœ¨å‰é¢</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1%E5%AE%88%E5%8D%AB-%E5%AF%BC%E8%88%AA%E5%AE%88%E5%8D%AB"><span class="toc-number">1.3.2.</span> <span class="toc-text">è·¯ç”±å®ˆå«(å¯¼èˆªå®ˆå«)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E8%83%8C%E6%99%AF"><span class="toc-number">1.3.2.1.</span> <span class="toc-text">ä½¿ç”¨èƒŒæ™¯</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95"><span class="toc-number">1.3.2.2.</span> <span class="toc-text">ä½¿ç”¨æ–¹æ³•</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B0%8F%E7%BB%93"><span class="toc-number">1.3.2.3.</span> <span class="toc-text">å°ç»“:</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#axios%E8%AE%BE%E7%BD%AE%E9%BB%98%E8%AE%A4%E5%9F%BA%E5%87%86%E8%B7%AF%E5%BE%84"><span class="toc-number">1.3.3.</span> <span class="toc-text">axiosè®¾ç½®é»˜è®¤åŸºå‡†è·¯å¾„</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E8%83%8C%E6%99%AF-1"><span class="toc-number">1.3.3.1.</span> <span class="toc-text">ä½¿ç”¨èƒŒæ™¯</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95-1"><span class="toc-number">1.3.3.2.</span> <span class="toc-text">ä½¿ç”¨æ–¹æ³•</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#axios%E6%8B%A6%E6%88%AA%E5%99%A8"><span class="toc-number">1.3.4.</span> <span class="toc-text">axiosæ‹¦æˆªå™¨</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E8%83%8C%E6%99%AF-2"><span class="toc-number">1.3.4.1.</span> <span class="toc-text">ä½¿ç”¨èƒŒæ™¯</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95-2"><span class="toc-number">1.3.4.2.</span> <span class="toc-text">ä½¿ç”¨æ–¹æ³•</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%AF%B7%E6%B1%82%E6%8B%A6%E6%88%AA%E5%99%A8"><span class="toc-number">1.3.4.2.1.</span> <span class="toc-text">è¯·æ±‚æ‹¦æˆªå™¨</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%93%8D%E5%BA%94%E6%8B%A6%E6%88%AA%E5%99%A8"><span class="toc-number">1.3.4.2.2.</span> <span class="toc-text">å“åº”æ‹¦æˆªå™¨</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A6%96%E9%A1%B5Tab-%E6%A0%87%E7%AD%BE%E9%A1%B5%E5%92%8C%E6%96%87%E7%AB%A0%E7%BB%84%E4%BB%B6%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">1.3.5.</span> <span class="toc-text">é¦–é¡µTab æ ‡ç­¾é¡µå’Œæ–‡ç« ç»„ä»¶çš„ä½¿ç”¨</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%97%AE%E9%A2%98%E8%AF%B4%E6%98%8E"><span class="toc-number">1.3.5.1.</span> <span class="toc-text">é—®é¢˜è¯´æ˜</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B0%8F%E7%BB%93-1"><span class="toc-number">1.3.5.2.</span> <span class="toc-text">å°ç»“</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%92%E5%BD%92%E7%BB%84%E4%BB%B6%E5%AE%9E%E7%8E%B0%E8%AF%84%E8%AE%BA%E6%A8%A1%E5%9D%97"><span class="toc-number">1.3.6.</span> <span class="toc-text">é€’å½’ç»„ä»¶å®ç°è¯„è®ºæ¨¡å—</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E9%80%92%E5%BD%92"><span class="toc-number">1.3.6.1.</span> <span class="toc-text">ä»€ä¹ˆæ˜¯é€’å½’</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E9%80%92%E5%BD%92%E7%BB%84%E4%BB%B6"><span class="toc-number">1.3.6.2.</span> <span class="toc-text">ä»€ä¹ˆæ˜¯é€’å½’ç»„ä»¶</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%86%E6%9E%90%E6%80%9D%E8%B7%AF"><span class="toc-number">1.3.6.3.</span> <span class="toc-text">åˆ†ææ€è·¯</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8B%E4%BB%B6%E6%80%BB%E7%BA%BFEventBus"><span class="toc-number">1.3.7.</span> <span class="toc-text">äº‹ä»¶æ€»çº¿EventBus</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A6%82%E8%BF%B0%EF%BC%9A"><span class="toc-number">1.3.7.1.</span> <span class="toc-text">æ¦‚è¿°ï¼š</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E8%83%8C%E6%99%AF-3"><span class="toc-number">1.3.7.2.</span> <span class="toc-text">ä½¿ç”¨èƒŒæ™¯</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95-3"><span class="toc-number">1.3.7.3.</span> <span class="toc-text">ä½¿ç”¨æ–¹æ³•</span></a></li></ol></li></ol></li></ol></li></ol></div></div></div><div class="card-widget card-recent-post"><div class="card-content"><div class="item-headline"><i class="fas fa-history"></i><span>æœ€æ–°æ–‡ç« </span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/H5andC3/" title="æ•´ç†H5ã€CSS3æ–°å¢ç‰¹æ€§"><img src="http://pic.netbian.com/uploads/allimg/191121/224644-1574347604d36e.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="æ•´ç†H5ã€CSS3æ–°å¢ç‰¹æ€§"/></a><div class="content"><a class="title" href="/H5andC3/" title="æ•´ç†H5ã€CSS3æ–°å¢ç‰¹æ€§">æ•´ç†H5ã€CSS3æ–°å¢ç‰¹æ€§</a><time datetime="2020-12-07T09:11:37.000Z" title="å‘è¡¨äº 2020-12-07 17:11:37">2020-12-07</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/danwei/" title="è¿™ä¸€æ¬¡ï¼Œå½»åº•å¼„æ‡‚pxã€emã€remã€%ã€vwã€vhã€vm"><img src="http://pic.netbian.com/uploads/allimg/191121/224644-1574347604d36e.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="è¿™ä¸€æ¬¡ï¼Œå½»åº•å¼„æ‡‚pxã€emã€remã€%ã€vwã€vhã€vm"/></a><div class="content"><a class="title" href="/danwei/" title="è¿™ä¸€æ¬¡ï¼Œå½»åº•å¼„æ‡‚pxã€emã€remã€%ã€vwã€vhã€vm">è¿™ä¸€æ¬¡ï¼Œå½»åº•å¼„æ‡‚pxã€emã€remã€%ã€vwã€vhã€vm</a><time datetime="2020-12-04T12:20:11.000Z" title="å‘è¡¨äº 2020-12-04 20:20:11">2020-12-04</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/call-apply-bind/" title="æ‰‹åŠ¨å®ç°call-apply-bind"><img src="https://images.pexels.com/photos/5589173/pexels-photo-5589173.jpeg?auto=compress&amp;cs=tinysrgb&amp;dpr=2&amp;h=650&amp;w=940" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="æ‰‹åŠ¨å®ç°call-apply-bind"/></a><div class="content"><a class="title" href="/call-apply-bind/" title="æ‰‹åŠ¨å®ç°call-apply-bind">æ‰‹åŠ¨å®ç°call-apply-bind</a><time datetime="2020-12-02T03:55:19.000Z" title="å‘è¡¨äº 2020-12-02 11:55:19">2020-12-02</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/shouxie/" title="å‰ç«¯éœ€è¦æŒæ¡çš„æ‰‹å†™ä»£ç èƒ½åŠ›"><img src="https://images.pexels.com/photos/5583617/pexels-photo-5583617.jpeg?auto=compress&amp;cs=tinysrgb&amp;dpr=1&amp;w=500" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="å‰ç«¯éœ€è¦æŒæ¡çš„æ‰‹å†™ä»£ç èƒ½åŠ›"/></a><div class="content"><a class="title" href="/shouxie/" title="å‰ç«¯éœ€è¦æŒæ¡çš„æ‰‹å†™ä»£ç èƒ½åŠ›">å‰ç«¯éœ€è¦æŒæ¡çš„æ‰‹å†™ä»£ç èƒ½åŠ›</a><time datetime="2020-11-29T02:41:06.000Z" title="å‘è¡¨äº 2020-11-29 10:41:06">2020-11-29</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/tcp/" title="TCPä¸‰æ¬¡æ¡æ‰‹å››æ¬¡æŒ¥æ‰‹"><img src="https://images.pexels.com/photos/2058130/pexels-photo-2058130.jpeg?auto=compress&amp;cs=tinysrgb&amp;dpr=2&amp;h=650&amp;w=940" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="TCPä¸‰æ¬¡æ¡æ‰‹å››æ¬¡æŒ¥æ‰‹"/></a><div class="content"><a class="title" href="/tcp/" title="TCPä¸‰æ¬¡æ¡æ‰‹å››æ¬¡æŒ¥æ‰‹">TCPä¸‰æ¬¡æ¡æ‰‹å››æ¬¡æŒ¥æ‰‹</a><time datetime="2020-11-27T14:48:03.000Z" title="å‘è¡¨äº 2020-11-27 22:48:03">2020-11-27</time></div></div></div></div></div></div></div></main><footer id="footer" style="background-image: url(https://s1.ax1x.com/2020/10/18/0OLw6S.jpg)"><div id="footer-wrap"><div class="copyright">&copy;2020 By è”¡è‹±é›„</div><div class="framework-info"><span>æ¡†æ¶ </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>ä¸»é¢˜ </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><section id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="é˜…è¯»æ¨¡å¼"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="æµ…è‰²å’Œæ·±è‰²æ¨¡å¼è½¬æ¢"><i class="fas fa-adjust"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="è®¾ç½®"><i class="fas fa-cog"></i></button><a id="to_comment" href="#post-comment" title="ç›´è¾¾è¯„è®º"><i class="fas fa-comments"></i></a><button class="close" id="mobile-toc-button" type="button" title="ç›®å½•"><i class="fas fa-list-ul"></i></button><button id="chat_btn" type="button" title="rightside.chat_btn"><i class="fas fa-sms"></i></button><button id="go-up" type="button" title="å›åˆ°é¡¶éƒ¨"><i class="fas fa-arrow-up"></i></button></div></section><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">æœ¬åœ°æœç´¢</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="æœç´¢æ–‡ç« " type="text"/></div></div></div><hr/><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>ç”±</span> <a target="_blank" rel="noopener" href="https://github.com/wzpan/hexo-generator-search" style="color:#49B1F5;">hexo-generator-search</a>
 <span>æä¾›æ”¯æŒ</span></div></div></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div><div><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>function loadValine () {
  function initValine () {
    let initData = {
      el: '#vcomment',
      appId: 'vyMnEC42zlj9bwi74NhljaHQ-gzGzoHsz',
      appKey: 'ICjPjlTHE1glFFoPXAMqgM3Y',
      placeholder: 'Please leave your footprints',
      avatar: 'monsterid',
      meta: 'nick,mail,link'.split(','),
      pageSize: '10',
      lang: 'en',
      recordIP: false,
      serverURLs: '',
      emojiCDN: '',
      emojiMaps: "",
      enableQQ: false,
      path: window.location.pathname,
    }

    if (true) { 
      initData.requiredFields= ('nick,mail'.split(','))
    }
    
    if (false) {
      const otherData = false
      initData = Object.assign({}, initData, otherData)
    }
    
    const valine = new Valine(initData)
  }

  if (typeof Valine === 'function') initValine() 
  else $.getScript('https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js', initValine)
}

if ('Valine' === 'Valine' || !false) {
  if (false) btf.loadComment(document.querySelector('#vcomment'),loadValine)
  else setTimeout(() => loadValine(), 0)
} else {
  function loadOtherComment () {
    loadValine()
  }
}</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><div class="aplayer no-destroy" data-id="956985936" data-server="netease" data-type="playlist" data-fixed="true" data-mini="true" data-listFolded="false" data-order="random" data-preload="none" data-autoplay="true" muted></div><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="true"></script><script>(function(i,s,o,g,r,a,m){i["DaoVoiceObject"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset="utf-8";m.parentNode.insertBefore(a,m)})(window,document,"script",('https:' == document.location.protocol ? 'https:' : 'http:') + "//widget.daovoice.io/widget/e9e26bec.js","daovoice")
</script><script>var isChatBtn = true
daovoice('init', {
  app_id: 'e9e26bec',},{
  launcher: { 
     disableLauncherIcon: isChatBtn // æ‚¬æµ® ICON æ˜¯å¦æ˜¾ç¤º
  },
});
daovoice('update');

if (isChatBtn) {
  var chatBtnFn = () => {
    var chatBtn = document.getElementById("chat_btn")
    chatBtn.addEventListener("click", function(){
      daovoice('show')
    });
  }
  chatBtnFn()
} else {
  if (true) {
    function chatBtnHide () {
      daovoice('update', {},{
        launcher: { 
        disableLauncherIcon: true // æ‚¬æµ® ICON æ˜¯å¦æ˜¾ç¤º
        },
      });
    }
    function chatBtnShow () {
      daovoice('update', {},{
        launcher: { 
        disableLauncherIcon: false // æ‚¬æµ® ICON æ˜¯å¦æ˜¾ç¤º
        },
      });
    }
  }
}</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/gh/metowolf/MetingJS@1.2/dist/Meting.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors = [
  'title',
  '#config_change',
  '#body-wrap',
  '#rightside-config-hide',
  '#rightside-config-show',
  '.js-pjax'
]

if (false) {
  pjaxSelectors.unshift('meta[property="og:image"]', 'meta[property="og:title"]', 'meta[property="og:url"]')
}

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  $('script[data-pjax]').each(function () {
    $(this).parent().append($(this).remove())
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  if (typeof gtag === 'function') {
    gtag('config', '', {'page_path': window.location.pathname});
  }

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // Analytics
  if (false) {
    MtaH5.pgv()
  }

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()

  typeof preloader === 'object' && preloader.endLoading()
})


document.addEventListener('pjax:send', function () {
  typeof preloader === 'object' && preloader.initLoading()
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  $(window).off('scroll')

  //reset readmode
  $('body').hasClass('read-mode') && $('body').removeClass('read-mode')

})</script></div></body></html>